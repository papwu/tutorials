<!DOCTYPE html>
<html lang="en-US">
<head>
<title>Protractor - Quick Guide</title>
<meta charset="utf-8">
<meta name="description" content="Protractor - Quick Guide - This chapter gives you an introduction to Protractor, where you will learn about the origin of this testing framework and why you have to choose this, working a"/>
<meta name="keywords" content="C, C++, Python, Java, HTML, CSS, JavaScript, SQL, PHP, jQuery, XML, DOM, Bootstrap, Tutorials, Articles, Programming, training, learning, quiz, preferences, examples, code"/>
<link rel="canonical" href="https://www.tutorialspoint.com/protractor/protractor_quick_guide.htm" />
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=yes">
<script src="/theme/js/script-min-v2.js?v=3"></script>
<link rel="stylesheet" href="/theme/css/style-min-v2.css?v=6">
<script src="//services.bilsyndication.com/adv1/?d=901" defer="" async=""></script>
<script> var vitag = vitag || {};</script>
<script> vitag.outStreamConfig = { enablePC: false, enableMobile: false };</script>  
<style>
.right-menu .mui-btn {
    background-color:#e13438;
}
a.demo {
    background:#e13438;
}
li.heading {
    background:#e13438;
}
.course-box{background:#e13438}
.home-intro-sub p{color:#e13438}
</style>
</head>
<body>
<header id="header">
<!-- Top sub-menu Starts Here -->
<div class="mui-appbar mui-container-fulid top-menu">
<div class="mui-container">
<div class="top-menu-item home">
<a href="https://www.tutorialspoint.com/index.htm" target="_blank" title="TutorialsPoint - Home"><i class="fal fa-home"></i> <span>Home</span></a>
</div>
<div class="top-menu-item qa">
<a href="https://www.tutorialspoint.com/about/about_careers.htm" target="_blank" title="Job @ Tutorials Point"><i class="fa fa-suitcase"></i> <span>Jobs</span></a>
</div>
<div class="top-menu-item tools">
<a href="https://www.tutorialspoint.com/online_dev_tools.htm" target="_blank" title="Tools - Online Development and Testing Tools"><i class="fal fa-cogs"></i> <span>Tools</span></a>
</div>
<div class="top-menu-item coding-ground">
<a href="https://www.tutorialspoint.com/codingground.htm" target="_blank" title="Coding Ground - Free Online IDE and Terminal"><i class="fal fa-code"></i> <span>Coding Ground </span></a> 
</div>
<div class="top-menu-item current-affairs">
<a href="https://www.tutorialspoint.com/current_affairs.htm" target="_blank" title="Daily Current Affairs"><i class="fal fa-layer-plus"></i> <span>Current Affairs</span></a>
</div>
<div class="top-menu-item upsc-notes">
<a href="https://www.tutorialspoint.com/upsc_ias_exams.htm" target="_blank" title="UPSC IAS Exams Notes - TutorialsPoint"><i class="fal fa-user-tie"></i> <span>UPSC Notes</span></a>
</div>      
<div class="top-menu-item online-tutoris">
<a href="https://www.tutorialspoint.com/tutor_connect/index.php" target="_blank" title="Top Online Tutors - Tutor Connect"><i class="fal fa-user"></i> <span>Online Tutors</span></a>
</div>
<div class="top-menu-item whiteboard">
<a href="https://www.tutorialspoint.com/whiteboard.htm" target="_blank" title="Free Online Whiteboard"><i class="fal fa-chalkboard"></i> <span>Whiteboard</span></a>
</div>
<div class="top-menu-item net-meeting">
<a href="https://www.tutorialspoint.com/netmeeting.php" target="_blank" title="A free tool for online video conferencing"><i class="fal fa-chalkboard-teacher"></i> <span>Net Meeting</span></a> 
</div>
<div class="top-menu-item articles">
<a href="https://www.tutorix.com" target="_blank" title="Tutorx - The Best Learning App" rel="nofollow"><i class="fal fa-video"></i> <span>Tutorix</span></a> 
</div>        
<div class="social-menu-item">
<a href="https://www.facebook.com/tutorialspointindia" target="_blank" rel="nofollow" data-placement="bottom" title="tutorialspoint @ Facebook"><i class="fab fa-facebook-f"></i></a> 
<a href="https://www.twitter.com/tutorialspoint" target="_blank" rel="nofollow" data-placement="bottom" title="tutorialspoint @ Twitter"><i class="fab fa-twitter"></i></a>
<a href="https://www.linkedin.com/company/tutorialspoint" target="_blank" rel="nofollow" data-placement="bottom" title="tutorialspoint @ Linkedin"><i class="fab fa-linkedin-in"></i></a>
<a href="https://www.youtube.com/channel/UCVLbzhxVTiTLiVKeGV7WEBg" target="_blank" rel="nofollow" data-placement="bottom" title="tutorialspoint YouTube"><i class="fab fa-youtube"></i></a>
</div>        
</div>
</div>
<!-- Top sub-menu Ends Here -->
<!-- Top main-menu Starts Here -->
<div class="mui-appbar mui-container-fulid mui--appbar-line-height mui--z1" id="logo-menu">
<div class="mui-container">
<div class="left-menu">
<a href="https://www.tutorialspoint.com/index.htm" title="Tutorialspoint">
<img class="tp-logo" alt="tutorialspoint" src="/protractor/images/logo.png">
</a>
<div class="mui-dropdown">
<a class="mui-btn mui-btn--primary categories" data-mui-toggle="dropdown"><i class="fa fa-th-large"></i> 
<span>Categories <span class="mui-caret"></span></span></a>            
<ul class="mui-dropdown__menu cat-menu">
<li>
<ul>
<li><a href="/academic_tutorials.htm"><i class="fa fa-caret-right"></i> Academic Tutorials</a></li>
<li><a href="/big_data_tutorials.htm"><i class="fa fa-caret-right"></i> Big Data &amp; Analytics </a></li>
<li><a href="/computer_programming_tutorials.htm"><i class="fa fa-caret-right"></i> Computer Programming </a></li>
<li><a href="/computer_science_tutorials.htm"><i class="fa fa-caret-right"></i> Computer Science </a></li>
<li><a href="/database_tutorials.htm"><i class="fa fa-caret-right"></i> Databases </a></li>
<li><a href="/devops_tutorials.htm"><i class="fa fa-caret-right"></i> DevOps </a></li>
<li><a href="/digital_marketing_tutorials.htm"><i class="fa fa-caret-right"></i> Digital Marketing </a></li>
<li><a href="/engineering_tutorials.htm"><i class="fa fa-caret-right"></i> Engineering Tutorials </a></li>
<li><a href="/upsc_ias_exams.htm"><i class="fa fa-caret-right"></i> Exams Syllabus </a></li>
<li><a href="/famous_monuments.htm"><i class="fa fa-caret-right"></i> Famous Monuments </a></li>
<li><a href="/gate_exams_tutorials.htm"><i class="fa fa-caret-right"></i> GATE Exams Tutorials</a></li>
<li><a href="/latest_technologies.htm"><i class="fa fa-caret-right"></i> Latest Technologies </a></li>
<li><a href="/machine_learning_tutorials.htm"><i class="fa fa-caret-right"></i> Machine Learning </a></li>
<li><a href="/mainframe_tutorials.htm"><i class="fa fa-caret-right"></i> Mainframe Development </a></li>
<li><a href="/management_tutorials.htm"><i class="fa fa-caret-right"></i> Management Tutorials </a></li>
<li><a href="/maths_tutorials.htm"><i class="fa fa-caret-right"></i> Mathematics Tutorials</a></li>
<li><a href="/microsoft_technologies_tutorials.htm"><i class="fa fa-caret-right"></i> Microsoft Technologies </a></li>
<li><a href="/misc_tutorials.htm"><i class="fa fa-caret-right"></i> Misc tutorials </a></li>
<li><a href="/mobile_development_tutorials.htm"><i class="fa fa-caret-right"></i> Mobile Development </a></li>
<li><a href="/java_technology_tutorials.htm"><i class="fa fa-caret-right"></i> Java Technologies </a></li>
<li><a href="/python_technologies_tutorials.htm"><i class="fa fa-caret-right"></i> Python Technologies </a></li>
<li><a href="/sap_tutorials.htm"><i class="fa fa-caret-right"></i> SAP Tutorials </a></li>
<li><a href="/scripting_lnaguage_tutorials.htm"><i class="fa fa-caret-right"></i>Programming Scripts </a></li>
<li><a href="/selected_reading.htm"><i class="fa fa-caret-right"></i> Selected Reading </a></li>
<li><a href="/software_quality_tutorials.htm"><i class="fa fa-caret-right"></i> Software Quality </a></li>
<li><a href="/soft_skill_tutorials.htm"><i class="fa fa-caret-right"></i> Soft Skills </a></li>
<li><a href="/telecom_tutorials.htm"><i class="fa fa-caret-right"></i> Telecom Tutorials </a></li>
<li><a href="/upsc_ias_exams.htm"><i class="fa fa-caret-right"></i> UPSC IAS Exams </a></li>
<li><a href="/web_development_tutorials.htm"><i class="fa fa-caret-right"></i> Web Development </a></li>
<li><a href="/sports_tutorials.htm"><i class="fa fa-caret-right"></i> Sports Tutorials </a></li>
<li><a href="/xml_technologies_tutorials.htm"><i class="fa fa-caret-right"></i> XML Technologies </a></li>
<li><a href="/multi_language_tutorials.htm"><i class="fa fa-caret-right"></i> Multi-Language Tutorials</a></li>
<li><a href="/questions_and_answers.htm"><i class="fa fa-caret-right"></i> Interview Questions</a></li>
</ul>
</li>
</ul>
<div class="clear"></div>
</div> 
</div>
<div class="right-menu">
<div class="toc-toggle">
<a href="javascript:void(0);"><i class="fa fa-bars"></i></a>
</div>
<div class="mobile-search-btn">
<a href="https://www.tutorialspoint.com/search.htm"><i class="fal fa-search"></i></a>
</div>
<div class="search-box">
<form method="get" class="" name="searchform" action="https://www.google.com/search" target="_blank" novalidate="">
<input type="hidden" name="sitesearch" value="www.tutorialspoint.com" class="user-valid valid">
<input class="header-search-box" type="text" id="search-string" name="q" placeholder="Search your favorite tutorials..." onfocus="if (this.value == 'Search your favorite tutorials...') {this.value = '';}" onblur="if (this.value == '') {this.value = 'Search your favorite tutorials...';}" autocomplete="off">
<button><i class="fal fa-search"></i></button>
</form>
</div>
<div class="menu-btn library-btn">
<a href="https://www.tutorialspoint.com/tutorialslibrary.htm"><i class="fal fa-cubes"></i> <span>Library</span></a>
</div>
<div class="menu-btn videos-btn">
<a href="https://www.tutorialspoint.com/videotutorials/index.htm"><i class="fal fa-video"></i> <span>Videos</span></a> 
</div>
<div class="menu-btn videos-btn">
<a href="https://www.tutorialspoint.com/questions/index.php"><i class="fa fa-location-arrow"></i> <span>Q/A</span></a>
</div>
<div class="menu-btn ebooks-btn">
<a href="https://store.tutorialspoint.com"><i class="fal fa-book"></i> <span>eBooks</span></a>
</div>
<div class="mui-dropdown">
<button class="mui-btn mui-btn--primary" data-mui-toggle="dropdown">
<span class="mui-caret"></span>
</button>
<ul class="mui-dropdown__menu">
<li><a href="https://www.tutorialspoint.com/tutorialslibrary.htm"><i class="fal fa-cubes"></i> <span>Library</span></a></li>
<li><a href="https://www.tutorialspoint.com/videotutorials/index.htm"><i class="fal fa-video"></i> <span>Videos</span></a></li>
<li><a href="https://store.tutorialspoint.com"><i class="fal fa-book"></i> <span>eBooks</span></a></li>
</ul>
</div>
</div>
</div>
</div>
<!-- Top main-menu Ends Here -->
</header>
<div class="mui-container-fluid content">
<div class="mui-container">
<!-- Tutorial ToC Starts Here -->
<div class="mui-col-md-3 tutorial-toc">
<div class="mini-logo">
<img src="/protractor/images/protractor-mini-logo.jpg" alt="Protractor Tutorial" />
</div>
<ul class="toc chapters" >
<li class="heading">Protractor Tutorial</li>
<li><a href="/protractor/index.htm">Protractor - Home</a></li>
<li><a href="/protractor/protractor_introduction.htm">Protractor - Introduction</a></li>
<li><a href="/protractor/protractor_concepts_of_javascript_testing.htm">Concepts of Javascript Testing</a></li>
<li><a href="/protractor/protractor_getting_started.htm">Protractor - Getting Started</a></li>
<li><a href="/protractor/protractor_and_selenium_server.htm">Protractor and Selenium Server</a></li>
<li><a href="/protractor/protractor_writing_the_first_test.htm">Protractor - Writing the First Test</a></li>
<li><a href="/protractor/protractor_core_apis.htm">Protractor - Core APIs</a></li>
<li><a href="/protractor/protractor_elements_api.htm">Protractor - Core APIs(Contd..)</a></li>
<li><a href="/protractor/protractor_objects.htm">Protractor - Objects</a></li>
<li><a href="/protractor/protractor_debugging.htm">Protractor - Debugging</a></li>
<li><a href="/protractor/protractor_style_guide.htm">Protractor - Style Guide for Protractor</a></li>
<li class="heading">Protractor Useful Resources</li>
<li><a href="/protractor/protractor_quick_guide.htm">Protractor - Quick Guide</a></li>
<li><a href="/protractor/protractor_useful_resources.htm">Protractor - Useful Resources</a></li>
<li><a href="/protractor/protractor_discussion.htm">Protractor - Discussion</a></li>
</ul>
<ul class="toc reading">
<li class="sreading">Selected Reading</li>
<li><a target="_top" href="/upsc_ias_exams.htm">UPSC IAS Exams Notes</a></li>
<li><a target="_top" href="/developers_best_practices/index.htm">Developer's Best Practices</a></li>
<li><a target="_top" href="/questions_and_answers.htm">Questions and Answers</a></li>
<li><a target="_top" href="/effective_resume_writing.htm">Effective Resume Writing</a></li>
<li><a target="_top" href="/hr_interview_questions/index.htm">HR Interview Questions</a></li>
<li><a target="_top" href="/computer_glossary.htm">Computer Glossary</a></li>
<li><a target="_top" href="/computer_whoiswho.htm">Who is Who</a></li>
</ul>
</div>
<!-- Tutorial ToC Ends Here -->
<!-- Tutorial Content Starts Here -->
<div class="mui-col-md-6 tutorial-content">
<h1>Protractor - Quick Guide</h1>
<hr />
<div class="top-ad-heading">Advertisements</div>
<div style="text-align: center;">
<script><!--
google_ad_client = "pub-7133395778201029";
var width = document.getElementsByClassName("tutorial-content")[0].clientWidth - 40;
google_ad_width = width;
google_ad_height = 150;
google_ad_format = width + "x150_as";
google_ad_type = "image";
google_ad_channel = "";
//--></script>
<script src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>
<div class="mui-container-fluid button-borders">
<div class="pre-btn">
<a href="/protractor/protractor_style_guide.htm"><i class="fal fa-chevron-circle-left"></i> Previous Page</a>
</div>
<div class="nxt-btn">
<a href="/protractor/protractor_useful_resources.htm">Next Page <i class="fal fa-chevron-circle-right"></i>&nbsp;</a>
</div>
</div>
<div class="clearer"></div>
<h1>Protractor - Introduction</h1>
<p>This chapter gives you an introduction to Protractor, where you will learn about the origin of this testing framework and why you have to choose this, working and limitations of this tool.</p>
<h2>What is Protractor?</h2>
<p>Protractor is an open source end-to-end testing framework for Angular and AngularJS applications. It was built by Google on the top of WebDriver. It also serves as a replacement for the existing AngularJS E2E testing framework called “Angular Scenario Runner”.</p>
<p>It also works as a solution integrator that combines powerful technologies such as NodeJS, Selenium, Jasmine, WebDriver, Cucumber, Mocha etc. Along with testing of AngularJS application, it also writes automated regression tests for normal web applications. It allows us to test our application just like a real user because it runs the test using an actual browser.</p>
<p>The following diagram will give a brief overview of Protractor &minus;</p>
<img src="/protractor/images/overview_of_protractor.jpg" alt="Overview of Protractor" />
<p>Observe that in the above diagram, we have &minus;</p>
<ul class="list">
<li><p><b>Protractor</b> &minus; As discussed earlier, it is a wrapper over WebDriver JS especially designed for angular apps.</p></li>
<li><p><b>Jasmine</b> &minus; It is basically a behavior-driven development framework for testing the JavaScript code. We can write the tests easily with Jasmine.</p></li>
<li><p><b>WebDriver JS</b> &minus; It is a Node JS bindings implementation for selenium 2.0/WebDriver.</p></li>
<li><p><b>Selenium</b> &minus; It simply automates the browser.</p></li>
</ul>
<h2>Origin</h2>
<p>As said earlier, Protractor is a replacement for the existing AngularJS E2E testing framework called “Angular Scenario Runner”. Basically, the origin of Protractor starts with the end of Scenario Runner. A question that arises here is why do we need to build Protractor? To understand this, we first need to check about its predecessor - Scenario Runner.</p>
<h3>Protractor’s Inception</h3>
<p>Julie Ralph, the prime contributor to the development of Protractor, had the following experience with Angular Scenario Runner on other project within Google. This further became the motivation to build Protractor, specially to fill the gaps &minus;</p>
<p><i>“We tried using Scenario Runner and we found that it really just couldn’t do the things that we needed to test. We needed to test things like logging in. Your login page is not an Angular page, and the Scenario Runner couldn’t deal with that. And it couldn’t deal with things like popups and multiple windows, navigating the browser history, stuff like that.”</i></p>
<p>The biggest advantage to the Protractor was the maturity of Selenium project and it wraps up its methods so that it can be easily used for Angular projects. The design of Protractor is built in such a way that it tests all layers such that web UI, backend services, persistence layer and so on of an application.</p>
<h2>Why Protractor?</h2>
<p>As we know that almost all the applications are using JavaScript for development. The task of testers becomes difficult when JavaScript increases in size and becomes complex for applications due to the increasing number of the applications itself. Most of the times it becomes very difficult to capture the web elements in AngularJS applications, uses extended HTML syntax to express web application components, by using JUnit or Selenium WebDriver.</p>
<p>The question here is that why Selenium Web Driver is not able to find AngularJS web elements? The reason is because AngularJS applications are having some extended HTML attributes like ng-repeater, ng-controller and ng-model etc. which are not included in Selenium locators.</p>
<p>Here, the importance of Protractor comes into existence because Protractor on the top of Selenium can handle and control those extended HTML elements in AngularJS web applications. That is why we can say that most of the frameworks focus on conducting unit tests for AngularJS applications, Protractor used to do testing of the actual functionality of an application.</p>
<h2>Working of Protractor</h2>
<p>Protractor, the testing framework, works in conjunction with Selenium to provide an automated test infrastructure for simulating a user’s interaction with an AngularJS application that is running in browser or mobile device.</p>
<p>The working of Protractor can be understood with the help of following steps &minus;</p>
<ul class="list">
<li><p><b>Step 1</b> &minus; In the first step, we need to write the tests. It can be done with the help of Jasmine or Mocha or Cucumber.</p></li>
<li><p><b>Step 2</b> &minus; Now, we need to run the test which can be done with the help of Protractor. It is also called test runner.</p></li>
<li><p><b>Step 3</b> &minus; In this step, Selenium server will help to manage the browsers.</p></li>
<li><p><b>Step 4</b> &minus; At last, the browser APIs are invoked with the help of Selenium WebDriver.</p></li>
</ul>
<img src="/protractor/images/working_of_protractor.jpg" alt="Working of Protractor" />
<h2>Advantages</h2>
<p>This open source end-to-end testing framework offers the following advantages &minus;</p>
<ul class="list">
<li><p>An open source tool, Protractor is very easy to install and setup.</p></li>
<li><p>Works well with Jasmine framework to create the test.</p></li>
<li><p>Supports test driven development (TDD).</p></li>
<li><p>Contains automatic waits which means we do not need to explicitly add waits and sleeps to our test.</p></li>
<li><p>Offers all the advantages of Selenium WebDriver.</p></li>
<li><p>Supports parallel testing through multiple browsers.</p></li>
<li><p>Provides the benefit of auto-synchronization.</p></li>
<li><p>Has excellent testing speed.</p></li>
</ul>
<h2>Limitations</h2>
<p>This open source end-to-end testing framework possesses the following limitations &minus;</p>
<ul class="list">
<li><p>Does not uncover any verticals in browser automation because it is a wrapper for WebDriver JS.</p></li>
<li><p>Knowledge of JavaScript is essential for the user, because it is available only for JavaScript.</p></li>
<li><p>Only provides front-end testing because it is a UI driven testing tool.</p></li>
</ul>
<h1>Protractor - Concepts of Javascript Testing</h1>
<p>Since the knowledge of JavaScript is essential for working with Protractor, in this chapter, let us understand the concepts of JavaScript testing in detail.</p>
<h2>JavaScript Testing and Automation</h2>
<p>JavaScript is the most popular dynamically typed and interpreted scripting language, but the most challenging task is to test the code. It is because, unlike other compiled languages like JAVA, and C++, there are no compilation steps in JavaScript that can help the tester to figure out errors. Besides, browser-based testing is very time consuming; hence there is a necessity for tools that support automated testing for JavaScript.</p>
<h2>Concepts of Automated Testing</h2>
<p>It is always a good practice to write the test because it makes the code better; the issue with manual testing is that it is a bit time consuming and error prone. The process of manual testing is quite boring for programmer too as they need to repeat the process, writing test specs, change the code and refresh the browser several times. Besides, manual testing also slows down the development process.</p>
<p>Due to the above reasons, it is always useful to have some tools that can automate these tests and help programmers to get rid of these repetitive and boring steps. What should a developer do to make the testing process automated?</p>
<p>Basically, a developer can implement the tool set in the CLI (Command Line Interpreter) or in the development IDE (Integrated development environment). Then, these tests will run continuously in a separate process even without the input from the developer. Automated testing of JavaScript is also not new and lots of tools like Karma, Protractor, CasperJS etc. have been developed.</p>
<h2>Types of Testing for JavaScript</h2>
<p>There can be different tests for different purposes. For example, some tests are written to check the behavior of functions in a program, while some other are written to test the flow of a module or feature. Thus, we have the following two types of testing &minus;</p>
<h3>Unit Testing</h3>
<p>The testing is done on the smallest testable part of the program called unit. The unit is basically tested in isolation without any kind of dependency of that unit on the other parts. In case of JavaScript, the individual method or function having a specific behavior can be a unit of code and these units of code must be tested in an isolated way.</p>
<p>One of the advantages of unit testing is that the testing of units can be done in any order because the units are independent of each other. Another advantage of unit testing which really counts is that it can run the test at any time as follows &minus;</p>
<ul class="list">
<li>From the very beginning of the development process.</li>
<li>After completing the development of any module/feature.</li>
<li>After modifying any module/feature.</li>
<li>After adding any new feature in the existing application.</li>
</ul>
<p>For automated unit testing of JavaScript applications, we can choose from many testing tools and frameworks such as Mocha, Jasmine and QUnit.</p>
<h3>End-to-End Testing</h3>
<p>It may be defined as the testing methodology used to test whether the flow of the application from start to finish (from one end to another end) is working fine as per design.</p>
<p>End-to-end testing is also called function/flow testing. Unlike unit testing, end-to-end testing tests how individual components work together as an application. This is the main difference between unit testing and end-to-end testing.</p>
<p>For example, suppose if we have a registration module where the user needs to provide some valid information to complete the registration then the E2E testing for that particular module will follow following steps to complete the testing &minus;</p>
<ul class="list">
<li>First, it will load/compile the form or module.</li>
<li>Now, it will get the DOM (Document object model) of the form’s elements.</li>
<li>Next, trigger the click event of the submit button for checking if it is working or not.</li>
<li>Now, for validation purpose collect the value from the input fields.</li>
<li>Next, the input fields should be validated.</li>
<li>For testing purpose, call a fake API to store the data.</li>
</ul>
<p>Every step gives its own results which will be compared with the expected result set.</p>
<p>Now, the question that arises is, while this kind of E2E or functional testing can be performed manually also, why we need automation for this? The main reason is that automation will make this test process easy. Some of the available tools that can be easily integrate with any application, for this purpose are Selenium, PhantomJS and Protractor.</p>
<h2>Testing Tools &amp; Frameworks</h2>
<p>We have various testing tools and frameworks for Angular testing. The following are some of the well-known tools and frameworks &minus;</p>
<h2>Karma</h2>
<p>Karma, created by Vojta Jina, is a test runner. Originally this project was called Testacular. It is not a test framework, which means that it gives us the ability to easily and automatically run JavaScript unit tests on real browsers. Karma was built for AngularJS because before Karma there was no automated testing tool for web-based JavaScript developers. On the other hand, with the automation provided by Karma, developers can run a simple single command and determine whether an entire test suite has passed or failed.</p>
<h3>Pros of using Karma</h3>
<p>The following are some pros of using Karma in comparison to the manual process &minus;</p>
<ul class="list">
<li>Automates tests in multiple browsers as well as devices.</li>
<li>Monitors files for errors and fixes them.</li>
<li>Provides online support and documentation.</li>
<li>Eases the integration with a continuous integration server.</li>
</ul>
<h3>Cons of Using Karma</h3>
<p>The followings are some cons of using Karma &minus;</p>
<p>The main disadvantage of using Karma is that it requires an additional tool to configure and maintain.</p>
<p>If you are using Karma test runner with Jasmine, then less documentation is available for finding information about setting up your CSS in the case of having multiple ids for one element.</p>
<h2>Jasmine</h2>
<p>Jasmine, a behavior-driven development framework for testing JavaScript code, is developed at Pivotal Labs. Before the active development of Jasmine framework, a similar unit testing framework named JsUnit was also developed by Pivotal Labs, which has an inbuilt test runner. The browsers tests can be run through Jasmine tests by including SpecRunner.html file or by using it as a command line test runner also. It can be used with or without Karma also.</p>
<h3>Pros of Using Jasmine</h3>
<p>The followings are some pros of using Jasmine &minus;</p>
<ul class="list">
<li><p>A framework independent of browser, platform and language.</p></li>
<li><p>Supports test driven development (TDD) along with behavioral driven development.</p></li>
<li><p>Has default integration with Karma.</p></li>
<li><p>Easy to understand syntax.</p></li>
<li><p>Provides test spies, fakes and pass-through functionalities which assist with testing as additional functions.</p></li>
</ul>
<h3>Cons of Using Jasmine</h3>
<p>The following is a con of using Jasmine &minus;</p>
<ul class="list">
<li><p>The tests must be return by the user as they change because there is no file-watching feature available in Jasmine while running test.</p></li>
</ul>
<h2>Mocha</h2>
<p>Mocha, written for Node.js applications, is a testing framework but it also supports browser testing. It is quite like Jasmine but the major difference between them is that Mocha needs some plugin and library because it cannot run standalone as a test framework. On the other hand, Jasmine is standalone. However, Mocha is more flexible to use than Jasmine.</p>
<h3>Pros of using Mocha</h3>
<p>The following are some pros of using Mocha &minus;</p>
<ul class="list">
<li>Mocha is very easy to install and configure.</li>
<li>User-friendly and simple documentation.</li>
<li>Contains plugins with several node projects.</li>
</ul>
<h3>Cons of using Mocha</h3>
<p>The following are some cons of using Mocha &minus;</p>
<ul class="list">
<li>It needs separate modules for assertions, spies etc.</li>
<li>It also requires additional configuration for using with Karma.</li>
</ul>
<h2>QUnit</h2>
<p>QUint, originally developed by John Resig in 2008 as part of jQuery, is a powerful yet easy-to-use JavaScript unit test suite. It can be used to test any generic JavaScript code. Although it focuses on testing JavaScript in the browser, yet it is very convenient to use by the developer.</p>
<h3>Pros of using QUnit</h3>
<p>The following are some pros of using QUnit &minus;</p>
<ul class="list">
<li>Easy to install and configure.</li>
<li>User-friendly and simple documentation.</li>
</ul>
<h3>Cons of using QUnit</h3>
<p>The following is a con of using QUnit &minus;</p>
<ul class="list">
<li>It was mainly developed for jQuery and hence not so good for use with other frameworks.</li>
</ul>
<h2>Selenium</h2>
<p>Selenium, originally developed by Jason Huggins in 2004 as an internal tool at ThoughtWorks, is an open source testing automation tool. Selenium defines itself as “Selenium automates browsers. That’s it!”. Automation of browsers means that the developers can interact with the browsers very easily.</p>
<h3>Pros of using Selenium</h3>
<p>The following are some pros of using Selenium &minus;</p>
<ul class="list">
<li>Contains large feature set.</li>
<li>Supports distributed testing.</li>
<li>Has SaaS support through services such as Sauce Labs.</li>
<li>Easy to use with simple documentations and rich resources available.</li>
</ul>
<h3>Cons of using Selenium</h3>
<p>The followings are some cons of using Selenium &minus;</p>
<ul class="list">
<li>A main disadvantage of using Selenium is that it must be run as a separate process.</li>
<li>Configuration is a bit cumbersome as the developer needs to follow several steps.</li>
</ul>
<h1>Protractor - Getting Started</h1>
<p>In the previous chapters, we have learnt the basics of Protractor. In this chapter, let us learn how to install and configure it.</p>
<h2>Prerequisites</h2>
<p>We need to satisfy the following prerequisites before installing Protractor on your computer &minus;</p>
<h3>Node.js</h3>
<p>Protractor is a Node.js module, hence the very important prerequisite is that we must have Node.js installed on our computer. We are going to install Protractor package using npm (a JavaScript package manager), that comes with Node.js.</p>
<p>For installing Node.js please follow the official link &minus; <a target="_blank" rel="nofollow" href="https://nodejs.org/en/download/">https://nodejs.org/en/download/</a>. After installing Node.js, you can check the version of Node.js and npm by writing the command <b>node --version</b> and <b>npm --version</b> in the command prompt as shown below &minus;</p>
<img class="full-width" src="/protractor/images/prerequisites.jpg" alt="Prerequisites" />
<h3>Chrome</h3>
<p>Google Chrome, a web browser built by Google, will be used to run end-to-end tests in Protractor without the need for a Selenium server. You can download chrome by clicking on the link &minus; <a target="_blank" rel="nofollow" href="https://www.google.com/chrome/">https://www.google.com/chrome/</a>.</p>
<h3>Selenium WebDriver for Chrome</h3>
<p>This tool is provided with the Protractor npm module and allows us to interact with web applications.</p>
<h2>Installing Protractor</h2>
<p>After installing Node.js on our computer, we can install Protractor with the help of following command &minus;</p>
<pre class="result notranslate">
npm install -g protractor
</pre>
<p>Once protractor is successfully installed, we can check its version by writing <b>protractor --version</b> command in the command prompt as shown below &minus;</p>
<img class="full-width" src="/protractor/images/installing_protractor.jpg" alt="Installing Protractor" />
<h2>Installing WebDriver for Chrome</h2>
<p>After installing Protractor, we need to install Selenium WebDriver for Chrome. It can be installed with the help of following command &minus;</p>
<pre class="result notranslate">
webdriver-manager update
</pre>
<p>The above command will create a Selenium directory which contains the required Chrome driver used in the project.</p>
<h2>Confirming Installation &amp; Configuration</h2>
<p>We can confirm the installation and configurati
on of Protractor by doing a slightly changing the conf.js provided in the example after installing Protractor. You can find this conf.js file in the root directory <b>node_modules/Protractor/example</b>.</p>
<p>For this, first create a new file named testingconfig.js in the same directory i.e. <b>node_modules/Protractor/example</b>.</p>
<p>Now, in the conf.js file, under the source file declaration parameter, write testingconfig.js.</p>
<p>Next, save and close all the files and open command prompt. Run the conf.js file as shown in the screenshot given below.</p>
<p>The configuration and installation of Protractor is successful if you got the output as shown below &minus;</p>
<img class="full-width" src="/protractor/images/configuration_protractor.jpg" alt="Configuration Protractor" />
<p>The above output shows that there is no specification because we provided the empty file at source file declaration parameter in conf.js file. But from the above output, we can see that both protractor and WebDriver are running successfully.</p>
<h2>Issues in installation &amp; configuration</h2>
<p>While installing and configuring Protractor and WebDriver, we might come across the following common issues &minus;</p>
<h3>Selenium not installed correctly</h3>
<p>It is the most common issue while installing WebDriver. This issue arises if you do not update the WebDriver. Note that we must update WebDriver, otherwise we would not be able to reference it to Protractor installation.</p>
<h3>Not able to find tests</h3>
<p>Another common issue is that after running Protractor, it shows that unable to find tests. For this,we must have to ensure that the relative paths, filenames or extensions are correct. We also need to write conf.js file very carefully because it starts with configuration file itself.</p>
<h1>Protractor - Protractor And Selenium Server</h1>
<p>As discussed earlier, Protractor is an open source, end-to-end testing framework for Angular and AngularJS applications. It is Node.js program. On the other hand, Selenium is a browser automation framework that includes the Selenium Server, the WebDriver APIs and the WebDriver browser drivers.</p>
<h2>Protractor with Selenium</h2>
<p>If we talk about the conjunction of Protractor and Selenium, Protractor can work with Selenium server to provide an automated test infrastructure. The infrastructure can simulate user’s interaction with an angular application that is running in a browser or on mobile device. The conjunction of Protractor and Selenium can be divided into three partitions namely test, server and Browser, as shown in the following diagram &minus;</p>
<img class="full-width" src="/protractor/images/protractor_with_selenium.jpg" alt="Protractor with Selenium" />
<h2>Selenium WebDriver Processes</h2>
<p>As we have seen in the above diagram, a test using Selenium WebDriver involves the following three processes &minus;</p>
<ul class="list">
<li>The test scripts</li>
<li>The server</li>
<li>The browser</li>
</ul>
<p>In this section, let us discuss the communication between these three processes.</p>
<h3>Communication between Test Scripts &amp; Server</h3>
<p>The communication between the first two processes - the test scripts and the server depends upon the working of Selenium Server. In other words, we can say that the way Selenium server is running will give the shape to the communication process between test scripts and server.</p>
<p>Selenium server can run locally on our machine as standalone Selenium Server (selenium-server-standalone.jar) or it can run remotely via a service (Sauce Labs). In case of standalone Selenium server, there would be an http communication between Node.js and selenium server.</p>
<h3>Communication between the server and the browser</h3>
<p>As we know that the server is responsible for forwarding commands to the browser after interpreting the same from the test scripts. That is why server and the browser also require a communication medium and here the communication is done with the help of <b>JSON WebDriver Wire Protocol</b>. The browser extended with Browser Driver that is used to interpret the commands.</p>
<p>The above concept about Selenium WebDriver processes and their communication can be understood with the help of following diagram &minus;</p>
<img class="center" src="/protractor/images/web_driver_processes.jpg" alt="Web Driver processes" />
<p>While working with Protractor, the very first process, that is test script is run using Node.js but before performing any action on the browser it will send an extra command to make it sure that the application being tested is stabilized.</p>
<h2>Setting up Selenium Server</h2>
<p>Selenium Server acts like a proxy server in between our test script and the browser driver. It basically forwards the command from our test script to the WebDriver and returns the responses from the WebDriver to our test script. There are following options for setting up the Selenium server which are included in <b>conf.js</b> file of test script &minus;</p>
<h3>Standalone Selenium Server</h3>
<p>If we want to run the server on our local machine, we need to install standalone selenium server. The prerequisite to install standalone selenium server is JDK (Java Development Kit). We must have JDK installed on our local machine. We can check it by running the following command from command line &minus;</p>
<pre class="result notranslate">
java -version
</pre>
<p>Now, we have the option to install and start Selenium Server manually or from test script.</p>
<h2>Installing and starting Selenium server manually</h2>
<p>For installing and starting Selenium server manually, we need to use WebDriver-Manager command line tool that comes with Protractor. The steps for installing and starting Selenium server are as follows &minus;</p>
<p><b>Step 1</b> &minus; The first step is to install the Selenium server and ChromeDriver. It can be done with the help of running following command &minus;</p>
<pre class="result notranslate">
webdriver-manager update
</pre>
<p><b>Step 2</b> &minus; Next, we need to start the server. It can be done with the help of running following command &minus;</p>
<pre class="result notranslate">
webdriver-manager start
</pre>
<p><b>Step 3</b> &minus; At last we need to set seleniumAddress in config file to the address of the running server. The default address would be <b>http://localhost:4444/wd/hub</b>.</p>
<h2>Starting Selenium server from a Test Script</h2>
<p>For starting Selenium server from a Test Script, we need to set the following options in our config file &minus;</p>
<ul class="list">
<li><p><b>Location of jar file</b> &minus; We need to set the location of jar file for standalone Selenium server in config file by setting seleniumServerJar.</p></li>
<li><p><b>Specifying the port</b> &minus; We also need to specify the port to use to start the standalone Selenium Server. It can be specified in config file by setting seleniumPort. The default port is 4444.</p></li>
<li><p><b>Array of command line options</b> &minus; We also need to set the array of command line options to pass to the server. It can be specified in config file by setting seleniumArgs. If you need full list of array of commands, then start the server with the <b>-help</b> flag.</p></li>
</ul>
<h2>Working with Remote Selenium Server</h2>
<p>Another option for running our test is to use Selenium server remotely. The prerequisite for using server remotely is that we must have an account with a service that hosts the server. While working with Protractor we have the built-in support for the following services hosting the server &minus;</p>
<h3>TestObject</h3>
<p>For using TestObject as the remote Selenium Server, we need to set the testobjectUser, the user name of our TestObject account and testobjectKey, the API key of our TestObject account.</p>
<h3>BrowserStack</h3>
<p>For using BrowserStack as the remote Selenium Server, we need to set the browserstackUser, the user name of our BrowserStack account and browserstackKey, the API key of our BrowserStack account.</p>
<h3>Sauce Labs</h3>
<p>For using Sauce Labs as the remote Selenium Server, we need to set the sauceUser, the user name of our Sauce Labs account and SauceKey, the API key of our Sauce Labs account.</p>
<h3>Kobiton</h3>
<p>For using Kobiton as the remote Selenium Server we need to set the kobitonUser, the user name of our Kobiton account and kobitonKey, the API key of our Kobiton account.</p>
<h2>Directly connecting to Browser Driver without using Selenium Server</h2>
<p>One more option for running our test is to connect to the Browser Driver directly without using Selenium server. Protractor can test directly, without the use of Selenium Server, against Chrome and Firefox by setting directConnect: true in config file.</p>
<h2>Setting up the Browser</h2>
<p>Before configuring and setting up the browser, we need to know which browsers are supported by Protractor. The following is the list of browsers supported by Protractor &minus;</p>
<ul class="list">
<li>ChromeDriver</li>
<li>FirefoxDriver</li>
<li>SafariDriver</li>
<li>IEDriver</li>
<li>Appium-iOS/Safari</li>
<li>Appium-Android/Chrome</li>
<li>Selendroid</li>
<li>PhantomJS</li>
</ul>
<p>For setting and configuring the browser, we need to move to config file of Protractor because the browser setup is done within the capabilities object of config file.</p>
<h3>Setting up Chrome</h3>
<p>For setting up the Chrome Browser, we need to set the capabilities object as follows</p>
<pre class="result notranslate">
capabilities: {
   'browserName': 'chrome'
}
</pre>
<p>We can also add Chrome-Specific options which are nested in the chromeOptions and its full list can be seen at <a target="_blank" rel="nofollow" href="https://sites.google.com/a/chromium.org/chromedriver/capabilities">https://sites.google.com/a/chromium.org/chromedriver/capabilities</a>.</p>
<p>For example, if you want to add FPS-counter in the upper right, then it can be done as follows in the config file &minus;</p>
<pre class="prettyprint notranslate">
capabilities: {
   'browserName': 'chrome',
   'chromeOptions': {
      'args': ['show-fps-counter=true']
   }
},
</pre>
<h3>Setting up Firefox</h3>
<p>For setting up the Firefox browser, we need to set the capabilities object as follows &minus;</p>
<pre class="result notranslate">
capabilities: {
   'browserName': 'firefox'
}
</pre>
<p>We can also add Firefox-Specific options which are nested in the moz:firefoxOptions object and its full list can be seen at <a target="_blank" rel="nofollow" href="https://github.com/mozilla/geckodriver#firefox-capabilities">https://github.com/mozilla/geckodriver#firefox-capabilities</a>.</p>
<p>For example, if you want to run your test on Firefox in safe mode then it can be done as follows in the config file &minus;</p>
<pre class="prettyprint notranslate">
capabilities: {
   'browserName': 'firefox',
   'moz:firefoxOptions': {
     'args': ['—safe-mode']
   }
},
</pre>
<h3>Setting up other browser</h3>
<p>For setting up any other browser than Chrome or Firefox, we need to install a separate binary from <a target="_blank" rel="nofollow" href="https://docs.seleniumhq.org/download/">https://docs.seleniumhq.org/download/</a>.</p>
<h3>Setting up PhantonJS</h3>
<p>Actually, PhantomJS is no longer supported because of its crashing issues. Instead of that it is recommended to use headless Chrome or headless Firefox. They can be set up as follows &minus;</p>
<p>For setting up headless Chrome, we need to start Chrome with the –headless flag as follows &minus;</p>
<pre class="prettyprint notranslate">
capabilities: {
   'browserName': 'chrome',
   'chromeOptions': {
      'args': [“--headless”, “--disable-gpu”, “--window-size=800,600”]
   }
},
</pre>
<p>For setting up headless Firefox, we need to start Firefox with the <b>–headless</b> flag as follows &minus;</p>
<pre class="prettyprint notranslate">
capabilities: {
   'browserName': 'firefox',
   'moz:firefoxOptions': {
      'args': [“--headless”]
   }
},
</pre>
<h3>Setting up multiple browsers for testing</h3>
<p>We can also test against multiple browsers. For this we need to use multiCapabilities configuration option as follows &minus;</p>
<pre class="prettyprint notranslate">
multiCapabilities: [{
   'browserName': 'chrome'
},{
   'browserName': 'firefox'
}]
</pre>
<h2>Which Framework?</h2>
<p>Two BDD (Behavior driven development) test frameworks, Jasmine and Mocha are supported by Protractor. Both frameworks are based on JavaScript and Node.js. The syntax, report and scaffolding, required for writing and managing the tests, are provided by these frameworks.</p>
<p>Next, we see how we can install various frameworks &minus;</p>
<h3>Jasmine framework</h3>
<p>It is the default test framework for Protractor. When you install Protractor, you will get Jasmine 2.x version with it. We do not need to get it installed separately.</p>
<h3>Mocha framework</h3>
<p>Mocha is another JavaScript test framework basically running on Node.js. For using Mocha as our test framework, we need to use the BDD (Behavior driven development) interface and Chai assertions with Chai As Promised. The installation can be done with the help of following commands &minus;</p>
<pre class="result notranslate">
npm install -g mocha
npm install chai
npm install chai-as-promised
</pre>
<p>As you can see, -g option is used while installing mocha, it is because we have installed Protractor globally using the -g option. After installing it, we need to require and set up Chai inside our test files. It can be done as follows &minus;</p>
<pre class="prettyprint notranslate">
var chai = require('chai');
var chaiAsPromised = require('chai-as-promised');
chai.use(chaiAsPromised);
var expect = chai.expect;
</pre>
<p>After this, we can use Chai As Promised as such &minus;</p>
<pre class="result notranslate">
expect(myElement.getText()).to.eventually.equal('some text');
</pre>
<p>Now, we need to set the framework property to mocha of config file by adding framework: ‘mocha’. The options like ‘reporter’ and ‘slow’ for mocha can be added in config file as follows &minus;</p>
<pre class="result notranslate">
mochaOpts: {
   reporter: "spec", slow: 3000
}
</pre>
<h3>Cucumber Framework</h3>
<p>For using Cucumber as our test framework, we need to integrate it with Protractor with framework option <b><i>custom</i></b>. The installation can be done with the help of following commands</p>
<pre class="result notranslate">
npm install -g cucumber
npm install --save-dev protractor-cucumber-framework
</pre>
<p>As you can see, -g option is used while installing Cucumber, it is because we have installed Protractor globally i.e. with -g option. Next, we need to set the framework property to <b>custom</b> of config file by adding framework: ‘custom’ and frameworkPath: ‘Protractor-cucumber-framework’ to the config file named cucumberConf.js.</p>
<p>The sample code shown below is a basic cucumberConf.js file which can be used to run cucumber feature files with Protractor &minus;</p>
<pre class="prettyprint notranslate">
exports.config = {
   seleniumAddress: 'http://localhost:4444/wd/hub',

   baseUrl: 'https://angularjs.org/',

   capabilities: {
      browserName:'Firefox'
   },

   framework: 'custom',

   frameworkPath: require.resolve('protractor-cucumber-framework'),

   specs: [
      './cucumber/*.feature'
   ],

   // cucumber command line options
   cucumberOpts: {
      require: ['./cucumber/*.js'],
      tags: [],
      strict: true,
      format: ["pretty"],
      'dry-run': false,
      compiler: []
   },
   onPrepare: function () {
      browser.manage().window().maximize();
   }
};
</pre>
<h1>Protractor - Writing the First Test</h1>
<p>In this chapter, let us understand how to write the first test in Protractor.</p>
<h2>Files required by Protractor</h2>
<p>Protractor needs the following two files to run &minus;</p>
<h3>Spec or test file</h3>
<p>It is one of the important files to run Protractor. In this file, we will write our actual test code. The test code is written by using the syntax of our testing framework.</p>
<p>For example, if we are using <b>Jasmine</b> framework, then the test code will be written by using the syntax of <b>Jasmine</b>. This file will contain all the functional flows and assertions of the test.</p>
<p>In simple words, we can say that this file contains the logic and locators to interact with the application.</p>
<h3>Example</h3>
<p>The following is a simple script, TestSpecification.js, having the test case to navigate to an URL and check for the page title &minus;</p>
<pre class="prettyprint notranslate">
//TestSpecification.js
describe('Protractor Demo', function() {
   it('to check the page title', function() {
      browser.ignoreSynchronization = true;
      browser.get('https://www.tutorialspoint.com/tutorialslibrary.htm');
      browser.driver.getTitle().then(function(pageTitle) {
         expect(pageTitle).toEqual('Free Online Tutorials and Courses');
      });
   });
});
</pre>
<h2>Code Explanation</h2>
<p>The code of above specification file can be explained as follows &minus;</p>
<h3>Browser</h3>
<p>It is the global variable created by Protractor to handle all the browser level commands. It is basically a wrapper around an instance of WebDriver. browser.get() is a simple Selenium method that will tell Protractor to load a particular page.</p>
<ul class="list">
<li><p><b>describe</b> and <b>it</b> &minus; Both are the syntaxes of Jasmine test framework. The <b>’Describe’</b> is used to contain the end to end flow of our test case whereas <b>‘it’</b> contains some of the test scenarios. We can have multiple <b>‘it’</b> blocks in our test case program.</p></li>
<li><p><b>Expect</b> &minus; It is an assertion where we are comparing the web page title with some predefined data.</p></li>
<li><p><b>ignoreSynchronization</b> &minus; It is a tag of browser which is used when we will try to test non-angular websites. Protractor expects to work with angular websites only but if we want to work with non-angular websites, then this tag must be set to <b>“true”</b>.</p></li>
</ul>
<h2>Configuration File</h2>
<p>As the name suggests, this file provides explanations for all the Protractor configuration options. It basically tells Protractor the following &minus;</p>
<ul class="list">
<li>Where to find the test or specs files</li>
<li>Which browser to pick</li>
<li>Which testing framework to use</li>
<li>Where to talk with the Selenium Server</li>
</ul>
<h3>Example</h3>
<p>The following is the simple script, config.js, having the test</p>
<pre class="prettyprint notranslate">
// config.js
exports.config = {
   directConnect: true,

   // Capabilities to be passed to the webdriver instance.
   capabilities: {
      'browserName': 'chrome'
   },

   // Framework to use. Jasmine is recommended.
   framework: 'jasmine',

   // Spec patterns are relative to the current working directory when
   // protractor is called.
   specs: ['TestSpecification.js'],
</pre>
<h2>Code Explanation</h2>
<p>The code of above configuration file having three basic parameters, can be explained as follows &minus;</p>
<h3>Capabilities Parameter</h3>
<p>This parameter is used to specify the name of the browser. It can be seen in the following code block of conf.js file &minus;</p>
<pre class="result notranslate">
exports.config = {
   directConnect: true,

   // Capabilities to be passed to the webdriver instance.
   capabilities: {
      'browserName': 'chrome'
},
</pre>
<p>As seen above, the name of the browser given here is ‘chrome’ which is by default browser for Protractor. We can also change the name of the browser.</p>
<h3>Framework Parameter</h3>
<p>This parameter is used to specify the name of the testing framework. It can be seen in the following code block of config.js file &minus;</p>
<pre class="result notranslate">
exports.config = {
   directConnect: true,

   // Framework to use. Jasmine is recommended.
   framework: 'jasmine',
</pre>
<p>Here we are using ‘jasmine’ test framework.</p>
<h2>Source File Declaration Parameter</h2>
<p>This parameter is used to specify the name of the source file declaration. It can be seen in the following code block of conf.js file &minus;</p>
<pre class="result notranslate">
exports.config = {
   directConnect: true,
   // Spec patterns are relative to the current working 
   directory when protractor is called.
   specs: ['TsetSpecification.js'],
</pre>
<p>As seen above, the name of the source file declaration given here is <b>‘TestSpecification.js’</b>. It is because, for this example we have created the specification file with name <b>TestSpecification.js</b>.</p>
<h2>Executing the code</h2>
<p>As we have got basic understanding about the necessary files and their coding for running Protractor, let us try to run the example. We can follow the following steps to execute this example &minus;</p>
<ul class="list">
<li><p><b>Step 1</b> &minus; First, open command prompt.</p></li>
<li><p><b>Step 2</b> &minus; Next, we need go to the directory where we have saved our files namely config.js and <b>TestSpecification.js</b>.</p></li>
<li><p><b>Step 3</b> &minus; Now, execute the config.js file by running the command Protrcator config.js.
</ul>
<p>The screen shot shown below will explain the above steps for executing the example &minus;</p>
<img class="full-width" src="/protractor/images/executing_code.jpg" alt="Executing code" />
<p>It is seen in the screen shot that the test has been passed.</p>
<p>Now, suppose if we are testing non-angular websites and not putting the ignoreSynchronization tag to true then after executing the code we will get the error” Angular could not be found on the page”.</p>
<p>It can be seen in the following screen shot &minus;</p>
<img class="full-width" src="/protractor/images/ignore_Synchronization.jpg" alt="Ignore Synchronization" />
<h2>Report Generation</h2>
<p>Till now, we have discussed about the necessary files and their coding for running test cases. Protractor is also able to generate the report for test cases. For this purpose, it supports Jasmine. JunitXMLReporter can be used to generate test execution reports automatically.</p>
<p>But before that, we need to install Jasmine reporter with the help of following command &minus;</p>
<pre class="result notranslate">
npm install -g jasmine-reporters
</pre>
<p>As you can see, -g option is used while installing Jasmine Reporters, it is because we have installed Protractor globally, with -g option.</p>
<p>After successfully installing jasmine-reporters, we need to add the following code into our previously used config.js file &minus;</p>
<pre class="prettyprint notranslate">
onPrepare: function(){ //configure junit xml report

   var jasmineReporters = require('jasmine-reporters');
   jasmine.getEnv().addReporter(new jasmineReporters.JUnitXmlReporter({
      consolidateAll: true,
      filePrefix: 'guitest-xmloutput',
      savePath: 'test/reports'
   }));
</pre>
<p>Now, our new config.js file would be as follows &minus;</p>
<pre class="prettyprint notranslate">
// An example configuration file.
exports.config = {
   directConnect: true,

   // Capabilities to be passed to the webdriver instance.
   capabilities: {
      'browserName': 'chrome'
   },

   // Framework to use. Jasmine is recommended.
   framework: 'jasmine',

   // Spec patterns are relative to the current working directory when
   // protractor is called.
   specs: ['TestSpecification.js'],
   //framework: "jasmine2", //must set it if you use JUnitXmlReporter
   onPrepare: function(){ //configure junit xml report
      var jasmineReporters = require('jasmine-reporters');
      jasmine.getEnv().addReporter(new jasmineReporters.JUnitXmlReporter({
         consolidateAll: true,
         filePrefix: 'guitest-xmloutput',
         savePath: 'reports'
      }));
   },
};
</pre>
<p>After running the above config file in the same way, we have run previously, it will generate an XML file containing the report under the root directory in <b>reports</b> folder. If the test got successful, the report will look like below &minus;</p>
<img class="full-width" src="/protractor/images/report_generation.jpg" alt="Report Generation" />
<p>But, if the test failed, the report will look as shown below &minus;</p>
<img class="full-width" src="/protractor/images/report_generation_failed.jpg" alt="Report Generation failed" />
<h1>Protractor - Core APIS</h1>
<p>This chapter lets you understand various core APIs that are key to the functioning of protractor.</p>
<h2>Importance of Protractor APIs</h2>
<p>Protractor provides us a wide range of APIs which are very important in order to perform the following actions for getting the current state of the website &minus;</p>
<ul class="list">
<li>Getting the DOM elements of the web page we are going to test.</li>
<li>Interacting with the DOM elements.</li>
<li>Assigning actions to them.</li>
<li>Sharing information to them.</li>
</ul>
<p>To perform the above tasks, it is very important to understand Protractor APIs.</p>
<h2>Various Protractor APIs</h2>
<p>As we know that Protractor is a wrapper around Selenium-WebDriver which is the WebDriver bindings for Node.js. Protractor has the following APIs &minus;</p>
<h3>Browser</h3>
<p>It is a wrapper around an instance of WebDriver which is used to handle browser level commands such as navigation, page-wide information etc. For example, the browser.get method loads a page.</p>
<h3>Element</h3>
<p>It is used to search and interact with DOM element on the page we are testing. For this purpose, it requires one parameter for locating the element.</p>
<h3>Locators (by)</h3>
<p>It is a collection of element locator strategies. The elements, for example, can be found by CSS selector, by ID or by any other attribute they are bound to with ng-model.</p>
<p>Next, we are going to discuss in detail about these APIs and their functions.</p>
<h2>Browser API</h2>
<p>As discussed above, it is a wrapper around an instance of WebDriver for handling browser level commands. It performs various functions as follows &minus;</p>
<h3>Functions and Their Descriptions</h3>
<p>The functions of ProtractorBrowser API are as follows&minus;</p>
<p><b>browser.angularAppRoot</b></p>
<p>This function of Browser API sets the CSS selector for an element on which we are going to find Angular. Usually, this function is in ‘body’, but in case if our ng-app, it is on a sub-section of the page; it may be a sub-element also.</p>
<p><b>browser.waitForAngularEnabled</b></p>
<p>This function of Browser API can be set to true or false. As the name suggests, if this function is set for false then Protractor will not wait for Angular $http and $timeout tasks to complete before interacting with the browser. We can also read the current state without changing it by calling waitForAngularEnabled() without passing a value.</p>
<p><b>browser.getProcessedConfig</b></p>
<p>With the help of this browser APIs function we can get the processed configuration object, including specification &amp; capabilities, that is currently being run.</p>
<p><b>browser.forkNewDriverInstance</b></p>
<p>As the name suggests this function will fork another instance of browser to be used in interactive tests. It can be run with control flow enabled and disabled. Example is given below for both the cases &minus;</p>
<p><b>Example 1</b></p>
<p>Running <b>browser.forkNewDriverInstance()</b> with control flow enabled &minus;</p>
<pre class="result notranslate">
var fork = browser.forkNewDriverInstance();
fork.get(‘page1’);
</pre>
<p><b>Example 2</b></p>
<p>Running <b>browser.forkNewDriverInstance()</b> with control flow disabled &minus;</p>
<pre class="result notranslate">
var fork = await browser.forkNewDriverInstance().ready;
await forked.get(‘page1’);
</pre>
<p><b>browser.restart</b></p>
<p>As the name suggests, it will restart the browser by closing browser instance and creating new one. It can also run with control flow enabled and disabled. Example is given below for both the cases &minus;</p>
<p><b>Example 1</b> &minus; Running <b>browser.restart()</b> with control flow enabled &minus;</p>
<pre class="result notranslate">
browser.get(‘page1’);
browser.restart();
browser.get(‘page2’);
</pre>
<p><b>Example 2</b> &minus; Running <b>browser.forkNewDriverInstance()</b> with control flow disabled &minus;</p>
<pre class="result notranslate">
await browser.get(‘page1’);
await browser.restart();
await browser.get(‘page2’);
</pre>
<h3>browser.restartSync</h3>
<p>It is similar to browser.restart() function. The only difference is that it returns the new browser instance directly rather than returning a promise resolving to the new browser instance. It can only run when the control flow is enabled.</p>
<p><b>Example </b> &minus; Running <b>browser.restartSync()</b> with control flow enabled &minus;</p>
<pre class="result notranslate">
browser.get(‘page1’);
browser.restartSync();
browser.get(‘page2’);
</pre>
<p><b>browser.useAllAngular2AppRoots</b></p>
<p>As the name suggests, it is compatible with Angular2 only. It will search through all the angular apps available on the page while finding elements or waiting for stability.</p>
<p><b>browser.waitForAngular</b></p>
<p>This browser API function instructs the WebDriver to wait until Angular has finished rendering and has no outstanding $http or $timeout calls before continuing.</p>
<p><b>browser.findElement</b></p>
<p>As the name suggests, this browser API function waits for Angular to finish rendering before searching for element.</p>
<p><b>browser.isElementPresent</b></p>
<p>As the name suggests, this browser API function will test for the for the element to be present on the page or not.</p>
<p><b>browser.addMockModule</b></p>
<p>It will add a module to load before Angular every time Protractor.get method is called.</p>
<p><b>Example</b></p>
<pre class="result notranslate">
browser.addMockModule('modName', function() {
   angular.module('modName', []).value('foo', 'bar');
});
</pre>
<p><b>browser.clearMockModules</b></p>
<p>unlike browser.addMockModule, it will clear the list of registered mock modules.</p>
<p><b>browser.removeMockModule</b></p>
<p>As the name suggests, it will remove a register mock modules. Example: browser.removeMockModule(‘modName’);</p>
<p><b>browser.getRegisteredMockModules</b></p>
<p>Opposite to browser.clearMockModule, it will get the list of registered mock modules.</p>
<p><b>browser.get</b></p>
<p>We can use browser.get() to navigate the browser to a particular web address and load the mock modules for that page before the Angular load.</p>
<p><b>Example</b></p>
<pre class="result notranslate">
browser.get(url);
browser.get('http://localhost:3000'); 
// This will navigate to the localhost:3000 and will load mock module if needed
</pre>
<p><b>browser.refresh</b></p>
<p>As the name suggests, this will reload the current page and loads mock modules before Angular.</p>
<p><b>browser.navigate</b></p>
<p>As the name suggests, it is used to mix navigation methods back into the navigation object so that they are invoked as before. Example: driver.navigate().refresh().</p>
<p><b>browser.setLocation</b></p>
<p>It is use to browse to another page using in-page navigation.</p>
<p><b>Example</b></p>
<pre class="result notranslate">
browser.get('url/ABC');
browser.setLocation('DEF');
expect(browser.getCurrentUrl())
   .toBe('url/DEF');
</pre>
<p>It will navigate from ABC to DEF page.</p>
<p><b>browser.debugger</b></p>
<p>As the name suggests, this must be used with protractor debug. This function basically adds a task to the control flow to pause the test and inject helper functions into the browser so that debugging can be done in browser console.</p>
<p><b>browser.pause</b></p>
<p>It is used for debugging WebDriver tests. We can use <b>browser.pause()</b> in our test to enter the protractor debugger from that point in the control flow.</p>
<p><b>Example</b></p>
<pre class="result notranslate">
element(by.id('foo')).click();
browser.pause();
// Execution will stop before the next click action.
element(by.id('bar')).click();
</pre>
<p><b>browser.controlFlowEnabled</b></p>
<p>It is used to determine whether the control flow is enabled or not.</p>
<h1>Protractor - Core APIS(CONTD…)</h1>
<p>In this chapter, let us learn some more core APIs of Protractor.</p>
<h2>Elements API</h2>
<p>Element is one of the global functions exposed by protractor. This function takes a locater and returns the following &minus;</p>
<ul class="list">
<li>ElementFinder, that finds a single element based on the locator.</li>
<li>ElementArrayFinder, that finds an array of elements based on the locator.</li>
</ul>
<p>Both the above support chaining methods as discussed below.</p>
<h2>Chaining functions of ElementArrayFinder and their descriptions</h2>
<p>The Followings are the functions of ElementArrayFinder &minus;</p>
<p><b>element.all(locator).clone</b></p>
<p>As the name suggests, this function will create a shallow copy of the array of the elements i.e. ElementArrayFinder.</p>
<p><b>element.all(locator).all(locator)</b></p>
<p>This function basically returns a new ElementArrayFinder which could be empty or contain the children elements. It can be used for selecting multiple elements as an array as follows</p>
<p><b>Example</b></p>
<pre class="prettyprint notranslate">
element.all(locator).all(locator)
elementArr.all(by.css(‘.childselector’));
// it will return another ElementFindArray as child element based on child locator.
</pre>
<p><b>element.all(locator).filter(filterFn)</b></p>
<p>As the name suggests, after applying filter function to each element within ElementArrayFinder, it returns a new ElementArrayFinder with all elements that pass the filter function. It is basically having two arguments, first is ElementFinder and second is index. It can also be used in page objects.</p>
<p><b>Example</b></p>
<p><b>View</b></p>
<pre class="prettyprint notranslate">
&lt;ul class = "items"&gt;
   &lt;li class = "one"&gt;First&lt;/li&gt;
   &lt;li class = "two"&gt;Second&lt;/li&gt;
   &lt;li class = "three"&gt;Third&lt;/li&gt;
&lt;/ul&gt;
</pre>
<p><b>Code</b></p>
<pre class="prettyprint notranslate">
element.all(by.css('.items li')).filter(function(elem, index) {
   return elem.getText().then(function(text) {
      return text === 'Third';
   });
}).first().click();
</pre>
<p><b>element.all(locator).get(index)</b></p>
<p>With the help of this, we can get an element within the ElementArrayFinder by index. Note that the index starts at 0 and negative indices are wrapped.</p>
<p><b>Example</b></p>
<p><b>View</b></p>
<pre class="prettyprint notranslate">
&lt;ul class = "items"&gt;
   &lt;li&gt;First&lt;/li&gt;
   &lt;li&gt;Second&lt;/li&gt;
   &lt;li&gt;Third&lt;/li&gt;
&lt;/ul&gt;
</pre>
<p><b>Code</b></p>
<pre class="prettyprint notranslate">
let list = element.all(by.css('.items li'));
expect(list.get(0).getText()).toBe('First');
expect(list.get(1).getText()).toBe('Second');
</pre>
<p><b>element.all(locator).first()</b></p>
<p>As the name suggests, this will get the first element for ElementArrayFinder. It will not retrieve the underlying element.</p>
<p><b>Example</b></p>
<p><b>View</b></p>
<pre class="result notranslate">
&lt;ul class = "items"&gt;
   &lt;li&gt;First&lt;/li&gt;
   &lt;li&gt;Second&lt;/li&gt;
   &lt;li&gt;Third&lt;/li&gt;
&lt;/ul&gt;
</pre>
<p><b>Code</b></p>
<pre class="prettyprint notranslate">
let first = element.all(by.css('.items li')).first();
expect(first.getText()).toBe('First');
</pre>
<p><b>element.all(locator).last()</b></p>
<p>As name suggest, this will get the last element for ElementArrayFinder. It will not retrieve the underlying element.</p>
<p><b>Example</b></p>
<p><b>View</b></p>
<pre class="prettyprint notranslate">
&lt;ul class = "items"&gt;
   &lt;li&gt;First&lt;/li&gt;
   &lt;li&gt;Second&lt;/li&gt;
   &lt;li&gt;Third&lt;/li&gt;
&lt;/ul&gt;
</pre>
<p><b>Code</b></p>
<pre class="prettyprint notranslate">
let first = element.all(by.css('.items li')).last();
expect(last.getText()).toBe('Third');
</pre>
<p><b>element.all(locator).all(selector)</b></p>
<p>It is used to find an array of elements within a parent when calls to $$ may be chained.</p>
<p><b>Example</b></p>
<p><b>View</b></p>
<pre class="prettyprint notranslate">
&lt;div class = "parent"&gt;
   &lt;ul&gt;
      &lt;li class = "one"&gt;First&lt;/li&gt;
      &lt;li class = "two"&gt;Second&lt;/li&gt;
      &lt;li class = "three"&gt;Third&lt;/li&gt;
   &lt;/ul&gt;
&lt;/div&gt;
</pre>
<p><b>Code</b></p>
<pre class="prettyprint notranslate">
let items = element(by.css('.parent')).$$('li');
</pre>
<p><b>element.all(locator).count()</b></p>
<p>As the name suggests, this will count the number of elements represented by ElementArrayFinder. It will not retrieve the underlying element.</p>
<p><b>Example</b></p>
<p><b>View</b></p>
<pre class="prettyprint notranslate">
&lt;ul class = "items"&gt;
   &lt;li&gt;First&lt;/li&gt;
   &lt;li&gt;Second&lt;/li&gt;
   &lt;li&gt;Third&lt;/li&gt;
&lt;/ul&gt;
</pre>
<p><b>Code</b></p>
<pre class="prettyprint notranslate">
let list = element.all(by.css('.items li'));
expect(list.count()).toBe(3);
</pre>
<p><b>element.all(locator).isPresent()</b></p>
<p>It will match the elements with the finder. It can return true or false. True, if there are any elements present that match the finder and False otherwise.</p>
<p><b>Example</b></p>
<pre class="prettyprint notranslate">
expect($('.item').isPresent()).toBeTruthy();
</pre>
<p><b>element.all(locator).locator</b></p>
<p>As the name suggests, it will return the most relevant locator.</p>
<p><b>Example</b></p>
<pre class="prettyprint notranslate">
$('#ID1').locator();
// returns by.css('#ID1')
$('#ID1').$('#ID2').locator();
// returns by.css('#ID2')
$$('#ID1').filter(filterFn).get(0).click().locator();
// returns by.css('#ID1')
</pre>
<p><b>element.all(locator).then(thenFunction)</b></p>
<p>It will retrieve the elements represented by the ElementArrayFinder.</p>
<p><b>Example</b></p>
<p><b>View</b></p>
<pre class="prettyprint notranslate">
&lt;ul class = "items"&gt;
   &lt;li&gt;First&lt;/li&gt;
   &lt;li&gt;Second&lt;/li&gt;
   &lt;li&gt;Third&lt;/li&gt;
&lt;/ul&gt;
</pre>
<p><b>Code</b></p>
<pre class="prettyprint notranslate">
element.all(by.css('.items li')).then(function(arr) {
   expect(arr.length).toEqual(3);
});
</pre>
<p><b>element.all(locator).each(eachFunction)</b></p>
<p>As the name suggests, it will call the input function on each ElementFinder represented by the ElementArrayFinder.</p>
<p><b>Example</b></p>
<p><b>View</b></p>
<pre class="prettyprint notranslate">
&lt;ul class = "items"&gt;
   &lt;li&gt;First&lt;/li&gt;
   &lt;li&gt;Second&lt;/li&gt;
   &lt;li&gt;Third&lt;/li&gt;
&lt;/ul&gt;
</pre>
<p><b>Code</b></p>
<pre class="prettyprint notranslate">
element.all(by.css('.items li')).each(function(element, index) {
   // It will print First 0, Second 1 and Third 2.
   element.getText().then(function (text) {
      console.log(index, text);
   });
});
</pre>
<p><b>element.all(locator).map(mapFunction)</b></p>
<p>As name suggest, it will apply a map function on each element within the ElementArrayFinder. It is having two arguments. First would be the ElementFinder and second would be the index.</p>
<p><b>Example</b></p>
<p><b>View</b></p>
<pre class="prettyprint notranslate">
&lt;ul class = "items"&gt;
   &lt;li&gt;First&lt;/li&gt;
   &lt;li&gt;Second&lt;/li&gt;
   &lt;li&gt;Third&lt;/li&gt;
&lt;/ul&gt;
</pre>
<p><b>Code</b></p>
<pre class="prettyprint notranslate">
let items = element.all(by.css('.items li')).map(function(elm, index) {
   return {
      index: index,
      text: elm.getText(),
      class: elm.getAttribute('class')
   };
});
expect(items).toEqual([
   {index: 0, text: 'First', class: 'one'},
   {index: 1, text: 'Second', class: 'two'},
   {index: 2, text: 'Third', class: 'three'}
]);
</pre>
<p><b>element.all(locator).reduce(reduceFn)</b></p>
<p>As the name suggests, it will apply a reduce function against an accumulator and every element found using the locator. This function will reduce every element into a single value.</p>
<p><b>Example</b></p>
<p><b>View</b></p>
<pre class="result notranslate">
&lt;ul class = "items"&gt;
   &lt;li&gt;First&lt;/li&gt;
   &lt;li&gt;Second&lt;/li&gt;
   &lt;li&gt;Third&lt;/li&gt;
&lt;/ul&gt;
</pre>
<p><b>Code</b></p>
<pre class="prettyprint notranslate">
let value = element.all(by.css('.items li')).reduce(function(acc, elem) {
   return elem.getText().then(function(text) {
      return acc + text + ' ';
   });
}, '');

expect(value).toEqual('First Second Third ');
</pre>
<p><b>element.all(locator).evaluate</b></p>
<p>As the name suggests, it will evaluate the input whether it is in the scope of the current underlying elements or not.</p>
<p><b>Example</b></p>
<p><b>View</b></p>
<pre class="prettyprint notranslate">
&lt;span class = "foo"&gt;{{letiableInScope}}&lt;/span&gt;
</pre>
<p><b>Code</b></p>
<pre class="prettyprint notranslate">
let value = 
element.all(by.css('.foo')).evaluate('letiableInScope');
</pre>
<p><b>element.all(locator).allowAnimations</b></p>
<p>As name suggest, it will determine whether the animation is allowed on the current underlying elements or not.</p>
<p><b>Example</b></p>
<pre class="prettyprint notranslate">
element(by.css('body')).allowAnimations(false);
</pre>
<h2>Chaining functions of ElementFinder and their descriptions</h2>
<p>Chaining functions of ElementFinder and their descriptions &minus;</p>
<p><b>element(locator).clone</b></p>
<p>As the name suggests, this function will create a shallow copy of the ElementFinder.</p>
<p><b>element(locator).getWebElement()</b></p>
<p>It will return the WebElement represented by this ElementFinder and a WebDriver error will be thrown if the element does not exist.</p>
<p><b>Example</b></p>
<p><b>View</b></p>
<pre class="prettyprint notranslate">
&lt;div class="parent"&gt;
   some text
&lt;/div&gt;
</pre>
<p><b>Code</b></p>
<pre class="prettyprint notranslate">
// All the four following expressions are equivalent.
$('.parent').getWebElement();
element(by.css('.parent')).getWebElement();
browser.driver.findElement(by.css('.parent'));
browser.findElement(by.css('.parent'));
</pre>
<p><b>element(locator).all(locator)</b></p>
<p>It will find an array of elements within a parent.</p>
<p><b>Example</b></p>
<p><b>View</b></p>
<pre class="prettyprint notranslate">
&lt;div class = "parent"&gt;
   &lt;ul&gt;
      &lt;li class = "one"&gt;First&lt;/li&gt;
      &lt;li class = "two"&gt;Second&lt;/li&gt;
      &lt;li class = "three"&gt;Third&lt;/li&gt;
   &lt;/ul&gt;
&lt;/div&gt;
</pre>
<p><b>Code</b></p>
<pre class="prettyprint notranslate">
let items = element(by.css('.parent')).all(by.tagName('li'));
</pre>
<p><b>element(locator).element(locator)</b></p>
<p>It will find elements within a parent.</p>
<p><b>Example</b></p>
<p><b>View</b></p>
<pre class="result notranslate">
&lt;div class = "parent"&gt;
   &lt;div class = "child"&gt;
      Child text
      &lt;div&gt;{{person.phone}}&lt;/div&gt;
   &lt;/div&gt;
&lt;/div&gt;
</pre>
<p><b>Code</b></p>
<pre class="prettyprint notranslate">
// Calls Chain 2 element.
let child = element(by.css('.parent')).
   element(by.css('.child'));
expect(child.getText()).toBe('Child text\n981-000-568');

// Calls Chain 3 element.
let triple = element(by.css('.parent')).
   element(by.css('.child')).
   element(by.binding('person.phone'));
expect(triple.getText()).toBe('981-000-568');
</pre>
<p><b>element(locator).all(selector)</b></p>
<p>It will find an array of elements within a parent when calls to $$ may be chained.</p>
<p><b>Example</b></p>
<p><b>View</b></p>
<pre class="prettyprint notranslate">
&lt;div class = "parent"&gt;
   &lt;ul&gt;
      &lt;li class = "one"&gt;First&lt;/li&gt;
      &lt;li class = "two"&gt;Second&lt;/li&gt;
      &lt;li class = "three"&gt;Third&lt;/li&gt;
   &lt;/ul&gt;
&lt;/div&gt;
</pre>
<p><b>Code</b></p>
<pre class="prettyprint notranslate">
let items = element(by.css('.parent')).$$('li'));
</pre>
<p><b>element(locator).$(locator)</b></p>
<p>It will find elements within a parent when calls to $ may be chained.</p>
<p><b>Example</b></p>
<p><b>View</b></p>
<pre class="prettyprint notranslate">
&lt;div class = "parent"&gt;
   &lt;div class = "child"&gt;
      Child text
      &lt;div&gt;{{person.phone}}&lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
</pre>
<p><b>Code</b></p>
<pre class="prettyprint notranslate">
// Calls Chain 2 element.
let child = element(by.css('.parent')).
   $('.child'));
expect(child.getText()).toBe('Child text\n981-000-568');

// Calls Chain 3 element.
let triple = element(by.css('.parent')).
   $('.child')).
   element(by.binding('person.phone'));
expect(triple.getText()).toBe('981-000-568');
</pre>
<p><b>element(locator).isPresent()</b></p>
<p>It will determine whether the element is presented on page or not.</p>
<p><b>Example</b></p>
<p><b>View</b></p>
<pre class="prettyprint notranslate">
&lt;span&gt;{{person.name}}&lt;/span&gt;
</pre>
<p><b>Code</b></p>
<pre class="prettyprint notranslate">
expect(element(by.binding('person.name')).isPresent()).toBe(true);
// will check for the existence of element

expect(element(by.binding('notPresent')).isPresent()).toBe(false); 
// will check for the non-existence of element
</pre>
<p><b>element(locator).isElementPresent()</b></p>
<p>It is same as element(locator).isPresent(). The only difference is that it will check whether the element identified by sublocator is present rather than the current element finder.</p>
<p><b>element.all(locator).evaluate</b></p>
<p>As the name suggests, it will evaluate the input whether it is on the scope of the current underlying elements or not.</p>
<p><b>Example</b></p>
<p><b>View</b></p>
<pre class="result notranslate">
&lt;span id = "foo"&gt;{{letiableInScope}}&lt;/span&gt;
</pre>
<p><b>Code</b></p>
<pre class="prettyprint notranslate">
let value = element(by.id('.foo')).evaluate('letiableInScope');
</pre>
<p><b>element(locator).allowAnimations</b></p>
<p>As the name suggests, it will determine whether the animation is allowed on the current underlying elements or not.</p>
<p><b>Example</b></p>
<pre class="result notranslate">
element(by.css('body')).allowAnimations(false);
</pre>
<p><b>element(locator).equals</b></p>
<p>As the name suggests, it will compare an element for equality.</p>
<h2>Locators(by) API</h2>
<p>It is basically a collection of element locator strategies that provides ways of finding elements in Angular applications by binding, model etc.</p>
<p><b>Functions and their descriptions</b></p>
<p>The functions of ProtractorLocators API are as follows &minus;</p>
<p><b>by.addLocator(locatorName,fuctionOrScript)</b></p>
<p>It will add a locator to this instance of ProtrcatorBy which further can be used with element(by.locatorName(args)).</p>
<p><b>Example</b></p>
<p><b>View</b></p>
<pre class="prettyprint notranslate">
&lt;button ng-click = "doAddition()"&gt;Go!&lt;/button&gt;
</pre>
<p><b>Code</b></p>
<pre class="prettyprint notranslate">
// Adding the custom locator.
by.addLocator('buttonTextSimple',
      function(buttonText, opt_parentElement, opt_rootSelector) {

      var using = opt_parentElement || document,
         buttons = using.querySelectorAll('button');

      return Array.prototype.filter.call(buttons, function(button) {
      return button.textContent === buttonText;
   });
});
element(by.buttonTextSimple('Go!')).click();// Using the custom locator.
</pre>
<p><b>by.binding</b></p>
<p>As the name suggests, it will find an element by text binding. A partial match will be done so that any elements bound to the variables containing the input string will be returned.</p>
<p><b>Example</b></p>
<p><b>View</b></p>
<pre class="prettyprint notranslate">
&lt;span&gt;{{person.name}}&lt;/span&gt;
&lt;span ng-bind = "person.email"&gt;&lt;/span&gt;
</pre>
<p><b>Code</b></p>
<pre class="prettyprint notranslate">
var span1 = element(by.binding('person.name'));
expect(span1.getText()).toBe('Foo');

var span2 = element(by.binding('person.email'));
expect(span2.getText()).toBe('foo@bar.com');
</pre>
<p><b>by.exactbinding</b></p>
<p>As the name suggests, it will find an element by exact binding.</p>
<p><b>Example</b></p>
<p><b>View</b></p>
<pre class="prettyprint notranslate">
&lt;spangt;{{ person.name }}&lt;/spangt;
&lt;span ng-bind = "person-email"gt;&lt;/spangt;
&lt;spangt;{{person_phone|uppercase}}&lt;/span&gt;
</pre>
<p><b>Code</b></p>
<pre class="prettyprint notranslate">
expect(element(by.exactBinding('person.name')).isPresent()).toBe(true);
expect(element(by.exactBinding('person-email')).isPresent()).toBe(true);
expect(element(by.exactBinding('person')).isPresent()).toBe(false);
expect(element(by.exactBinding('person_phone')).isPresent()).toBe(true);
expect(element(by.exactBinding('person_phone|uppercase')).isPresent()).toBe(true);
expect(element(by.exactBinding('phone')).isPresent()).toBe(false);
</pre>
<p><b>by.model(modelName)</b></p>
<p>As the name suggests, it will find an element by ng-model expression.</p>
<p><b>Example</b></p>
<p><b>View</b></p>
<pre class="prettyprint notranslate">
&lt;input type = "text" ng-model = "person.name"&gt;
</pre>
<p><b>Code</b></p>
<pre class="prettyprint notranslate">
var input = element(by.model('person.name'));
input.sendKeys('123');
expect(input.getAttribute('value')).toBe('Foo123');
</pre>
<p><b>by.buttonText</b></p>
<p>As the name suggests, it will find a button by text.</p>
<p><b>Example</b></p>
<p><b>View</b></p>
<pre class="prett] notranslate">
&lt;button&gt;Save&lt;/button&gt;
</pre>
<p><b>Code</b></p>
<pre class="prettyprint notranslate">
element(by.buttonText('Save'));
</pre>
<p><b>by.partialButtonText</b></p>
<p>As the name suggests, it will find a button by partial text.</p>
<p><b>Example</b></p>
<p><b>View</b></p>
<pre class="prettyprint notranslate">
&lt;button&gt;Save my file&lt;/button&gt;
</pre>
<p><b>Code</b></p>
<pre class="prettyprint notranslate">
element(by.partialButtonText('Save'));
</pre>
<p><b>by.repeater</b></p>
<p>As the name suggests, it will find an element inside an ng-repeat.</p>
<p><b>Example</b></p>
<p><b>View</b></p>
<pre class="prettyprint notranslate">
&lt;div ng-repeat = "cat in pets"&gt;
   &lt;span&gt;{{cat.name}}&lt;/span&gt;
   &lt;span&gt;{{cat.age}}&lt;/span&gt;
&lt;&lt;/div&gt;
&lt;div class = "book-img" ng-repeat-start="book in library"&gt;
   &lt;span&gt;{{$index}}&lt;/span&gt;
&lt;/div&gt;
&lt;div class = "book-info" ng-repeat-end&gt;
   &lt;h4&gt;{{book.name}}&lt;/h4&gt;
   &lt;p&gt;{{book.blurb}}&lt;/p&gt;
&lt;/div&gt;
</pre>
<p><b>Code</b></p>
<pre class="prettyprint notranslate">
var secondCat = element(by.repeater('cat in 
pets').row(1)); // It will return the DIV for the second cat.
var firstCatName = element(by.repeater('cat in pets').
   row(0).column('cat.name')); // It will return the SPAN for the first cat's name.
</pre>
<p><b>by.exactRepeater</b></p>
<p>As the name suggests, it will find an element by exact repeater.</p>
<p><b>Example</b></p>
<p><b>View</b></p>
<pre class="prettyprint notranslate">
&lt;li ng-repeat = "person in peopleWithRedHair"&gt;&lt;/li&gt;
&lt;li ng-repeat = "car in cars | orderBy:year"&gt;&lt;/li&gt;
</pre>
<p><b>Code</b></p>
<pre class="prettyprint notranslate">
expect(element(by.exactRepeater('person in
peopleWithRedHair')).isPresent())
   .toBe(true);
expect(element(by.exactRepeater('person in
people')).isPresent()).toBe(false);
expect(element(by.exactRepeater('car in cars')).isPresent()).toBe(true);
</pre>
<p><b>by.cssContainingText</b></p>
<p>As name suggest, it will find the elements, containing exact string, by CSS</p>
<p><b>Example</b></p>
<p><b>View</b></p>
<pre class="prettyprint notranslate">
&lt;ul&gt;
&lt;li class = "pet"&gt;Dog&lt;/li&gt;
&lt;li class = "pet"&gt;Cat&lt;/li&gt;
&lt;/ul&gt;
</pre>
<p><b>Code</b></p>
<pre class="prettyprint notranslate">
var dog = element(by.cssContainingText('.pet', 'Dog')); 
// It will return the li for the dog, but not for the cat.
</pre>
<p><b>by.options(optionsDescriptor)</b></p>
<p>As the name suggests, it will find an element by ng-options expression.</p>
<p><b>Example</b></p>
<p><b>View</b></p>
<pre class="prettyprint notranslate">
&lt;select ng-model = "color" ng-options = "c for c in colors"&gt;
   &lt;option value = "0" selected = "selected"&gt;red&lt;/option&gt;
   &lt;option value = "1"&gt;green&lt;/option&gt;
&lt;/select&gt;
</pre>
<p><b>Code</b></p>
<pre class="prettyprint notranslate">
var allOptions = element.all(by.options('c for c in colors'));
expect(allOptions.count()).toEqual(2);
var firstOption = allOptions.first();
expect(firstOption.getText()).toEqual('red');
</pre>
<p><b>by.deepCSS(selector)</b></p>
<p>As name suggest, it will find an element by CSS selector within the shadow DOM.</p>
<p><b>Example</b></p>
<p><b>View</b></p>
<pre class="prettyprint notranslate">
&lt;div&gt;
   &lt;span id = "outerspan"&gt;
      &lt;"shadow tree"&gt;
         &lt;span id = "span1"&gt;&lt;/span&gt;
      &lt;"shadow tree"&gt;
      &lt;span id = "span2"&gt;&lt;/span&gt;
   &lt;/&gt;
   &lt;/&gt;
&lt;/div&gt;
</pre>
<p><b>Code</b></p>
<pre class="prettyprint notranslate">
var spans = element.all(by.deepCss('span'));
expect(spans.count()).toEqual(3);
</pre>
<h1>Protractor - Objects</h1>
<p>This chapter discusses in detail about the objects in Protractor.</p>
<h2>What are Page Objects?</h2>
<p>Page object is a design pattern which has become popular for writing e2e tests in order to enhance the test maintenance and reducing the code duplication. It may be defined as an object-oriented class serving as an interface to a page of your AUT (application under test). But, before diving deep into page objects, we must have to understand the challenges with automated UI testing and the ways to handle them.</p>
<h2>Challenges with automated UI testing</h2>
<p>Followings are some common challenges with automates UI testing &minus;</p>
<h3>UI Changes</h3>
<p>The very common issues while working with UI testing is the changes happens in UI. For example, it happens most of the time that buttons or textboxes etc. usually got change and creates issues for UI testing.</p>
<h3>Lack of DSL(Domain Specific Language) support</h3>
<p>Another issue with UI testing is the lack of DSL support. With this issue, it becomes very hard to understand what is being tested.</p>
<h3>Lots of repetition/Code duplication</h3>
<p>The next common problem in UI testing is that there is lots of repetition or code duplication. It can be understood with the help of following lines of code &minus;</p>
<pre class="prettyprint notranslate">
element(by.model(‘event.name’)).sendKeys(‘An Event’);
element(by.model(‘event.name’)).sendKeys(‘Module 3’);
element(by.model(‘event.name’));
</pre>
<h3>Tough maintenance</h3>
<p>Due to the above challenges, it becomes headache for maintenance. It is because we have to find all the instances, replace with the new name, selector & other code. We also need to spend lots of time to keep tests in line with refactoring.</p>
<h3>Broken tests</h3>
<p>Another challenge in UI testing is the happening of lots of failures in tests.</p>
<h2>Ways to Handle Challenges</h2>
<p>We have seen some common challenges of UI testing. Some of the ways to handle such challenges are as follows &minus;</p>
<h3>Updating References Manually</h3>
<p>The very first option for handling the above challenges is to update the references manually. The problem with this option is that we must do the manual change in the code as well as our tests. This can be done when you have one or two tests files but what if you have hundreds of tests files in a project?</p>
<h3>Using Page Objects</h3>
<p>Another option for handling above challenges is to use page objects. A page object is basically a plain JavaScript that encapsulates the properties of an Angular template. For example, the following specification file is written without and with page objects to understand the difference &minus;</p>
<p><b>Without Page Objects</b></p>
<pre class="prettyprint notranslate">
describe('angularjs homepage', function() {
   it('should greet the named user', function() {
      browser.get('http://www.angularjs.org');
      element(by.model('yourName')).sendKeys('Julie');
      var greeting = element(by.binding('yourName'));
      expect(greeting.getText()).toEqual('Hello Julie!');
   });
});
</pre>
<p><b>With Page Objects</b></p>
<p>For writing the code with Page Objects, the first thing we need to do is to create a Page Object. Hence, a Page Object for the above example could look like this &minus;</p>
<pre class="prettyprint notranslate">
var AngularHomepage = function() {
   var nameInput = element(by.model('yourName'));
   var greeting = element(by.binding('yourName'));

   this.get = function() {
      browser.get('http://www.angularjs.org');
   };

   this.setName = function(name) {
      nameInput.sendKeys(name);
   };
   
   this.getGreetingText = function() {
      return greeting.getText();
   };
};
module.exports = new AngularHomepage();
</pre>
<h2>Using Page Objects to Organize Tests</h2>
<p>We have seen the use of page objects in the above example to handle the challenges of UI testing. Next, we are going to discuss how we can use them to organize the tests. For this we need to modify the test script without modifying the functionality of the test script.</p>
<h3>Example</h3>
<p>To understand this concept we are taking the above configuration file with page objects. We need to modify the test script as follows &minus;</p>
<pre class="prettyprint notranslate">
var angularHomepage = require('./AngularHomepage');
describe('angularjs homepage', function() {
   it('should greet the named user', function() {
      angularHomepage.get();

      angularHomepage.setName('Julie');
   
      expect(angularHomepage.getGreetingText()).toEqual
      ('Hello Julie!');
   });
});
</pre>
<p>Here, note that the path to the page object will be relative to your specification.</p>
<p>On the same note, we can also separate our test suite into various test suites. The configuration file then can be changed as follows</p>
<pre class="prettyprint notranslate">
exports.config = {
   // The address of a running selenium server.
   seleniumAddress: 'http://localhost:4444/wd/hub',

   // Capabilities to be passed to the webdriver instance.
   capabilities: {
      'browserName': 'chrome'
   },
   // Spec patterns are relative to the location of the spec file. They may
   // include glob patterns.
   suites: {
      homepage: 'tests/e2e/homepage/**/*Spec.js',
      search: ['tests/e2e/contact_search/**/*Spec.js',
         'tests/e2e/venue_search/**/*Spec.js']
   },

   // Options to be passed to Jasmine-node.
   jasmineNodeOpts: {
      showColors: true, // Use colors in the command line report.
   }
};
</pre>
<p>Now, we can easily switch between running one or the other suite of tests. The following command will run only the homepage section of the test &minus;</p>
<pre class="result notranslate">
protractor protractor.conf.js --suite homepage
</pre>
<p>Similarly, we can run specific suites of tests with the command as follows &minus;</p>
<pre class="result notranslate">
protractor protractor.conf.js --suite homepage,search
</pre>
<h1>Protractor - Debugging</h1>
<p>Now that we have seen all the concepts of Protractor in the previous chapters, let us understand the debugging concepts in detail in this chapter.</p>
<h2>Introduction</h2>
<p>End-to-end (e2e) tests are very difficult to debug because they depend on the whole ecosystem of that application. We have seen that they depend upon various actions or particularly we can say that on prior actions like login and sometimes they depend on the permission. Another difficulty in debugging e2e tests is its dependency on WebDriver because it acts differently with different operating systems and browsers. Finally, debugging e2e tests also generates long error messages and makes it difficult to separate browser related issues and test process errors.</p>
<h2>Types of Failure</h2>
<p>There can be various reasons for the failure of test suites and followings are some well-known failure types &minus;</p>
<h3>WebDriver failure</h3>
<p>When a command cannot be completed, an error is thrown by WebDriver. For example, a browser cannot get the defined address, or an element is not found as expected.</p>
<h3>WebDriver unexpected failure</h3>
<p>An unexpected browser and OS-related failure happens when it fails to update the web driver manager.</p>
<h3>Protractor failure for Angular</h3>
<p>The failure of Protractor for Angular happens when Protractor didn’t find Angular in the library as expected.</p>
<h3>Protractor Angular2 failure</h3>
<p>In this kind of failure, Protractor will fail when the useAllAngular2AppRoots parameter is not found in the configuration. It happens because, without this, the test process will look at one single root element while expecting more than one element in the process.</p>
<h3>Protractor failure for timeout</h3>
<p>This kind of failure happens when the test specification hit a loop or a long pool and fails to return the data in time.</p>
<h3>Expectation failure</h3>
<p>One of the most common test failures that shows what a normal expectation failure looks like.</p>
<h2>Why debugging is important in Protractor?</h2>
<p>Suppose, if you have written test cases and they got failed then it is very important to know how to debug those test cases because it would be very hard to find the exact place where the error has occurred. While working with Protractor, you will get some long errors in red color font in the command line.</p>
<h2>Pausing and Debugging the Test</h2>
<p>The ways to debug in Protractor are explained here &miuns;</p>
<h3>Pause Method</h3>
<p>Using the pause method to debug the test cases in Protractor is one of the easiest ways. We can type the following command at the place we want to pause our test code &miuns;</p>
<pre class="result notranslate">
browser.pause();
</pre>
<p>When the running codes hits the above command, it will pause the running program at that point. After that we can give the following commands according to our preference &minus;</p>
<h3>Type C for Moving Forward</h3>
<p>Whenever a command has exhausted, we must type C to move forward. If you will not type C, the test will not run the full code and it will fail due to Jasmine time out error.</p>
<h3>Type repl for entering interactive mode</h3>
<p>The benefit of interactive mode is that we can send the WebDriver commands to our browser. If we want to enter into the interactive mode, then type <b>repl</b>.</p>
<h3>Type Ctrl-C for exiting and continuing the tests</h3>
<p>For exiting the test from pause state and continuing the test from where it has stopped, we need to type Ctrl-C.</p>
<h3>Example</h3>
<p>In this example, we are having the below specification file named <b>example_debug.js</b>, protractor tries to identify an element with locator <b>by.binding</b>(‘mmmm’) but the URL(<a target="_blank" rel="nofollow" href="https://angularjs.org/">https://angularjs.org/</a> page has no element with specified locator.</p>
<pre class="prettyprint notranslate">
describe('Suite for protractor debugger',function(){
   it('Failing spec',function(){
      browser.get("http://angularjs.org");
      element(by.model('yourName')).sendKeys('Vijay');
         //Element doesn't exist
         var welcomeText = 
         element(by.binding('mmmm')).getText();
         expect('Hello '+welcomeText+'!').toEqual('Hello Ram!')
   });
});
</pre>
<p>Now, for executing the above test we need to add browser.pause() code, where you want to pause the test, in the above specification file. It will look as follows &minus;</p>
<pre class="prettyprint notranslate">
describe('Suite for protractor debugger',function(){
   it('Failing spec',function(){
      browser.get("http://angularjs.org");
      browser.pause();
      element(by.model('yourName')).sendKeys('Vijay');
      //Element doesn't exist
      var welcomeText = 
      element(by.binding('mmmm')).getText();
      expect('Hello '+welcomeText+'!').toEqual('Hello Ram!')
   });
});
</pre>
<p>But before executing, we need to do some changes in the configuration file also. We are doing the following changes in earlier used configuration file, named <b>example_configuration.js</b> in previous chapter &minus;</p>
<pre class="prettyprint notranslate">
// An example configuration file.
exports.config = {
   directConnect: true,

   // Capabilities to be passed to the webdriver instance.
   capabilities: {
      'browserName': 'chrome'
   },

   // Framework to use. Jasmine is recommended.
   framework: 'jasmine',

   // Spec patterns are relative to the current working directory when

   // protractor is called.
   specs: ['example_debug.js'],
      allScriptsTimeout: 999999,
      jasmineNodeOpts: {
      defaultTimeoutInterval: 999999
   },
   onPrepare: function () {
      browser.manage().window().maximize();
      browser.manage().timeouts().implicitlyWait(5000);
   }
};
</pre>
<p>Now, run the following command &minus;</p>
<pre class="result notranslate">
protractor example_configuration.js
</pre>
<p>The debugger will start after the above command.</p>
<h3>Debugger Method</h3>
<p>Using the pause method to debug the test cases in Protractor is a bit advanced way. We can type the following command at the place we want to break our test code &minus;</p>
<pre class="result notranslate">
browser.debugger();
</pre>
<p>It uses the node debugger to debug the test code. For running the above command, we must type the following command in a separate command prompt which has opened from the test project location &minus;</p>
<pre class="result notranslate">
protractor debug protractor.conf.js
</pre>
<p>In this method, we also need to type C in the terminal for continuing the test code. But opposite to pause method, in this method it is to be typed for only one time.</p>
<h3>Example</h3>
<p>In this example, we are using the same specification file named b<b>example_debug.js</b>, used above. The only difference is that instead of <b>browser.pause()</b>, we need to use <b>browser.debugger()</b> where we want to break the test code. It will look as follows &minus;</p>
<pre class="prettyprint notranslate">
describe('Suite for protractor debugger',function(){
   it('Failing spec',function(){
      browser.get("http://angularjs.org");
      browser.debugger();
      element(by.model('yourName')).sendKeys('Vijay');
      //Element doesn't exist
      var welcomeText = element(by.binding('mmmm')).getText();
      expect('Hello '+welcomeText+'!').toEqual('Hello Ram!')
   });
});
</pre>
<p>We are using the same configuration file, <b>example_configuration.js</b>, used in above example.</p>
<p>Now, run the protractor test with following debug command line option</p>
<pre class="result notranslate">
protractor debug example_configuration.js
</pre>
<p>The debugger will start after the above command.</p>
<h1>Protractor - Style Guide For Protractor</h1>
<p>In this chapter, let us learn in detail about style guide for protractor.</p>
<h2>Introduction</h2>
<p>The style guide was created by two software engineers named, <b>Carmen Popoviciu</b>, front-end engineer at ING and <b>Andres Dominguez</b>, software engineer at Google. Hence, this style guide is also called Carmen Popoviciu and Google’s style guide for protractor.</p>
<p>This style guide can be divided into the following five keypoints &minus;</p>
<ul class="list">
<li>Generic rules</li>
<li>Project Structure</li>
<li>Locator strategies</li>
<li>Page Objects</li>
<li>Test suites</li>
</ul>
<h2>Generic Rules</h2>
<p>The following are some generic rules that must be taken care while using protractor for testing &minus;</p>
<h3>Do not end-to-end test what has been already unit tested</h3>
<p>This is the very first generic rule given by Carmen and Andres. They suggested that we must not perform e2e test on the code that already been unit tested. The main reason behind it is that the unit tests are much faster than e2e tests. Another reason is that we must have to avoid duplicate tests (don’t perform both unit and e2e testing) for saving our time.</p>
<h3>Use only one configuration file</h3>
<p>Another important point recommended is that we must have to use only one configuration file. Do not create configuration file for each environment you are testing. You can use <b>grunt-protractor-coverage</b> in order to set up different environments.</p>
<h3>Avoid using logic to your test</h3>
<p>We must have to avoid using IF statements or FOR loops in our test cases because if we do so then the test may pass without testing anything or it may run very slow.</p>
<h3>Make the test independent at file level</h3>
<p>Protractor can run the test parallelly when sharing is enabled. These files are then executed across different browsers as and when they become available. Carmen and Andres recommended to make the test independent at least at file level because the order in which they will be run by protractor is uncertain and moreover it is quite easy to run a test in isolation.</p>
<h2>Project Structure</h2>
<p>Another important key point regarding the style guide of Protractor is the structure of your project. The following is the recommendation about project structure &minus;</p>
<h3>Groping e2e test in a sensible structure</h3>
<p>Carmen and Andres recommended that we must group our e2e tests in a structure that makes sense to the structure of your project. The reason behind this recommendation is that the finding of files would become easy and the folder structure would be more readable. This step will also separate e2e tests from unit tests. They recommended that the following kind of structure should be avoided &minus;</p>
<pre class="prettyprint notranslate">
|-- project-folder
   |-- app
      |-- css
      |-- img
      |-- partials
         home.html
         profile.html
         contacts.html
      |-- js
         |-- controllers
         |-- directives
         |-- services
         app.js
         ...
      index.html
   |-- test
      |-- unit
      |-- e2e
         home-page.js
         home-spec.js
         profile-page.js
         profile-spec.js
         contacts-page.js
         contacts-spec.js
</pre>
<p>On the other hand, they recommended the following kind of structure &minus;</p>
<pre class="prettyprint notranslate">
|-- project-folder
   |-- app
      |-- css
      |-- img
      |-- partials
         home.html
         profile.html
         contacts.html
      |-- js
         |-- controllers
         |-- directives
         |-- services
         app.js
         ...
      index.html
   |-- test
      |-- unit
      |-- e2e
         |-- page-objects
            home-page.js
            profile-page.js
            contacts-page.js
         home-spec.js
         profile-spec.js
         contacts-spec.js
</pre>
<h2>Locator Strategies</h2>
<p>The following are some locator strategies that must be taken care while using protractor for testing &minus;</p>
<h3>Never use XPATH</h3>
<p>This is the first locator strategies that is recommended in protractor style guide. The reasons behind the same is that XPath is requires lots of maintenance because markup is very easily subject to change. Moreover, XPath expressions are the slowest and very hard to debug.</p>
<h3>Always prefer protractor-specific locators such as by.model and by.binding</h3>
<p>Protractor-specific locators such as by.model and by.binding are short, specific and easy to read. With the help of them it is very easy to write our locator also.</p>
<h3>Example</h3>
<p><b>View</b></p>
<pre class="prettyprint notranslate">
&lt;ul class = "red"&gt;
   &lt;li&gt;{{color.name}}&lt;/li&gt;
   &lt;li&gt;{{color.shade}}&lt;/li&gt;
   &lt;li&gt;{{color.code}}&lt;/li&gt;
&lt;/ul&gt;

&lt;div class = "details"&gt;
   &lt;div class = "personal"&gt;
      &lt;input ng-model = "person.name"&gt;
   &lt;/div&gt;
&lt;/div&gt;
</pre>
<p>For the above code, it is recommended to avoid the following &minus;</p>
<pre class="prettyprint notranslate">
var nameElement = element.all(by.css('.red li')).get(0);
var personName = element(by.css('.details .personal input'));
</pre>
<p>On the other hand, the following is recommended to use &minus;</p>
<pre class="result notranslate">
var nameElement = element.all(by.css('.red li')).get(0);
var personName = element(by.css('.details .personal input'));
</pre>
<pre class="result notranslate">
var nameElement = element(by.binding('color.name'));
var personName = element(by.model('person.name'));
</pre>
<p>When no Protractor locators are available, then it is recommended to prefer by.id and by.css.</p>
<h3>Always avoid text locators for frequently changing text</h3>
<p>We must have to avoid text-based locators such as by.linkText, by.buttonText and by.cssContaningText because text for buttons, links and labels frequently change over time.</p>
<h2>Page Objects</h2>
<p>As discussed earlier, page objects encapsulate information about the elements on our application page and due to this help us write cleaner test cases. A very useful advantage of page objects is that they can be reused across multiple tests and in case if the template of our application has been changed, we only need to update the page object. Followings are some recommendations for page objects that must be taken care while using protractor for testing &minus;</p>
<h3>To interact with page under test, use page objects</h3>
<p>It is recommended to use page objects to interact with the page under test because they can encapsulate information about the element on the page under test and they can be reused also.</p>
<h3>Always declare one-page object per file</h3>
<p>We should define each page object in its own file because it keeps the code clean and finding of things becomes easy.</p>
<h3>At the end of page object file always uses a single module.exports</h3>
<p>It is recommended that each page object should declare a single class so that we only need to export one class. For example, the following use of object file should be avoided &minus;</p>
<pre class="result notranslate">
var UserProfilePage = function() {};
var UserSettingsPage = function() {};
module.exports = UserPropertiesPage;
module.exports = UserSettingsPage;
</pre>
<p>But on the other hand, following is recommended to use &minus;</p>
<pre class="result notranslate">
/** @constructor */
var UserPropertiesPage = function() {};

module.exports = UserPropertiesPage;
</pre>
<h3>Declare all the required modules at the top</h3>
<p>We should declare all the required modules at the top of the page object because it makes module dependencies clear and easy to find.</p>
<h3>Instantiate all page objects at the beginning of the test suite</h3>
<p>It is recommended to instantiate all the page objects at the beginning of the test suite because this will separate dependencies from the test code as well as makes the dependencies available to all the specifications of the suite.</p>
<h3>Do not use expect() in page objects</h3>
<p>We should not use expect() in page objects i.e. we should not make any assertions in our page objects because all the assertions must be done in test cases.</p>
<p>Another reason is that the reader of the test should be able to understand the behavior of the application by reading the test cases only.</p>
<div class="mui-container-fluid button-borders show">
<div class="pre-btn">
<a href="/protractor/protractor_style_guide.htm"><i class="fal fa-chevron-circle-left"></i> Previous Page</a>
</div>
<div class="nxt-btn">
<a href="/protractor/protractor_useful_resources.htm">Next Page <i class="fal fa-chevron-circle-right"></i>&nbsp;</a>
</div>
</div>
<div class="google-bottom-ads">
<div>Advertisements</div>
<script><!--
var width = 580;
var height = 400;
var format = "580x400_as";
if( window.innerWidth < 468 ){
   width = 300;
   height = 250;
   format = "300x250_as";
}
google_ad_client = "pub-7133395778201029";
google_ad_width = width;
google_ad_height = height;
google_ad_format = format;
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
<div class="space-bottom"></div>
</div>
</div>
<!-- Tutorial Content Ends Here -->
<!-- Right Column Starts Here -->
<div class="mui-col-md-2 google-right-ads">
<div class="space-top"></div>
<div class="google-right-ad" style="margin: 0px auto !important;margin-top:5px;">
<script><!--
google_ad_client = "pub-2537027957187252";
google_ad_width = 300;
google_ad_height = 250;
google_ad_format = "300x250_as";
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>
<div class="google-right-ad">
<div class="adsbyvli" data-ad-slot="vi_9012177"></div>
<script>(vitag.Init = window.vitag.Init || []).push(function(){viAPItag.display("vi_9012177")})</script>
</div>
<div class="space-bottom"></div>
<div class="google-right-ad">
<div class="adsbyvli" data-ad-slot="vi_9013289"></div>
<script>(vitag.Init = window.vitag.Init || []).push(function(){viAPItag.display("vi_9013289")})</script>
</div>
<div class="space-bottom" style="margin-bottom:15px;"></div>
</div>
<!-- Right Column Ends Here -->
</div>
</div>
<div class="clear"></div>
<footer id="footer">
<div class="mui--text-center">
<div class="mui--text-caption mui--text-light">
<a href="/index.htm" class="logo"><img class="img-responsive" src="/images/logo-black.png" alt="Tutorials Point" title="Tutorials Point"></a>
</div>
<ul class="mui-list--inline mui--text-body2 mui--text-light">
<li><a href="/about/index.htm"><i class="fal fa-globe"></i> About us</a></li>
<li><a href="/about/about_terms_of_use.htm"><i class="fal fa-asterisk"></i> Terms of use</a></li>
<li><a href="/about/about_privacy.htm#cookies"> <i class="fal fa-shield-check"></i> Cookies Policy</a></li>
<li><a href="/about/faq.htm"><i class="fal fa-question-circle"></i> FAQ's</a></li>
<li><a href="/about/about_helping.htm"><i class="fal fa-hands-helping"></i> Helping</a></li>
<li><a href="/about/contact_us.htm"><i class="fal fa-map-marker-alt"></i> Contact</a></li>
</ul>
<div class="mui--text-caption mui--text-light bottom-copyright-text">&copy; Copyright 2019. All Rights Reserved.</div>
</div>
<div id="privacy-banner">
  <div>
    <p>
      We use cookies to provide and improve our services. By using our site, you consent to our Cookies Policy.
      <a id="banner-accept" href="#">Accept</a>
      <a id="banner-learn" href="/about/about_cookies.htm" target="_blank">Learn more</a>
    </p>
  </div>
</div>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-232293-17"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-232293-6');
</script>
</footer>
</body>
</html>
