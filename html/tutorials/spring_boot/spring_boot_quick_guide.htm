<!DOCTYPE html>
<html lang="en-US">
<head>
<title>Spring Boot - Quick Guide - Tutorialspoint</title>
<meta charset="utf-8">
<meta name="description" content="Spring Boot - Quick Guide - Spring Boot is an open source Java-based framework used to create a micro Service. It is  developed by Pivotal Team and is used to build stand-alone and product"/>
<meta name="keywords" content="C, C++, Python, Java, HTML, CSS, JavaScript, SQL, PHP, jQuery, XML, DOM, Bootstrap, Tutorials, Articles, Programming, training, learning, quiz, preferences, examples, code"/>
<link rel="canonical" href="https://www.tutorialspoint.com/spring_boot/spring_boot_quick_guide.htm" />
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=yes">
<script src="/theme/js/script-min-v2.js?v=3"></script>
<link rel="stylesheet" href="/theme/css/style-min-v2.css?v=6">
<script src="//services.bilsyndication.com/adv1/?d=901" defer="" async=""></script>
<script> var vitag = vitag || {};</script>
<script> vitag.outStreamConfig = { enablePC: false, enableMobile: false };</script>  
<style>
.right-menu .mui-btn {
    background-color:#6eb33f;
}
a.demo {
    background:#6eb33f;
}
li.heading {
    background:#6eb33f;
}
.course-box{background:#6eb33f}
.home-intro-sub p{color:#6eb33f}
</style>
</head>
<body>
<header id="header">
<!-- Top sub-menu Starts Here -->
<div class="mui-appbar mui-container-fulid top-menu">
<div class="mui-container">
<div class="top-menu-item home">
<a href="https://www.tutorialspoint.com/index.htm" target="_blank" title="TutorialsPoint - Home"><i class="fal fa-home"></i> <span>Home</span></a>
</div>
<div class="top-menu-item qa">
<a href="https://www.tutorialspoint.com/about/about_careers.htm" target="_blank" title="Job @ Tutorials Point"><i class="fa fa-suitcase"></i> <span>Jobs</span></a>
</div>
<div class="top-menu-item tools">
<a href="https://www.tutorialspoint.com/online_dev_tools.htm" target="_blank" title="Tools - Online Development and Testing Tools"><i class="fal fa-cogs"></i> <span>Tools</span></a>
</div>
<div class="top-menu-item coding-ground">
<a href="https://www.tutorialspoint.com/codingground.htm" target="_blank" title="Coding Ground - Free Online IDE and Terminal"><i class="fal fa-code"></i> <span>Coding Ground </span></a> 
</div>
<div class="top-menu-item current-affairs">
<a href="https://www.tutorialspoint.com/current_affairs.htm" target="_blank" title="Daily Current Affairs"><i class="fal fa-layer-plus"></i> <span>Current Affairs</span></a>
</div>
<div class="top-menu-item upsc-notes">
<a href="https://www.tutorialspoint.com/upsc_ias_exams.htm" target="_blank" title="UPSC IAS Exams Notes - TutorialsPoint"><i class="fal fa-user-tie"></i> <span>UPSC Notes</span></a>
</div>      
<div class="top-menu-item online-tutoris">
<a href="https://www.tutorialspoint.com/tutor_connect/index.php" target="_blank" title="Top Online Tutors - Tutor Connect"><i class="fal fa-user"></i> <span>Online Tutors</span></a>
</div>
<div class="top-menu-item whiteboard">
<a href="https://www.tutorialspoint.com/whiteboard.htm" target="_blank" title="Free Online Whiteboard"><i class="fal fa-chalkboard"></i> <span>Whiteboard</span></a>
</div>
<div class="top-menu-item net-meeting">
<a href="https://www.tutorialspoint.com/netmeeting.php" target="_blank" title="A free tool for online video conferencing"><i class="fal fa-chalkboard-teacher"></i> <span>Net Meeting</span></a> 
</div>
<div class="top-menu-item articles">
<a href="https://www.tutorix.com" target="_blank" title="Tutorx - The Best Learning App" rel="nofollow"><i class="fal fa-video"></i> <span>Tutorix</span></a> 
</div>        
<div class="social-menu-item">
<a href="https://www.facebook.com/tutorialspointindia" target="_blank" rel="nofollow" data-placement="bottom" title="tutorialspoint @ Facebook"><i class="fab fa-facebook-f"></i></a> 
<a href="https://www.twitter.com/tutorialspoint" target="_blank" rel="nofollow" data-placement="bottom" title="tutorialspoint @ Twitter"><i class="fab fa-twitter"></i></a>
<a href="https://www.linkedin.com/company/tutorialspoint" target="_blank" rel="nofollow" data-placement="bottom" title="tutorialspoint @ Linkedin"><i class="fab fa-linkedin-in"></i></a>
<a href="https://www.youtube.com/channel/UCVLbzhxVTiTLiVKeGV7WEBg" target="_blank" rel="nofollow" data-placement="bottom" title="tutorialspoint YouTube"><i class="fab fa-youtube"></i></a>
</div>        
</div>
</div>
<!-- Top sub-menu Ends Here -->
<!-- Top main-menu Starts Here -->
<div class="mui-appbar mui-container-fulid mui--appbar-line-height mui--z1" id="logo-menu">
<div class="mui-container">
<div class="left-menu">
<a href="https://www.tutorialspoint.com/index.htm" title="Tutorialspoint">
<img class="tp-logo" alt="tutorialspoint" src="/spring_boot/images/logo.png">
</a>
<div class="mui-dropdown">
<a class="mui-btn mui-btn--primary categories" data-mui-toggle="dropdown"><i class="fa fa-th-large"></i> 
<span>Categories <span class="mui-caret"></span></span></a>            
<ul class="mui-dropdown__menu cat-menu">
<li>
<ul>
<li><a href="/academic_tutorials.htm"><i class="fa fa-caret-right"></i> Academic Tutorials</a></li>
<li><a href="/big_data_tutorials.htm"><i class="fa fa-caret-right"></i> Big Data &amp; Analytics </a></li>
<li><a href="/computer_programming_tutorials.htm"><i class="fa fa-caret-right"></i> Computer Programming </a></li>
<li><a href="/computer_science_tutorials.htm"><i class="fa fa-caret-right"></i> Computer Science </a></li>
<li><a href="/database_tutorials.htm"><i class="fa fa-caret-right"></i> Databases </a></li>
<li><a href="/devops_tutorials.htm"><i class="fa fa-caret-right"></i> DevOps </a></li>
<li><a href="/digital_marketing_tutorials.htm"><i class="fa fa-caret-right"></i> Digital Marketing </a></li>
<li><a href="/engineering_tutorials.htm"><i class="fa fa-caret-right"></i> Engineering Tutorials </a></li>
<li><a href="/upsc_ias_exams.htm"><i class="fa fa-caret-right"></i> Exams Syllabus </a></li>
<li><a href="/famous_monuments.htm"><i class="fa fa-caret-right"></i> Famous Monuments </a></li>
<li><a href="/gate_exams_tutorials.htm"><i class="fa fa-caret-right"></i> GATE Exams Tutorials</a></li>
<li><a href="/latest_technologies.htm"><i class="fa fa-caret-right"></i> Latest Technologies </a></li>
<li><a href="/machine_learning_tutorials.htm"><i class="fa fa-caret-right"></i> Machine Learning </a></li>
<li><a href="/mainframe_tutorials.htm"><i class="fa fa-caret-right"></i> Mainframe Development </a></li>
<li><a href="/management_tutorials.htm"><i class="fa fa-caret-right"></i> Management Tutorials </a></li>
<li><a href="/maths_tutorials.htm"><i class="fa fa-caret-right"></i> Mathematics Tutorials</a></li>
<li><a href="/microsoft_technologies_tutorials.htm"><i class="fa fa-caret-right"></i> Microsoft Technologies </a></li>
<li><a href="/misc_tutorials.htm"><i class="fa fa-caret-right"></i> Misc tutorials </a></li>
<li><a href="/mobile_development_tutorials.htm"><i class="fa fa-caret-right"></i> Mobile Development </a></li>
<li><a href="/java_technology_tutorials.htm"><i class="fa fa-caret-right"></i> Java Technologies </a></li>
<li><a href="/python_technologies_tutorials.htm"><i class="fa fa-caret-right"></i> Python Technologies </a></li>
<li><a href="/sap_tutorials.htm"><i class="fa fa-caret-right"></i> SAP Tutorials </a></li>
<li><a href="/scripting_lnaguage_tutorials.htm"><i class="fa fa-caret-right"></i>Programming Scripts </a></li>
<li><a href="/selected_reading.htm"><i class="fa fa-caret-right"></i> Selected Reading </a></li>
<li><a href="/software_quality_tutorials.htm"><i class="fa fa-caret-right"></i> Software Quality </a></li>
<li><a href="/soft_skill_tutorials.htm"><i class="fa fa-caret-right"></i> Soft Skills </a></li>
<li><a href="/telecom_tutorials.htm"><i class="fa fa-caret-right"></i> Telecom Tutorials </a></li>
<li><a href="/upsc_ias_exams.htm"><i class="fa fa-caret-right"></i> UPSC IAS Exams </a></li>
<li><a href="/web_development_tutorials.htm"><i class="fa fa-caret-right"></i> Web Development </a></li>
<li><a href="/sports_tutorials.htm"><i class="fa fa-caret-right"></i> Sports Tutorials </a></li>
<li><a href="/xml_technologies_tutorials.htm"><i class="fa fa-caret-right"></i> XML Technologies </a></li>
<li><a href="/multi_language_tutorials.htm"><i class="fa fa-caret-right"></i> Multi-Language Tutorials</a></li>
<li><a href="/questions_and_answers.htm"><i class="fa fa-caret-right"></i> Interview Questions</a></li>
</ul>
</li>
</ul>
<div class="clear"></div>
</div> 
</div>
<div class="right-menu">
<div class="toc-toggle">
<a href="javascript:void(0);"><i class="fa fa-bars"></i></a>
</div>
<div class="mobile-search-btn">
<a href="https://www.tutorialspoint.com/search.htm"><i class="fal fa-search"></i></a>
</div>
<div class="search-box">
<form method="get" class="" name="searchform" action="https://www.google.com/search" target="_blank" novalidate="">
<input type="hidden" name="sitesearch" value="www.tutorialspoint.com" class="user-valid valid">
<input class="header-search-box" type="text" id="search-string" name="q" placeholder="Search your favorite tutorials..." onfocus="if (this.value == 'Search your favorite tutorials...') {this.value = '';}" onblur="if (this.value == '') {this.value = 'Search your favorite tutorials...';}" autocomplete="off">
<button><i class="fal fa-search"></i></button>
</form>
</div>
<div class="menu-btn library-btn">
<a href="https://www.tutorialspoint.com/tutorialslibrary.htm"><i class="fal fa-cubes"></i> <span>Library</span></a>
</div>
<div class="menu-btn videos-btn">
<a href="https://www.tutorialspoint.com/videotutorials/index.htm"><i class="fal fa-video"></i> <span>Videos</span></a> 
</div>
<div class="menu-btn videos-btn">
<a href="https://www.tutorialspoint.com/questions/index.php"><i class="fa fa-location-arrow"></i> <span>Q/A</span></a>
</div>
<div class="menu-btn ebooks-btn">
<a href="https://store.tutorialspoint.com"><i class="fal fa-book"></i> <span>eBooks</span></a>
</div>
<div class="mui-dropdown">
<button class="mui-btn mui-btn--primary" data-mui-toggle="dropdown">
<span class="mui-caret"></span>
</button>
<ul class="mui-dropdown__menu">
<li><a href="https://www.tutorialspoint.com/tutorialslibrary.htm"><i class="fal fa-cubes"></i> <span>Library</span></a></li>
<li><a href="https://www.tutorialspoint.com/videotutorials/index.htm"><i class="fal fa-video"></i> <span>Videos</span></a></li>
<li><a href="https://store.tutorialspoint.com"><i class="fal fa-book"></i> <span>eBooks</span></a></li>
</ul>
</div>
</div>
</div>
</div>
<!-- Top main-menu Ends Here -->
</header>
<div class="mui-container-fluid content">
<div class="mui-container">
<!-- Tutorial ToC Starts Here -->
<div class="mui-col-md-3 tutorial-toc">
<div class="mini-logo">
<img src="/spring_boot/images/spring-boot-mini-logo.jpg" alt="Spring Boot Tutorial" />
</div>
<ul class="toc chapters">
<li class="heading">Spring Boot Tutorial</li>
<li><a href="/spring_boot/index.htm">Spring Boot - Home</a></li>
<li><a href="/spring_boot/spring_boot_introduction.htm">Spring Boot - Introduction</a></li>
<li><a href="/spring_boot/spring_boot_quick_start.htm">Spring Boot - Quick Start</a></li>
<li><a href="/spring_boot/spring_boot_bootstrapping.htm">Spring Boot - Bootstrapping</a></li>
<li><a href="/spring_boot/spring_boot_tomcat_deployment.htm">Spring Boot - Tomcat Deployment</a></li>
<li><a href="/spring_boot/spring_boot_build_systems.htm">Spring Boot - Build Systems</a></li>
<li><a href="/spring_boot/spring_boot_code_structure.htm">Spring Boot - Code Structure</a></li>
<li><a href="/spring_boot/spring_boot_beans_and_dependency_injection.htm">Spring Beans &amp; Dependency Injection</a></li>
<li><a href="/spring_boot/spring_boot_runners.htm">Spring Boot - Runners</a></li>
<li><a href="/spring_boot/spring_boot_application_properties.htm">Spring Boot - Application Properties</a></li>
<li><a href="/spring_boot/spring_boot_logging.htm">Spring Boot - Logging</a></li>
<li><a href="/spring_boot/spring_boot_building_restful_web_services.htm">Building RESTful Web Services</a></li>
<li><a href="/spring_boot/spring_boot_exception_handling.htm">Spring Boot - Exception Handling</a></li>
<li><a href="/spring_boot/spring_boot_interceptor.htm">Spring Boot - Interceptor</a></li>
<li><a href="/spring_boot/spring_boot_servlet_filter.htm">Spring Boot - Servlet Filter</a></li>
<li><a href="/spring_boot/spring_boot_tomcat_port_number.htm">Spring Boot - Tomcat Port Number</a></li>
<li><a href="/spring_boot/spring_boot_rest_template.htm">Spring Boot - Rest Template</a></li>
<li><a href="/spring_boot/spring_boot_file_handling.htm">Spring Boot - File Handling</a></li>
<li><a href="/spring_boot/spring_boot_service_components.htm">Spring Boot - Service Components</a></li>
<li><a href="/spring_boot/spring_boot_thymeleaf.htm">Spring Boot - Thymeleaf</a></li>
<li><a href="/spring_boot/spring_boot_consuming_restful_web_services.htm">Consuming RESTful Web Services</a></li>
<li><a href="/spring_boot/spring_boot_cors_support.htm">Spring Boot - CORS Support</a></li>
<li><a href="/spring_boot/spring_boot_internationalization.htm">Spring Boot - Internationalization</a></li>
<li><a href="/spring_boot/spring_boot_scheduling.htm">Spring Boot - Scheduling</a></li>
<li><a href="/spring_boot/spring_boot_enabling_https.htm">Spring Boot - Enabling HTTPS</a></li>
<li><a href="/spring_boot/spring_boot_eureka_server.htm">Spring Boot - Eureka Server</a></li>
<li><a href="/spring_boot/spring_boot_service_registration_with_eureka.htm">Service Registration with Eureka</a></li>
<li><a href="/spring_boot/spring_boot_zuul_proxy_server_and_routing.htm">Zuul Proxy Server and Routing</a></li>
<li><a href="/spring_boot/spring_boot_cloud_configuration_server.htm">Spring Cloud Configuration Server</a></li>
<li><a href="/spring_boot/spring_boot_cloud_configuration_client.htm">Spring Cloud Configuration Client</a></li>
<li><a href="/spring_boot/spring_boot_actuator.htm">Spring Boot - Actuator</a></li>
<li><a href="/spring_boot/spring_boot_admin_server.htm">Spring Boot - Admin Server</a></li>
<li><a href="/spring_boot/spring_boot_admin_client.htm">Spring Boot - Admin Client</a></li>
<li><a href="/spring_boot/spring_boot_enabling_swagger2.htm">Spring Boot - Enabling Swagger2</a></li>
<li><a href="/spring_boot/spring_boot_creating_docker_image.htm">Spring Boot - Creating Docker Image</a></li>
<li><a href="/spring_boot/spring_boot_tracing_micro_service_logs.htm">Tracing Micro Service Logs</a></li>
<li><a href="/spring_boot/spring_boot_flyway_database.htm">Spring Boot - Flyway Database</a></li>
<li><a href="/spring_boot/spring_boot_sending_email.htm">Spring Boot - Sending Email</a></li>
<li><a href="/spring_boot/spring_boot_hystrix.htm">Spring Boot - Hystrix</a></li>
<li><a href="/spring_boot/spring_boot_web_socket.htm">Spring Boot - Web Socket</a></li>
<li><a href="/spring_boot/spring_boot_batch_service.htm">Spring Boot - Batch Service</a></li>
<li><a href="/spring_boot/spring_boot_apache_kafka.htm">Spring Boot - Apache Kafka</a></li>
<li><a href="/spring_boot/spring_boot_twilio.htm">Spring Boot - Twilio</a></li>
<li><a href="/spring_boot/spring_boot_unit_test_cases.htm">Spring Boot - Unit Test Cases</a></li>
<li><a href="/spring_boot/spring_boot_rest_controller_unit_test.htm">Rest Controller Unit Test</a></li>
<li><a href="/spring_boot/spring_boot_database_handling.htm">Spring Boot - Database Handling</a></li>
<li><a href="/spring_boot/spring_boot_securing_web_applications.htm">Securing Web Applications</a></li>
<li><a href="/spring_boot/spring_boot_oauth2_with_jwt.htm">Spring Boot - OAuth2 with JWT</a></li>
<li><a href="/spring_boot/spring_boot_google_cloud_platform.htm">Spring Boot - Google Cloud Platform</a></li>
<li><a href="/spring_boot/spring_boot_google_oauth2_sign_in.htm">Spring Boot - Google OAuth2 Sign-In</a></li>
</ul>
<ul class="toc chapters">
<li class="heading">Spring Boot Resources</li>
<li><a href="/spring_boot/spring_boot_quick_guide.htm">Spring Boot - Quick Guide</a></li>
<li><a href="/spring_boot/spring_boot_useful_resources.htm">Spring Boot - Useful Resources</a></li>
<li><a href="/spring_boot/spring_boot_discussion.htm">Spring Boot - Discussion </a></li>
</ul>
<ul class="toc reading">
<li class="sreading">Selected Reading</li>
<li><a target="_top" href="/upsc_ias_exams.htm">UPSC IAS Exams Notes</a></li>
<li><a target="_top" href="/developers_best_practices/index.htm">Developer's Best Practices</a></li>
<li><a target="_top" href="/questions_and_answers.htm">Questions and Answers</a></li>
<li><a target="_top" href="/effective_resume_writing.htm">Effective Resume Writing</a></li>
<li><a target="_top" href="/hr_interview_questions/index.htm">HR Interview Questions</a></li>
<li><a target="_top" href="/computer_glossary.htm">Computer Glossary</a></li>
<li><a target="_top" href="/computer_whoiswho.htm">Who is Who</a></li>
</ul>
</div>
<!-- Tutorial ToC Ends Here -->
<!-- Tutorial Content Starts Here -->
<div class="mui-col-md-6 tutorial-content">
<h1>Spring Boot - Quick Guide</h1>
<hr />
<div class="top-ad-heading">Advertisements</div>
<div style="text-align: center;">
<script><!--
google_ad_client = "pub-7133395778201029";
var width = document.getElementsByClassName("tutorial-content")[0].clientWidth - 40;
google_ad_width = width;
google_ad_height = 150;
google_ad_format = width + "x150_as";
google_ad_type = "image";
google_ad_channel = "";
//--></script>
<script src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>
<div class="mui-container-fluid button-borders">
<div class="pre-btn">
<a href="/spring_boot/spring_boot_google_oauth2_sign_in.htm"><i class="fal fa-chevron-circle-left"></i> Previous Page</a>
</div>
<div class="nxt-btn">
<a href="/spring_boot/spring_boot_useful_resources.htm">Next Page <i class="fal fa-chevron-circle-right"></i>&nbsp;</a>
</div>
</div>
<div class="clearer"></div>
<h1>Spring Boot - Introduction</h1>
<p>Spring Boot is an open source Java-based framework used to create a micro Service. It is  developed by Pivotal Team and is used to build stand-alone and production ready spring applications. This chapter will give you an introduction to Spring Boot and familiarizes you with its basic concepts.</p>
<h2>What is Micro Service?</h2>
<p>Micro Service is an architecture that allows the developers to develop and deploy services independently. Each service running has its own process and this achieves the lightweight model to support business applications.</p>
<h3>Advantages</h3>
<p>Micro services offers the following advantages to its developers &minus;</p>
<ul class="list">
<li>Easy deployment</li>
<li>Simple scalability</li>
<li>Compatible with Containers</li>
<li>Minimum configuration</li>
<li>Lesser production time</li>
</ul>
<h2>What is Spring Boot?</h2>
<p>Spring Boot provides a good platform for Java developers to develop a stand-alone and production-grade spring application that you can <b>just run</b>. You can get started with minimum configurations without the need for an entire Spring configuration setup.</p>
<h3>Advantages</h3>
<p>Spring Boot offers the following advantages to its developers &minus;</p>
<ul class="list">
<li>Easy to understand and develop spring applications</li>
<li>Increases productivity</li>
<li>Reduces the development time</li>
</ul>
<h3>Goals</h3>
<p>Spring Boot is designed with the following goals &minus;</p>
<ul class="list">
<li>To avoid complex XML configuration in Spring</li>
<li>To develop a production ready Spring applications in an easier way</li>
<li>To reduce the development time and run the application independently</li>
<li>Offer an easier way of getting started with the application</li>
</ul>
<h2>Why Spring Boot?</h2>
<p>You can choose Spring Boot because of the features and benefits it offers as given here &minus;</p>
<ul class="list">
<li><p>It provides a flexible way to configure Java Beans, XML configurations, and Database Transactions.</p></li>
<li><p>It provides a powerful batch processing and manages REST endpoints.</p></li>
<li><p>In Spring Boot, everything is auto configured; no manual configurations are needed.</p></li>
<li><p>It offers annotation-based spring application</p></li>
<li><p>Eases dependency management</p></li>
<li><p>It includes Embedded Servlet Container</p></li>
</ul>
<h2>How does it work?</h2>
<p>Spring Boot automatically configures your application based on the dependencies you have added to the project by using <b>@EnableAutoConfiguration</b> annotation. For example, if MySQL database is on your classpath, but you have not configured any database connection, then Spring Boot auto-configures an in-memory database.</p>
<p>The entry point of the spring boot application is the class contains <b>@SpringBootApplication</b> annotation and the main method.</p>
<p>Spring Boot automatically scans all the components included in the project by using <b>@ComponentScan</b> annotation.</p>
<h2>Spring Boot Starters</h2>
<p>Handling dependency management is a difficult task for big projects. Spring Boot resolves this problem by providing a set of dependencies for developers convenience.</p>
<p>For example, if you want to use Spring and JPA for database access, it is sufficient if you include <b>spring-boot-starter-data-jpa</b> dependency in your project.</p>
<p>Note that all Spring Boot starters follow the same naming pattern <b>spring-boot-starter-</b> *, where * indicates that it is a type of the application.</p>
<h3>Examples</h3>
<p>Look at the following Spring Boot starters explained below for a better understanding &minus;</p>
<p><b>Spring Boot Starter Actuator dependency</b> is used to monitor and manage your application. Its code is shown below &minus;</p>
<pre class="result notranslate">
&lt;dependency&gt;
   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
   &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;
&lt;/dependency&gt;
</pre>
<p><b>Spring Boot Starter Security dependency</b> is used for Spring Security. Its code is shown below &minus;</p>
<pre class="result notranslate">
&lt;dependency&gt;
   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
   &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;
&lt;/dependency&gt;
</pre>
<p><b>Spring Boot Starter web dependency</b> is used to write a Rest Endpoints. Its code is shown below &minus;</p>
<pre class="result notranslate">
&lt;dependency&gt
   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
   &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
&lt;/dependency&gt;
</pre>
<p><b>Spring Boot Starter Thyme Leaf dependency</b> is used to create a web application. Its code is shown below &minus;</p>
<pre class="result notranslate">
&lt;dependency&gt;
   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
   &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;
&lt;/dependency&gt;
</pre>
<p><b>Spring Boot Starter Test dependency</b> is used for writing Test cases. Its code is shown below &minus;</p>
<pre class="result notranslate">
&lt;dependency&gt
   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
   &lt;artifactId&gt;spring-boot-starter-test&lt;artifactId&gt;
&lt;/dependency&gt;
</pre>
<h2>Auto Configuration</h2>
<p>Spring Boot Auto Configuration automatically configures your Spring application based on the JAR dependencies you added in the project. For example, if MySQL database is on your class path, but you have not configured any database connection, then Spring Boot auto configures an in-memory database.</p>
<p>For this purpose, you need to add <b>@EnableAutoConfiguration</b> annotation or <b>@SpringBootApplication</b> annotation to your main class file. Then, your Spring Boot application will be automatically configured.</p>
<p>Observe the following code for a better understanding &minus;</p>
<pre class="prettyprint notranslate">
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.EnableAutoConfiguration;

@EnableAutoConfiguration
public class DemoApplication {
   public static void main(String[] args) {
      SpringApplication.run(DemoApplication.class, args);
   }
}
</pre>
<h2>Spring Boot Application</h2>
<p>The entry point of the Spring Boot Application is the class contains <b>@SpringBootApplication</b> annotation. This class should have the main method to run the Spring Boot application. <b>@SpringBootApplication</b> annotation includes Auto- Configuration, Component Scan, and Spring Boot Configuration.</p>
<p>If you added <b>@SpringBootApplication</b> annotation to the class, you do not need to add the <b>@EnableAutoConfiguration, @ComponentScan</b> and <b>@SpringBootConfiguration</b> annotation. The <b>@SpringBootApplication</b> annotation includes all other annotations.</p>
<p>Observe the following code for a better understanding &minus;</p>
<pre class="prettyprint notranslate">
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class DemoApplication {
   public static void main(String[] args) {
      SpringApplication.run(DemoApplication.class, args);
   }
}
</pre>
<h2>Component Scan</h2>
<p>Spring Boot application scans all the beans and package declarations when the application initializes. You need to add the <b>@ComponentScan</b> annotation for your class file to scan your components added in your project.</p>
<p>Observe the following code for a better understanding &minus;</p>
<pre class="prettyprint notranslate">
import org.springframework.boot.SpringApplication;
import org.springframework.context.annotation.ComponentScan;

@ComponentScan
public class DemoApplication {
   public static void main(String[] args) {
      SpringApplication.run(DemoApplication.class, args);
   }
}
</pre>
<h1>Spring Boot - Quick Start</h1>
<p>This chapter will teach you how to create a Spring Boot application using Maven and Gradle.</p>
<h2>Prerequisites</h2>
<p>Your system need to have the following minimum requirements to create a Spring Boot application &minus;</p>
<ul class="list">
<li>Java 7</li>
<li>Maven 3.2</li>
<li>Gradle 2.5</li>
</ul>
<h2>Spring Boot CLI</h2>
<p>The Spring Boot CLI is a command line tool and it allows us to run the Groovy scripts. This is the easiest way to create a Spring Boot application by using the Spring Boot Command Line Interface. You can create, run and test the application in command prompt itself.</p>
<p>This section explains you the steps involved in manual installation of Spring Boot CLI. For further help, you can use the following link: <a rel="nofollow" target="_blank" href="https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#getting-started-installing-spring-boot">https://docs.spring.io/springboot/ docs/current-SNAPSHOT/reference/htmlsingle/#getting-started-installing-springboot</a> </p>
<p>You can also download the Spring CLI distribution from the Spring Software repository at: <a rel="nofollow" target="_blank" href="https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#getting-started-manual-cli-installation">https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#getting-started-manual-cli-installation</a></p>
<p>For manual installation, you need to use the following two folders &minus;</p>
<ul class="list">
<li><p><b>spring-boot-cli-2.0.0.BUILD-SNAPSHOT-bin.zip</b></p></li>
<li><p><b>spring-boot-cli-2.0.0.BUILD-SNAPSHOT-bin.tar.gz</b></p></li>
</ul>
<p>After the download, unpack the archive file and follow the steps given in the install.txt file. Not that it does not require any environment setup.</p>
<p>In Windows, go to the Spring Boot CLI <b>bin</b> directory in the command prompt and run the command <b>spring –-version</b> to make sure spring CLI is installed correctly. After executing the command, you can see the spring CLI version as shown below &minus;</p>
<img src="/spring_boot/images/spring_cli_version.jpg" alt="Spring CLI Version" />
<h3>Run Hello World with Groovy</h3>
<p>Create a simple groovy file which contains the Rest Endpoint script and run the groovy file with spring boot CLI. Observe the code shown here for this purpose &minus;</p>
<pre class="prettyprint notranslate">
@Controller
class Example {
   @RequestMapping("/")
   @ResponseBody
   public String hello() {
      "Hello Spring Boot"
   }
}
</pre>
<p>Now, save the groovy file with the name <b>hello.groovy</b>. Note that in this example, we saved the groovy file inside the Spring Boot CLI <b>bin</b> directory. Now run the application by using the command <b>spring run hello.groovy</b> as shown in the screenshot given below &minus;</p>
<img src="/spring_boot/images/run_hello_world_with_groovy.jpg" alt="Run Hello World with Groovy" />
<p>Once you run the groovy file, required dependencies will download automatically and it will start the application in Tomcat 8080 port as shown in the screenshot given below &minus;</p>
<img src="/spring_boot/images/run_groovy_file_tomcat_port.jpg" alt="Run Groovy File Tomcat Port" />
<p>Once Tomcat starts, go to the web browser and hit the URL <b>http://localhost:8080/</b> and you can see the output as shown.</p>
<img src="/spring_boot/images/hello_spring_boot.jpg" alt="Hello Spring Boot" />
<h1>Spring Boot - Bootstrapping</h1>
<p>This chapter will explain you how to perform bootstrapping on a Spring Boot application.</p> 
<h2>Spring Initializer</h2>
<p>One of the ways to Bootstrapping a Spring Boot application is by using Spring Initializer. To do this, you will have to visit the Spring Initializer web page <a href="https://start.spring.io/" target="_blank" rel="nofollow">www.start.spring.io</a> and choose your Build, Spring Boot Version and platform. Also, you need to provide a Group, Artifact and required dependencies to run the application.</p> 
<p>Observe the following screenshot that shows an example where we added the <b>spring-boot-starter-web</b> dependency to write REST Endpoints.</p>
<img src="/spring_boot/images/spring_initializer.jpg" alt="Spring Initializer" />
<p>Once you provided the Group, Artifact, Dependencies, Build Project, Platform and Version, click <b>Generate Project</b> button. The zip file will download and the files will be extracted.</p> 
<p>This section explains you the examples by using both Maven and Gradle.</p>
<h2>Maven</h2>
<p>After you download the project, unzip the file. Now, your <b>pom.xml</b> file looks as shown below &minus;</p>
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;project xmlns = "http://maven.apache.org/POM/4.0.0" 
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation = "http://maven.apache.org/POM/4.0.0 
   http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
   
   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
   &lt;groupId&gt;com.tutorialspoint&lt;/groupId&gt;
   &lt;artifactId&gt;demo&lt;/artifactId&gt;
   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
   &lt;packaging&gt;jar&lt;/packaging&gt;

   &lt;name&gt;demo&lt;/name&gt;
   &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;

   &lt;parent&gt;
      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
      &lt;version&gt;1.5.8.RELEASE&lt;/version&gt;
      &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;
   &lt;/parent&gt;

   &lt;properties&gt;
      &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
      &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;
      &lt;java.version&gt;1.8&lt;/java.version&gt;
   &lt;/properties&gt;

   &lt;dependencies&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
      &lt;/dependency&gt;

      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
         &lt;scope&gt;test&lt;/scope&gt;
      &lt;/dependency&gt;
   &lt;/dependencies&gt;
   
   &lt;build&gt;
      &lt;plugins&gt;
         &lt;plugin&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
         &lt;/plugin&gt;
      &lt;/plugins&gt;
   &lt;/build&gt;
   
&lt;/project&gt;
</pre>
<h2>Gradle</h2>
<p>Once you download the project, unzip the file. Now your <b>build.gradle</b> file looks as shown below &minus;</p>
<pre class="prettyprint notranslate">
buildscript {
   ext {
      springBootVersion = '1.5.8.RELEASE'
   }
   repositories {
      mavenCentral()
   }
   dependencies {
      classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}")
   }
}
apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'org.springframework.boot'

group = 'com.tutorialspoint'
version = '0.0.1-SNAPSHOT'
sourceCompatibility = 1.8

repositories {
   mavenCentral()
}
dependencies {
   compile('org.springframework.boot:spring-boot-starter-web')
   testCompile('org.springframework.boot:spring-boot-starter-test')
}
</pre>
<h2>Class Path Dependencies</h2>
<p>Spring Boot provides a number of <b>Starters</b> to add the jars in our class path. For example, for writing a Rest Endpoint, we need to add the <b>spring-boot-starter-web</b> dependency in our class path. Observe the codes shown below for a better understanding &minus;</p>
<h3>Maven dependency</h3>
<pre class = "prettyprint notranslate">
&lt;dependencies&gt;
   &lt;dependency&gt;
      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
   &lt;/dependency&gt;
&lt;/dependencies&gt;   
</pre>
<h3>Gradle dependency</h3>
<pre class="prettyprint notranslate">
dependencies {
   compile('org.springframework.boot:spring-boot-starter-web')
}
</pre>
<h2>Main Method</h2>
<p>The main method should be writing the Spring Boot Application class. This class should be annotated with <b>@SpringBootApplication</b>. This is the entry point of the spring boot application to start. You can find the main class file under <b>src/java/main</b> directories with the default package.</p> 
<p>In this example, the main class file is located at the <b>src/java/main</b> directories with the default package <b>com.tutorialspoint.demo</b>. Observe the code shown here for a better understanding &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.demo;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class DemoApplication {
   public static void main(String[] args) {
      SpringApplication.run(DemoApplication.class, args);
   }
}
</pre>
<h2>Write a Rest Endpoint</h2>
<p>To write a simple Hello World Rest Endpoint in the Spring Boot Application main class file itself, follow the steps shown below &minus;</p>
<ul class="list">
<li><p>Firstly, add the <b>@RestController</b> annotation at the top of the class.</p></li>
<li><p>Now, write a Request URI method with <b>@RequestMapping</b> annotation.</p></li> 
<li><p>Then, the Request URI method should return the <b>Hello World</b> string.</p></li>
</ul>
<p>Now, your main Spring Boot Application class file will look like as shown in the code given below &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.demo;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

@SpringBootApplication
@RestController

public class DemoApplication {
   public static void main(String[] args) {
      SpringApplication.run(DemoApplication.class, args);
   }
   @RequestMapping(value = "/")
   public String hello() {
      return "Hello World";
   }
}
</pre>
<h2>Create an Executable JAR</h2>
<p>Let us create an executable JAR file to run the Spring Boot application by using Maven and Gradle commands in the command prompt as shown below &minus;</p>
<p>Use the Maven command mvn clean install as shown below &minus;</p>
<img src="/spring_boot/images/command_mvn_clean_install.jpg" alt="Command MVN Clean Install" />
<p>After executing the command, you can see the <b>BUILD SUCCESS</b> message at the command prompt as shown below &minus;</p>
<img src="/spring_boot/images/build_success_message.jpg" alt="BUILD SUCCESS Message" />
<p>Use the Gradle command <b>gradle clean build</b> as shown below &minus;</p>
<img src="/spring_boot/images/gradle_clean_build.jpg" alt="Gradle Clean Build" />
<p>After executing the command, you can see the <b>BUILD SUCCESSFUL</b> message in the command prompt as shown below &minus;</p>
<img src="/spring_boot/images/build_successful_message_in_command_prompt.jpg" alt="BUILD SUCCESSFUL Message in Command Prompt" />
<h2>Run Hello World with Java</h2>
<p>Once you have created an executable JAR file, you can find it under the following directories.</p>
<p>For Maven, you can find the JAR file under the target directory as shown below &minus;</p>
<img src="/spring_boot/images/maven_jar_file_target_directory.jpg" alt="Maven JAR File Target Directory" />
<p>For Gradle, you can find the JAR file under the <b>build/libs</b> directory as shown below &minus;</p>
<img src="/spring_boot/images/jar_file_under_build_libs_directory.jpg" alt="JAR File Under Build Libs Directory" />
<p>Now, run the JAR file by using the command <b>java –jar &lt;JARFILE&gt;</b>. Observe that in the above example, the JAR file is named <b>demo-0.0.1-SNAPSHOT.jar</b></p>
<img src="/spring_boot/images/jar_file_named_demo_snapshot.jpg" alt="JAR File Named Demo SNAPSHOT" />
<p>Once you run the jar file, you can see the output in the console window as shown below &minus;</p>
<img src="/spring_boot/images/output_in_console_window.jpg" alt="Output in Console Window" />
<p>Now, look at the console, Tomcat started on port 8080 (http). Now, go to the web browser and hit the URL <b>http://localhost:8080/</b>  and you can see the output as shown below &minus;</p> 
<img src="/spring_boot/images/tomcat_started_on_port_8080_http.jpg" alt="Tomcat Started on Port 8080 (http)." />
<h1>Spring Boot - Tomcat Deployment</h1>
<p>By using Spring Boot application, we can create a war file to deploy into the web server. In this chapter, you are going to learn how to create a WAR file and deploy the Spring Boot application in Tomcat web server.</p>
<h2>Spring Boot Servlet Initializer</h2>
<p>The traditional way of deployment is making the Spring Boot Application <b>@SpringBootApplication</b> class extend the <b>SpringBootServletInitializer</b> class. Spring Boot Servlet Initializer class file allows you to configure the application when it is launched by using Servlet Container.</p> 
<p>The code for Spring Boot Application class file for JAR file deployment is given below &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.demo;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class DemoApplication {
   public static void main(String[] args) {
      SpringApplication.run(DemoApplication.class, args);
   }
}
</pre>
<p>We need to extend the class <b>SpringBootServletInitializer</b> to support WAR file deployment. The code of Spring Boot Application class file is given below &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.demo;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.boot.builder.SpringApplicationBuilder;
import org.springframework.boot.web.support.SpringBootServletInitializer;

@SpringBootApplication
public class DemoApplication  extends SpringBootServletInitializer {
   @Override
   protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {
      return application.sources(DemoApplication.class);
   }
   public static void main(String[] args) {
      SpringApplication.run(DemoApplication.class, args);
   }
}
</pre>
<h2>Setting Main Class</h2>
<p>In Spring Boot, we need to mention the main class that should start in the build file. For this purpose, you can use the following pieces of code &minus;</p>
<p>For Maven, add the start class in <b>pom.xml</b> properties as shown below &minus;</p>
<pre class="result notranslate">
&lt;start-class&gt;com.tutorialspoint.demo.DemoApplication&lt;/start-class&gt;
</pre>
<p>For Gradle, add the main class name in build.gradle as shown below &minus;</p> 
<pre class="result notranslate">
mainClassName="com.tutorialspoint.demo.DemoApplication"
</pre>
<h2>Update packaging JAR into WAR</h2>
<p>We have to update the packaging JAR into WAR using the following pieces of code &minus;</p>
<p>For Maven, add the packaging as WAR in <b>pom.xml</b> as shown below &minus;</p>
<pre class="result notranslate">
&lt;packaging&gt;war&lt;/packaging&gt;
</pre>
<p>For Gradle, add the application plugin and war plugin in the <b>build.gradle</b> as shown below &minus;</p> 
<pre class="result notranslate">
apply plugin: ‘war’
apply plugin: ‘application’
</pre>
<p>Now, let us write a simple Rest Endpoint to return the string “Hello World from Tomcat”. To write a Rest Endpoint, we need to add the Spring Boot web starter dependency into our build file.</p>
<p>For Maven, add the Spring Boot starter dependency in pom.xml using the code as shown below &minus;</p>
<pre class="prettyprint notranslate">
&lt;dependency&gt;
   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
   &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
&lt;/dependency&gt;
</pre>
<p>For Gradle, add the Spring Boot starter dependency in <b>build.gradle</b> using the code as shown below &minus;</p>
<pre class="result notranslate">
dependencies {
   compile('org.springframework.boot:spring-boot-starter-web')
}
</pre>
<p>Now, write a simple Rest Endpoint in Spring Boot Application class file using the code as shown below &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.demo;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.boot.builder.SpringApplicationBuilder;
import org.springframework.boot.web.support.SpringBootServletInitializer;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

@SpringBootApplication
@RestController
public class DemoApplication  extends SpringBootServletInitializer {
   @Override
   protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {
      return application.sources(DemoApplication.class);
   }
   public static void main(String[] args) {
      SpringApplication.run(DemoApplication.class, args);
   }
   
   @RequestMapping(value = "/")
   public String hello() {
      return "Hello World from Tomcat";
   }
}
</pre>
<h2>Packaging your Application</h2>
<p>Now, create a WAR file to deploy into the Tomcat server by using Maven and Gradle commands for packaging your application as given below &minus;</p>
<p>For Maven, use the command <b>mvn package</b> for packaging your application. Then, the WAR file will be created and you can find it in the target directory as shown in the screenshots given below &minus;</p>
<img src="/spring_boot/images/maven_mvn_package.jpg" alt="Maven MVN Package"/>
<p></p>
<img src="/spring_boot/images/maven_packaging_application_target_directory.jpg" alt="Maven Packaging Application Target Directory"/>
<p>For Gradle, use the command <b>gradle clean build</b> for packaging your application. Then, your WAR file will be created and you can find it under <b>build/libs</b> directory. Observe the screenshots given here for a better understanding &minus;</p>
<img src="/spring_boot/images/gradle_clean_build_command.jpg" alt="Gradle Clean Build Command"/>
<p></p>
<img src="/spring_boot/images/maven_packaging_application_target_directory.jpg" alt="Maven Packaging Application Target Directory"/>
<h2>Deploy into Tomcat</h2>
<p>Now, run the Tomcat Server, and deploy the WAR file under the <b>webapps</b> directory. Observe the screenshots shown here for a better understanding &minus;</p>
<img src="/spring_boot/images/tomcat_web_application_maneger.jpg" alt="Tomcat Web Application Maneger"/>
<p></p>
<img src="/spring_boot/images/webapps_directory.jpg" alt="webApps Directory"/>
<p>After successful deployment, hit the URL in your web browser <b>http://localhost:8080/demo-0.0.1-SNAPSHOT/</b> and observe that the output will look as shown in the screenshot given below &minus;</p>
<img src="/spring_boot/images/successful_deployment_screenshot.jpg" alt="Successful Deployment Screenshot"/>
<p>The full code for this purpose is given below.</p>
<p><b>pom.xml</b></p>
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;project xmlns = "http://maven.apache.org/POM/4.0.0" 
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"

xsi:schemaLocation = "http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;

   &lt;groupId&gt;com.tutorialspoint&lt;/groupId&gt;
   &lt;artifactId&gt;demo&lt;/artifactId&gt;
   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
   &lt;packaging&gt;war&lt;/packaging&gt;
   &lt;name&gt;demo&lt;/name&gt;
   &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;
   
   &lt;parent&gt;
      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
      &lt;version&gt;1.5.8.RELEASE&lt;/version&gt;
      &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;
   &lt;/parent&gt;

   &lt;properties&gt;
      &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
      &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;
      &lt;java.version&gt;1.8&lt;/java.version&gt;
      &lt;start-class&gt;com.tutorialspoint.demo.DemoApplication&lt;/start-class&gt;
   &lt;/properties&gt;

   &lt;dependencies&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
      &lt;/dependency&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
         &lt;scope&gt;test&lt;/scope&gt;
      &lt;/dependency&gt;
   &lt;/dependencies&gt;

   &lt;build&gt;
      &lt;plugins&gt;
         &lt;plugin&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
         &lt;/plugin&gt;
      &lt;/plugins&gt;
   &lt;/build&gt;
   
&lt;/project&gt;
</pre>
<p><b>build.gradle</b></p>
<pre class="prettyprint notranslate">
buildscript {
   ext {
      springBootVersion = '1.5.8.RELEASE'
   }
   repositories {
      mavenCentral()
   }
dependencies {
      classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}")
   }
}

apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'org.springframework.boot'
apply plugin: 'war'
apply plugin: 'application'

group = 'com.tutorialspoint'
version = '0.0.1-SNAPSHOT'
sourceCompatibility = 1.8
mainClassName = "com.tutorialspoint.demo.DemoApplication"

repositories {
   mavenCentral()
}
dependencies {
   compile('org.springframework.boot:spring-boot-starter-web')
   testCompile('org.springframework.boot:spring-boot-starter-test')
}
</pre>
<p>The code for main Spring Boot application class file is given below &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.demo;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.boot.builder.SpringApplicationBuilder;
import org.springframework.boot.web.support.SpringBootServletInitializer;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

@SpringBootApplication
@RestController
public class DemoApplication  extends SpringBootServletInitializer {
   @Override
   protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {
      return application.sources(DemoApplication.class);
   }
   public static void main(String[] args) {
      SpringApplication.run(DemoApplication.class, args);
   }
   
   @RequestMapping(value = "/")
   public String hello() {
      return "Hello World from Tomcat";
   }
}
</pre>
<h1>Spring Boot - Build Systems</h1>
<p>In Spring Boot, choosing a build system is an important task. We recommend Maven or Gradle as they provide a good support for dependency management. Spring does not support well other build systems.</p>
<h2>Dependency Management</h2>
<p>Spring Boot team provides a list of dependencies to support the Spring Boot version for its every release. You do not need to provide a version for dependencies in the build configuration file. Spring Boot automatically configures the dependencies version based on the release. Remember that when you upgrade the Spring Boot version, dependencies also will upgrade automatically.</p>
<p><b>Note</b> &minus; If you want to specify the version for dependency, you can specify it in your configuration file. However, the Spring Boot team highly recommends that it is not needed to specify the version for dependency.</p>
<h2>Maven Dependency</h2>
<p>For Maven configuration, we should inherit the Spring Boot Starter parent project to manage the Spring Boot Starters dependencies. For this, simply we can inherit the starter parent in our <b>pom.xml</b> file as shown below.</p>
<pre class="prettyprint notranslate">
&lt;parent&gt;
   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
   &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
   &lt;version&gt;1.5.8.RELEASE&lt;/version&gt;
&lt;/parent&gt;
</pre>
<p>We should specify the version number for Spring Boot Parent Starter dependency. Then for other starter dependencies, we do not need to specify the Spring Boot version number. Observe the code given below &minus;</p>
<pre class="prettyprint notranslate">
&lt;dependencies&gt;
   &lt;dependency&gt;
      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
   &lt;/dependency&gt;
&lt;/dependencies&gt;
</pre>
<h2>Gradle Dependency</h2>
<p>We can import the Spring Boot Starters dependencies directly into <b>build.gradle</b> file. We do not need Spring Boot start Parent dependency like Maven for Gradle. Observe the code given below &minus;</p>
<pre class="prettyprint notranslate">
buildscript {
   ext {
      springBootVersion = '1.5.8.RELEASE'
   }
   repositories {
      mavenCentral()
   }
   dependencies {
      classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}")
   }
}
</pre>
<p>Similarly, in Gradle, we need not specify the Spring Boot version number for dependencies. Spring Boot automatically configures the dependency based on the version.</p> 
<pre class="prettyprint notranslate">
dependencies {
   compile('org.springframework.boot:spring-boot-starter-web')
}
</pre>
<h1>Spring Boot - Code Structure</h1>
<p>Spring Boot does not have any code layout to work with. However, there are some best practices that will help us. This chapter talks about them in detail.</p>
<h2>Default package</h2>
<p>A class that does not have any package declaration is considered as a <b>default package</b>. Note that generally a default package declaration is not recommended. Spring Boot will cause issues such as malfunctioning of Auto Configuration or Component Scan, when you use default package.</p>
<p><b>Note</b> &minus; Java's recommended naming convention for package declaration is reversed domain name. For example &minus; <b>com.tutorialspoint.myproject</b></p>
<h2>Typical Layout</h2>   
<p>The typical layout of Spring Boot application is shown in the image given below &minus;</p>
<img src="/spring_boot/images/typical_layout_of_spring_boot_application.jpg" alt="Typical Layout of Spring Boot Application" />
<p>The Application.java file should declare the main method along with @SpringBootApplication. Observe the code given below for a better understanding &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.myproject;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class Application {
   public static void main(String[] args) {SpringApplication.run(Application.class, args);}
}
</pre>
<h1>Beans and Dependency Injection</h1>
<p>In Spring Boot, we can use Spring Framework to define our beans and their dependency injection. The <b>@ComponentScan</b> annotation is used to find beans and the corresponding injected with <b>@Autowired</b> annotation.</p>
<p>If you followed the Spring Boot typical layout, no need to specify any arguments for <b>@ComponentScan</b> annotation. All component class files are automatically registered with Spring Beans.</p>
<p>The following example provides an idea about Auto wiring the Rest Template object and creating a Bean for the same &minus;</p>
<pre class="prettyprint notranslate">
@Bean
public RestTemplate getRestTemplate() {
   return new RestTemplate();
}
</pre>
<p>The following code shows the code for auto wired Rest Template object and Bean creation object in main Spring Boot Application class file &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.demo;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.context.annotation.Bean;
import org.springframework.web.client.RestTemplate;

@SpringBootApplication
public class DemoApplication {
@Autowired
   RestTemplate restTemplate;
   
   public static void main(String[] args) {
      SpringApplication.run(DemoApplication.class, args);
   }
   @Bean
   public RestTemplate getRestTemplate() {
      return new RestTemplate();   
   }
}
</pre>
<h1>Spring Boot - Runners</h1>
<p>Application Runner and Command Line Runner interfaces lets you to execute the code after the Spring Boot application is started. You can use these interfaces to perform any actions immediately after the application has started. This chapter talks about them in detail.</p>
<h2>Application Runner</h2>
<p>Application Runner is an interface used to execute the code after the Spring Boot application started. The example given below shows how to implement the Application Runner interface on the main class file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.demo;

import org.springframework.boot.ApplicationArguments;
import org.springframework.boot.ApplicationRunner;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class DemoApplication implements ApplicationRunner {
   public static void main(String[] args) {
      SpringApplication.run(DemoApplication.class, args);
   }
   @Override
   public void run(ApplicationArguments arg0) throws Exception {
      System.out.println("Hello World from Application Runner");
   }
}
</pre>
<p>Now, if you observe the console window below <b>Hello World from Application Runner</b>, the println statement is executed after the Tomcat started. Is the following screenshot relevant?</p>
<img src="/spring_boot/images/hello_world_from_application_runner.jpg" alt="Hello World From Application Runner" />
<h2>Command Line Runner</h2>
<p>Command Line Runner is an interface. It is used to execute the code after the Spring Boot application started. The example given below shows how to implement the Command Line Runner interface on the main class file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.demo;

import org.springframework.boot.CommandLineRunner;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class DemoApplication implements CommandLineRunner {
   public static void main(String[] args) {
      SpringApplication.run(DemoApplication.class, args);
   }
   @Override
   public void run(String... arg0) throws Exception {
      System.out.println("Hello world from Command Line Runner");
   }
}
</pre>
<p>Look at the console window below “Hello world from Command Line Runner” println statement is executed after the Tomcat started.</p>
<img src="/spring_boot/images/command_line_runner.jpg" alt="Command Line Runner" />
<h1>Spring Boot - Application Properties</h1>
<p>Application Properties support us to work in different environments. In this chapter, you are going to learn how to configure and specify the properties to a Spring Boot application.</p> 
<h2>Command Line Properties</h2>
<p>Spring Boot application converts the command line properties into Spring Boot Environment properties. Command line properties take precedence over the other property sources. By default, Spring Boot uses the 8080 port number to start the Tomcat. Let us learn how change the port number by using command line properties.</p> 
<p><b>Step 1</b> &minus; After creating an executable JAR file, run it by using the command <b>java –jar &lt;JARFILE&gt;</b>.</p> 
<p><b>Step 2</b> &minus; Use the command given in the screenshot given below to change the port number for Spring Boot application by using command line properties.</p> 
<img src="/spring_boot/images/command_line_properties_jarfile.jpg" alt="Command Line Properties JARFILE" />
<p><b>Note</b> &minus; You can provide more than one application properties by using the delimiter &minus;.</p> 
<h2>Properties File</h2>
<p>Properties files are used to keep ‘N’ number of properties in a single file to run the application in a different environment. In Spring Boot, properties are kept in the <b>application.properties</b> file under the classpath.</p> 
<p>The application.properties file is located in the <b>src/main/resources</b> directory. The code for sample <b>application.properties</b> file is given below &minus;</p>
<pre class="result notranslate">
server.port = 9090
spring.application.name = demoservice
</pre>
<p>Note that in the code shown above the Spring Boot application demoservice starts on the port 9090.</p>
<h2>YAML File</h2> 
<p>Spring Boot supports YAML based properties configurations to run the application. Instead of <b>application.properties</b>, we can use <b>application.yml</b> file. This YAML file also should be kept inside the classpath. The sample <b>application.yml</b> file is given below &minus;</p>
<pre class="prettyprint notranslate">
spring:
   application:
      name: demoservice
   server:
port: 9090
</pre>
<h2>Externalized Properties</h2> 
<p>Instead of keeping the properties file under classpath, we can keep the properties in different location or path. While running the JAR file, we can specify the properties file path. You can use the following command to specify the location of properties file while running the JAR &minus;</p>
<pre class="result notranslate">
-Dspring.config.location = C:\application.properties
</pre>
<p></p>
<img src="/spring_boot/images/externalized_properties.jpg" alt="Externalized Properties" />
<h2>Use of @Value Annotation</h2>
<p>The @Value annotation is used to read the environment or application property value in Java code. The syntax to read the property value is shown below &minus;</p>
<pre class="result notranslate">
@Value("${property_key_name}")
</pre>
<p>Look at the following example that shows the syntax to read the <b>spring.application.name</b> property value in Java variable by using @Value annotation.</p> 
<pre class="result notranslate">
@Value("${spring.application.name}")
</pre>   
<p>Observe the code given below for a better understanding &minus;</p>
<pre class="prettyprint notranslate">
import org.springframework.beans.factory.annotation.Value;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

@SpringBootApplication
@RestController
public class DemoApplication {
   @Value("${spring.application.name}")
   private String name;
   public static void main(String[] args) {
      SpringApplication.run(DemoApplication.class, args);
   }
   @RequestMapping(value = "/")
   public String name() {
      return name;
   }
}   
</pre>
<p><b>Note</b> &minus; If the property is not found while running the application, Spring Boot throws the Illegal Argument exception as <b>Could not resolve placeholder 'spring.application.name' in value "${spring.application.name}"</b>.</p>
<p>To resolve the placeholder issue, we can set the default value for the property using thr syntax given below &minus;</p>
<pre class="result notranslate">
@Value("${property_key_name:default_value}")

@Value("${spring.application.name:demoservice}")
</pre>
<h2>Spring Boot Active Profile</h2> 
<p>Spring Boot supports different properties based on the Spring active profile. For example, we can keep two separate files for development and production to run the Spring Boot application.</p>
<h3>Spring active profile in application.properties</h3>
<p>Let us understand how to have Spring active profile in application.properties. By default, application. properties will be used to run the Spring Boot application. If you want to use profile based properties, we can keep separate properties file for each profile as shown below &minus;</p>
<p><b>application.properties</b></p> 
<pre class="result notranslate">
server.port = 8080
spring.application.name = demoservice
</pre>
<p><b>application-dev.properties</b></p> 
<pre class="result notranslate">
server.port = 9090
spring.application.name = demoservice
</pre>
<p><b>application-prod.properties</b></p>
<pre class="result notranslate">
server.port = 4431
spring.application.name = demoservice
</pre>
<p>While running the JAR file, we need to specify the spring active profile based on each properties file. By default, Spring Boot application uses the application.properties file. The command to set the spring active profile is shown below &minus;</p>
<img src="/spring_boot/images/prod_properties_active_dev.jpg" alt="Prod.Properties Active Dev" />
<p>You can see active profile name on the console log as shown below &minus;</p>
<pre class="result notranslate">
2017-11-26 08:13:16.322  INFO 14028 --- [           
   main] com.tutorialspoint.demo.DemoApplication  :
   The following profiles are active: dev
</pre>
<p>Now, Tomcat has started on the port 9090 (http) as shown below &minus;</p>
<pre class="result notranslate">
2017-11-26 08:13:20.185  INFO 14028 --- [           
   main] s.b.c.e.t.TomcatEmbeddedServletContainer : 
   Tomcat started on port(s): 9090 (http)
</pre>
<p>You can set the Production active profile as shown below &minus;</p>
<img src="/spring_boot/images/production_active_profile.jpg" alt="Production Active Profile" />
<p>You can see active profile name on the console log as shown below &minus;</p>
<pre class="result notranslate">
2017-11-26 08:13:16.322  INFO 14028 --- [           
   main] com.tutorialspoint.demo.DemoApplication  :
   The following profiles are active: prod
</pre>
<p>Now, Tomcat started on the port 4431 (http) as shown below &minus;</p>
<pre class="result notranslate">
2017-11-26 08:13:20.185  INFO 14028 --- [          
   main] s.b.c.e.t.TomcatEmbeddedServletContainer :
   Tomcat started on port(s): 4431 (http)
</pre>
<h3>Spring active profile for application.yml</h3>
<p>Let us understand how to keep Spring active profile for application.yml. We can keep the Spring active profile properties in the single <b>application.yml</b> file. No need to use the separate file like application.properties.</p>
<p>The following is an example code to keep the Spring active profiles in application.yml file. Note that the delimiter (---) is used to separate each profile in application.yml file.</p>
<pre class="prettyprint notranslate">
spring:
   application:
      name: demoservice
server:
   port: 8080

---
spring:
   profiles: dev
   application:
      name: demoservice
server:
   port: 9090

---
spring: 
   profiles: prod
   application:
      name: demoservice
server: 
   port: 4431
</pre>
<p>To command to set development active profile is given below &minus;</p>
<img src="/spring_boot/images/prod_properties_active_dev.jpg" alt="Prod.Properties Active Dev" />
<p>You can see active profile name on the console log as shown below &minus;</p>
<pre class="result notranslate">
2017-11-26 08:41:37.202  INFO 14104 --- [           
   main] com.tutorialspoint.demo.DemoApplication  : 
   The following profiles are active: dev
</pre>
<p>Now, Tomcat started on the port 9090 (http) as shown below &minus;</p>
<pre class="result notranslate">
2017-11-26 08:41:46.650  INFO 14104 --- [           
   main] s.b.c.e.t.TomcatEmbeddedServletContainer : 
   Tomcat started on port(s): 9090 (http)
</pre>
<p>The command to set Production active profile is given below &minus;</p>
<img src="/spring_boot/images/production_active_profile.jpg" alt="Production Active Profile" />
<p>You can see active profile name on the console log as shown below &minus;</p>
<pre class="result notranslate">
2017-11-26 08:43:10.743  INFO 13400 --- [    
   main] com.tutorialspoint.demo.DemoApplication  : 
   The following profiles are active: prod
</pre>
<p>This will start Tomcat on the port 4431 (http) as shown below:</p>
<pre class="result notranslate">
2017-11-26 08:43:14.473  INFO 13400 --- [     
   main] s.b.c.e.t.TomcatEmbeddedServletContainer : 
   Tomcat started on port(s): 4431 (http)
</pre>
<h1>Spring Boot - Logging</h1>
<p>Spring Boot uses Apache Commons logging for all internal logging. Spring Boot’s default configurations provides a support for the use of Java Util Logging, Log4j2, and Logback. Using these, we can configure the console logging as well as file logging.</p> 
<p>If you are using Spring Boot Starters, Logback will provide a good support for logging. Besides, Logback also provides a use of good support for Common Logging, Util Logging, Log4J, and SLF4J.</p>
<h2>Log Format</h2>
<p>The default Spring Boot Log format is shown in the screenshot given below.</p>
<img src="/spring_boot/images/spring_boot_log_format.jpg" alt="Spring Boot Log Format" />
<p>which gives you the following information &minus;</p>
<ul class="list">
<li><p><b>Date</b> and <b>Time</b> that gives the date and time of the log</p></li> 
<li><p><b>Log level</b> shows INFO, ERROR or WARN</p></li>
<li><p><b>Process ID</b></p></li>
<li><p>The --- which is a separator</p></li> 
<li><p><b>Thread name</b> is enclosed within the square brackets []</p></li>
<li><p><b>Logger Name</b> that shows the Source class name</p></li>
<li><p>The Log message</p></li>
</ul>
<h2>Console Log Output</h2>
<p>The default log messages will print to the console window. By default, “INFO”, “ERROR” and “WARN” log messages will print in the log file.</p> 
<p>If you have to enable the debug level log, add the debug flag on starting your application using the command shown below &minus;</p> 
<pre class="result notranslate">
java –jar demo.jar --debug
</pre>
<p>You can also add the debug mode to your application.properties file as shown here &minus;</p>
<pre class="result notranslate">
debug = true
</pre>
<h2>File Log Output</h2>
<p>By default, all logs will print on the console window and not in the files. If you want to print the logs in a file, you need to set the property <b>logging.file</b> or <b>logging.path</b> in the application.properties file.</p>
<p>You can specify the log file path using the property shown below. Note that the log file name is spring.log.</p>
<pre class="result notranslate">
logging.path = /var/tmp/
</pre>
<p>You can specify the own log file name using the property shown below &minus;</p>
<pre class="result notranslate">
logging.file = /var/tmp/mylog.log
</pre>
<p><b>Note</b> &minus; files will rotate automatically after reaching the size 10 MB.</p>
<h2>Log Levels</h2>
<p>Spring Boot supports all logger levels such as “TRACE”, “DEBUG”, “INFO”, “WARN”, “ERROR”, “FATAL”, “OFF”. You can define Root logger in the application.properties file as shown below &minus;</p>
<pre class="result notranslate">
logging.level.root = WARN
</pre>
<p><b>Note</b> &minus; Logback does not support “FATAL” level log. It is mapped to the “ERROR” level log.</p>
<h2>Configure Logback</h2>
<p>Logback supports XML based configuration to handle Spring Boot Log configurations. Logging configuration details are configured in <b>logback.xml</b> file. The logback.xml file should be placed under the classpath.</p>
<p>You can configure the ROOT level log in Logback.xml file using the code given below &minus;</p>
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;configuration&gt;
   &lt;root level = "INFO"&gt;
   &lt;/root&gt;
&lt;/configuration&gt;
</pre>
<p>You can configure the console appender in Logback.xml file given below.</p>
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;configuration&gt;
   &lt;appender name = "STDOUT" class = "ch.qos.logback.core.ConsoleAppender"&gt;&lt;/appender&gt;
   &lt;root level = "INFO"&gt;
      &lt;appender-ref ref = "STDOUT"/&gt; 
   &lt;/root&gt;
&lt;/configuration&gt;
</pre>
<p>You can configure the file appender in Logback.xml file using the code given below. Note that you need to specify the Log file path insider the file appender.</p>
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;configuration&gt;
   &lt;appender name = "FILE" class = "ch.qos.logback.core.FileAppender"&gt;
      &lt;File&gt;/var/tmp/mylog.log&lt;/File&gt;
   &lt;/appender&gt;   
   &lt;root level = "INFO"&gt;
      &lt;appender-ref ref = "FILE"/&gt;
   &lt;/root&gt;
&lt;/configuration&gt;
</pre>
<p>You can define the Log pattern in <b>logback.xml</b> file using the code given below. You can also define the set of supported log patterns inside the console or file log appender using the code given below &minus;</p>
<pre class="result notranslate">
&lt;pattern&gt;[%d{yyyy-MM-dd'T'HH:mm:ss.sss'Z'}] [%C] [%t] [%L] [%-5p] %m%n&lt;/pattern&gt;
</pre>
<p>The code for complete logback.xml file is given below. You have to place this in the class path.</p>
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;configuration&gt;
   &lt;appender name = "STDOUT" class = "ch.qos.logback.core.ConsoleAppender"&gt;
      &lt;encoder&gt;
         &lt;pattern&gt;[%d{yyyy-MM-dd'T'HH:mm:ss.sss'Z'}] [%C] [%t] [%L] [%-5p] %m%n&lt;/pattern&gt;
      &lt;/encoder&gt;
   &lt;/appender&gt;
   
   &lt;appender name = "FILE" class = "ch.qos.logback.core.FileAppender"&gt;
      &lt;File&gt;/var/tmp/mylog.log&lt;/File&gt;
      &lt;encoder&gt;
         &lt;pattern&gt;[%d{yyyy-MM-dd'T'HH:mm:ss.sss'Z'}] [%C] [%t] [%L] [%-5p] %m%n&lt;/pattern&gt;
      &lt;/encoder&gt;
   &lt;/appender&gt;
   
   &lt;root level = "INFO"&gt;
      &lt;appender-ref ref = "FILE"/&gt;
      &lt;appender-ref ref = "STDOUT"/&gt; 
   &lt;/root&gt;
&lt;/configuration&gt;
</pre>
<p>The code given below shows how to add the slf4j logger in Spring Boot main class file.</p> 
<pre class="prettyprint notranslate">
package com.tutorialspoint.demo;

import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class DemoApplication {
   private static final Logger logger = LoggerFactory.getLogger(DemoApplication.class);
   
   public static void main(String[] args) {
      logger.info("this is a info message");
      logger.warn("this is a warn message");
      logger.error("this is a error message");
      SpringApplication.run(DemoApplication.class, args);
   }
}
</pre>
<p>The output that you can see in the console window is shown here &minus;</p>
<img src="/spring_boot/images/logger_console_window.jpg" alt="Logger Console Window" />
<p>The output that you can see in the log file is shown here &minus;</p>
<img src="/spring_boot/images/log_output.jpg" alt="Log Output" />
<p></p>
<h1>Spring Boot - Building RESTful Web Services</h1>
<p>Spring Boot provides a very good support to building RESTful Web Services for enterprise applications. This chapter will explain in detail about building RESTful web services using Spring Boot.</p>
<p><b>Note</b> &minus; For building a RESTful Web Services, we need to add the Spring Boot Starter Web dependency into the build configuration file.</p>
<p>If you are a Maven user, use the following code to add the below dependency in your <b>pom.xml</b> file &minus;</p>
<pre class="prettyprint notranslate">
&lt;dependency&gt;
   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
   &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;    
&lt;/dependency&gt;
</pre>
<p>If you are a Gradle user, use the following code to add the below dependency in your <b>build.gradle</b> file.</p>
<pre class="result notranslate">
compile('org.springframework.boot:spring-boot-starter-web')
</pre>
<p>The code for complete build configuration file <b>Maven build – pom.xml</b> is given below &minus;</p>
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;project xmlns = "http://maven.apache.org/POM/4.0.0" 
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation = "http://maven.apache.org/POM/4.0.0 
   http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
   
   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
   &lt;groupId&gt;com.tutorialspoint&lt;/groupId&gt;
   &lt;artifactId&gt;demo&lt;/artifactId&gt;
   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
   &lt;packaging&gt;jar&lt;/packaging&gt;
   &lt;name&gt;demo&lt;/name&gt;
   &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;
   
   &lt;parent&gt;
      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
      &lt;version&gt;1.5.8.RELEASE&lt;/version&gt;
      &lt;relativePath/&gt; 
   &lt;/parent&gt;
   
   &lt;properties&gt;
      &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
      &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;
      &lt;java.version&gt;1.8&lt;/java.version&gt;
   &lt;/properties&gt;
   
   &lt;dependencies&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
      &lt;/dependency&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
         &lt;scope&gt;test&lt;/scope&gt;
      &lt;/dependency&gt;
   &lt;/dependencies&gt;
   
   &lt;build&gt;
      &lt;plugins&gt;
         &lt;plugin&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
         &lt;/plugin&gt;
      &lt;/plugins&gt;
   &lt;/build&gt;
   
&lt;/project&gt;
</pre>
<p>The code for complete build configuration file <b>Gradle Build – build.gradle</b> is given below &minus;</p>
<pre class="prettyprint notranslate">
buildscript {
   ext {
      springBootVersion = '1.5.8.RELEASE'
   }
   repositories {
      mavenCentral()
   }
   dependencies {
      classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}")
   }
}

apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'org.springframework.boot'

group = 'com.tutorialspoint'
version = '0.0.1-SNAPSHOT'
sourceCompatibility = 1.8

repositories {
   mavenCentral()
}
dependencies {
   compile('org.springframework.boot:spring-boot-starter-web')
   testCompile('org.springframework.boot:spring-boot-starter-test')
}
</pre>
<p>Before you proceed to build a RESTful web service, it is suggested that you have knowledge of the following annotations &minus;</p>
<h2>Rest Controller</h2>  
<p>The @RestController annotation is used to define the RESTful web services. It serves JSON, XML and custom response. Its syntax is shown below &minus;</p>
<pre class="result notranslate">
@RestController
public class ProductServiceController { 
}
</pre>
<h2>Request Mapping</h2>
<p>The @RequestMapping annotation is used to define the Request URI to access the REST Endpoints. We can define Request method to consume and produce object. The default request method is GET.</p>
<pre class="result notranslate">
@RequestMapping(value = "/products")
public ResponseEntity&lt;Object&gt; getProducts() { }
</pre>
<h2>Request Body</h2>
<p>The @RequestBody annotation is used to define the request body content type.</p>
<pre class="result notranslate">
public ResponseEntity&lt;Object&gt; createProduct(@RequestBody Product product) {
}
</pre>
<h2>Path Variable</h2>
<p>The @PathVariable annotation is used to define the custom or dynamic request URI. The Path variable in request URI is defined as curly braces {} as shown below &minus;</p>
<pre class="result notranslate">
public ResponseEntity&lt;Object&gt; updateProduct(@PathVariable("id") String id) {
}
</pre>
<h2>Request Parameter</h2>
<p>The @RequestParam annotation is used to read the request parameters from the Request URL. By default, it is a required parameter. We can also set default value for request parameters as shown here &minus;</p>
<pre class="result notranslate">
public ResponseEntity&lt;Object&gt; getProduct(
   @RequestParam(value = "name", required = false, defaultValue = "honey") String name) {
}
</pre>
<h2>GET API</h2>
<p>The default HTTP request method is GET. This method does not require any Request Body. You can send request parameters and path variables to define the custom or dynamic URL.</p> 
<p>The sample code to define the HTTP GET request method is shown below. In this example, we used HashMap to store the Product. Note that we used a POJO class as the product to be stored.</p>
<p>Here, the request URI is <b>/products</b> and it will return the list of products from HashMap repository. The controller class file is given below that contains GET method REST Endpoint.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.demo.controller;

import java.util.HashMap;
import java.util.Map;

import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

import com.tutorialspoint.demo.model.Product;

@RestController
public class ProductServiceController {
   private static Map&lt;String, Product&gt; productRepo = new HashMap&lt;&gt;();
   static {
      Product honey = new Product();
      honey.setId("1");
      honey.setName("Honey");
      productRepo.put(honey.getId(), honey);
      
      Product almond = new Product();
      almond.setId("2");
      almond.setName("Almond");
      productRepo.put(almond.getId(), almond);
   }
   @RequestMapping(value = "/products")
   public ResponseEntity&lt;Object&gt; getProduct() {
      return new ResponseEntity&lt;&gt;(productRepo.values(), HttpStatus.OK);
   }
}
</pre>
<h2>POST API</h2>
<p>The HTTP POST request is used to create a resource. This method contains the Request Body. We can send request parameters and path variables to define the custom or dynamic URL.</p> 
<p>The following example shows the sample code to define the HTTP POST request method. In this example, we used HashMap to store the Product, where the product is a POJO class.</p> 
<p>Here, the request URI is <b>/products</b>, and it will return the String after storing the product into HashMap repository.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.demo.controller;

import java.util.HashMap;
import java.util.Map;

import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.bind.annotation.RestController;

import com.tutorialspoint.demo.model.Product;

@RestController
public class ProductServiceController {
   private static Map&lt;String, Product&gt; productRepo = new HashMap&lt;&gt;();
   
   @RequestMapping(value = "/products", method = RequestMethod.POST)
   public ResponseEntity&lt;Object&gt; createProduct(@RequestBody Product product) {
      productRepo.put(product.getId(), product);
      return new ResponseEntity&lt;&gt;("Product is created successfully", HttpStatus.CREATED);
   }
}
</pre>
<h2>PUT API</h2>
<p>The HTTP PUT request is used to update the existing resource. This method contains a Request Body. We can send request parameters and path variables to define the custom or dynamic URL.</p> 
<p>The example given below shows how to define the HTTP PUT request method. In this example, we used HashMap to update the existing Product, where the product is a POJO class.</p> 
<p>Here the request URI is <b>/products/{id}</b> which will return the String after a the product into a HashMap repository. Note that we used the Path variable <b>{id}</b> which defines the products ID that needs to be updated.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.demo.controller;

import java.util.HashMap;
import java.util.Map;

import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.bind.annotation.RestController;
import com.tutorialspoint.demo.model.Product;

@RestController
public class ProductServiceController {
   private static Map&lt;String, Product&gt; productRepo = new HashMap&lt;&gt;();
   
   @RequestMapping(value = "/products/{id}", method = RequestMethod.PUT)
   public ResponseEntity&lt;Object&gt; updateProduct(@PathVariable("id") String id, @RequestBody Product product) { 
      productRepo.remove(id);
      product.setId(id);
      productRepo.put(id, product);
      return new ResponseEntity&lt;&gt;("Product is updated successsfully", HttpStatus.OK);
   }   
}
</pre>
<h2>DELETE API</h2>
<p>The HTTP Delete request is used to delete the existing resource. This method does not contain any Request Body. We can send request parameters and path variables to define the custom or dynamic URL.</p> 
<p>The example given below shows how to define the HTTP DELETE request method. In this example, we used HashMap to remove the existing product, which is a POJO class.</p> 
<p>The request URI is <b>/products/{id}</b> and it will return the String after deleting the product from HashMap repository. We used the Path variable <b>{id}</b> which defines the products ID that needs to be deleted.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.demo.controller;

import java.util.HashMap;
import java.util.Map;

import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.bind.annotation.RestController;

import com.tutorialspoint.demo.model.Product;

@RestController
public class ProductServiceController {
   private static Map&lt;String, Product&gt; productRepo = new HashMap&lt;&gt;();
   
   @RequestMapping(value = "/products/{id}", method = RequestMethod.DELETE)
   public ResponseEntity&lt;Object&gt; delete(@PathVariable("id") String id) { 
      productRepo.remove(id);
      return new ResponseEntity&lt;&gt;("Product is deleted successsfully", HttpStatus.OK);
   }
}
</pre>
<p>This section gives you the complete set of source code. Observe the following codes for their respective functionalities &minus;</p>
<p><b>The Spring Boot main application class – DemoApplication.java</b></p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.demo;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class DemoApplication {
   public static void main(String[] args) {
      SpringApplication.run(DemoApplication.class, args);
   }
}
</pre>
<p><b>The POJO class – Product.java</b></p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.demo.model;

public class Product {
   private String id;
   private String name;

   public String getId() {
      return id;
   }
   public void setId(String id) {
      this.id = id;
   }
   public String getName() {
      return name;
   }
   public void setName(String name) {
      this.name = name;
   }
}
</pre>
<p><b>The Rest Controller class – ProductServiceController.java</b></p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.demo.controller;

import java.util.HashMap;
import java.util.Map;

import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.bind.annotation.RestController;

import com.tutorialspoint.demo.model.Product;

@RestController
public class ProductServiceController {
   private static Map&lt;String, Product&gt; productRepo = new HashMap&lt;&gt;();
   static {
      Product honey = new Product();
      honey.setId("1");
      honey.setName("Honey");
      productRepo.put(honey.getId(), honey);
      
      Product almond = new Product();
      almond.setId("2");
      almond.setName("Almond");
      productRepo.put(almond.getId(), almond);
   }
   
   @RequestMapping(value = "/products/{id}", method = RequestMethod.DELETE)
   public ResponseEntity&lt;Object&gt; delete(@PathVariable("id") String id) { 
      productRepo.remove(id);
      return new ResponseEntity&lt;&gt;("Product is deleted successsfully", HttpStatus.OK);
   }
   
   @RequestMapping(value = "/products/{id}", method = RequestMethod.PUT)
   public ResponseEntity&lt;Object&gt; updateProduct(@PathVariable("id") String id, @RequestBody Product product) { 
      productRepo.remove(id);
      product.setId(id);
      productRepo.put(id, product);
      return new ResponseEntity&lt;&gt;("Product is updated successsfully", HttpStatus.OK);
   }
   
   @RequestMapping(value = "/products", method = RequestMethod.POST)
   public ResponseEntity&lt;Object&gt; createProduct(@RequestBody Product product) {
      productRepo.put(product.getId(), product);
      return new ResponseEntity&lt;&gt;("Product is created successfully", HttpStatus.CREATED);
   }
   
   @RequestMapping(value = "/products")
   public ResponseEntity&lt;Object&gt; getProduct() {
      return new ResponseEntity&lt;&gt;(productRepo.values(), HttpStatus.OK);
   }
}
</pre>
<p>You can create an executable JAR file, and run the spring boot application by using the below Maven or Gradle commands as shown &minus;</p>
<p>For Maven, use the command shown below &minus;</p>
<pre class="result notranslate">
mvn clean install
</pre>
<p>After “BUILD SUCCESS”, you can find the JAR file under the target directory.</p>
<p>For Gradle, use the command shown below &minus;</p>
<pre class="result notranslate">
gradle clean build
</pre>
<p>After “BUILD SUCCESSFUL”, you can find the JAR file under the build/libs directory.</p>
<p>You can run the JAR file by using the command shown below &minus;</p>
<pre class="result notranslate">
java –jar &lt;JARFILE&gt; 
</pre>
<p>This will start the application on the Tomcat port 8080 as shown below &minus;</p>
<img src="/spring_boot/images/started_application_on_tomcat_port_8080.jpg" alt="Started Application on Tomcat Port8080" />
<p>Now hit the URL shown below in POSTMAN application and see the output.</p>
<p>GET API URL is: <b>http://localhost:8080/products</b></p>
<img src="/spring_boot/images/postman_application_get_api_url.jpg" alt="POSTMAN Application Get API URL" />
<p>POST API URL is: <b>http://localhost:8080/products</b></p>
<img src="/spring_boot/images/postman_application_post_api_url.jpg" alt="POSTMAN Application Post API URL" />
<p>PUT API URL is: <b>http://localhost:8080/products/3</b></p> 
<img src="/spring_boot/images/postman_application_put_api_url.jpg" alt="POSTMAN Application Put API URL" />
<p>DELETE API URL is: <b>http://localhost:8080/products/3</b></p> 
<img src="/spring_boot/images/postman_application_delete_api_url.jpg" alt="POSTMAN Application Delete API URL" />
<p></p>
<h1>Spring Boot - Exception Handling</h1>
<p>Handling exceptions and errors in APIs and sending the proper response to the client is good for enterprise applications. In this chapter, we will learn how to handle exceptions in Spring Boot.</p>
<p>Before proceeding with exception handling, let us gain an understanding on the following annotations.</p>
<h2>Controller Advice</h2>
<p>The @ControllerAdvice is an annotation, to handle the exceptions globally.</p>
<h2>Exception Handler</h2>
<p>The @ExceptionHandler is an annotation used to handle the specific exceptions and sending the custom responses to the client.</p>
<p>You can use the following code to create @ControllerAdvice class to handle the exceptions globally &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.demo.exception;

import org.springframework.web.bind.annotation.ControllerAdvice;

@ControllerAdvice
   public class ProductExceptionController {
}
</pre>
<p>Define a class that extends the RuntimeException class.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.demo.exception;

public class ProductNotfoundException extends RuntimeException {
   private static final long serialVersionUID = 1L;
}
</pre>
<p>You can define the @ExceptionHandler method to handle the exceptions as shown. This method should be used for writing the Controller Advice class file.</p>
<pre class="prettyprint notranslate">
@ExceptionHandler(value = ProductNotfoundException.class)

public ResponseEntity&lt;Object&gt; exception(ProductNotfoundException exception) {
}
</pre>
<p>Now, use the code given below to throw the exception from the API.</p>
<pre class="prettyprint notranslate">
@RequestMapping(value = "/products/{id}", method = RequestMethod.PUT)
public ResponseEntity&lt;Object&gt; updateProduct() { 
   throw new ProductNotfoundException();
}
</pre>
<p>The complete code to handle the exception is given below. In this example, we used the PUT API to update the product. Here, while updating the product, if the product is not found, then return the response error message as “Product not found”. Note that the <b>ProductNotFoundException</b> exception class should extend the <b>RuntimeException</b>.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.demo.exception;
public class ProductNotfoundException extends RuntimeException {
   private static final long serialVersionUID = 1L;
}
</pre>
<p>The Controller Advice class to handle the exception globally is given below. We can define any Exception Handler methods in this class file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.demo.exception;

import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.ControllerAdvice;
import org.springframework.web.bind.annotation.ExceptionHandler;

@ControllerAdvice
public class ProductExceptionController {
   @ExceptionHandler(value = ProductNotfoundException.class)
   public ResponseEntity&lt;Object&gt; exception(ProductNotfoundException exception) {
      return new ResponseEntity&lt;&gt;("Product not found", HttpStatus.NOT_FOUND);
   }
}
</pre>
<p>The Product Service API controller file is given below to update the Product. If the Product is not found, then it throws the <b>ProductNotFoundException</b> class.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.demo.controller;

import java.util.HashMap;
import java.util.Map;

import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.bind.annotation.RestController;

import com.tutorialspoint.demo.exception.ProductNotfoundException;
import com.tutorialspoint.demo.model.Product;

@RestController
public class ProductServiceController {
   private static Map&lt;String, Product&gt; productRepo = new HashMap&lt;&gt;();
   static {
      Product honey = new Product();
      honey.setId("1");
      honey.setName("Honey");
      productRepo.put(honey.getId(), honey);
      
      Product almond = new Product();
      almond.setId("2");
      almond.setName("Almond");
      productRepo.put(almond.getId(), almond);
   }
   
   @RequestMapping(value = "/products/{id}", method = RequestMethod.PUT)
   public ResponseEntity&lt;Object&gt; updateProduct(@PathVariable("id") String id, @RequestBody Product product) { 
      if(!productRepo.containsKey(id))throw new ProductNotfoundException();
      productRepo.remove(id);
      product.setId(id);
      productRepo.put(id, product);
      return new ResponseEntity&lt;&gt;("Product is updated successfully", HttpStatus.OK);
   }
}
</pre>
<p>The code for main Spring Boot application class file is given below &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.demo;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class DemoApplication {
   public static void main(String[] args) {
      SpringApplication.run(DemoApplication.class, args);
   }
}
</pre>
<p>The code for <b>POJO class</b> for Product is given below &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.demo.model;
public class Product {
   private String id;
   private String name;

   public String getId() {
      return id;
   }
   public void setId(String id) {
      this.id = id;
   }
   public String getName() {
      return name;
   }
   public void setName(String name) {
      this.name = name;
   }
}
</pre>
<p>The code for <b>Maven build – pom.xml</b> is shown below &minus;</p>
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;project xmlns = "http://maven.apache.org/POM/4.0.0" 
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation = "http://maven.apache.org/POM/4.0.0 
   http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
   
   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
   &lt;groupId&gt;com.tutorialspoint&lt;/groupId&gt;
   &lt;artifactId&gt;demo&lt;/artifactId&gt;
   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
   &lt;packaging&gt;jar&lt;/packaging&gt;
   &lt;name&gt;demo&lt;/name&gt;
   &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;

   &lt;parent&gt;
      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
      &lt;version&gt;1.5.8.RELEASE&lt;/version&gt;
      &lt;relativePath/&gt; 
   &lt;/parent&gt;

   &lt;properties&gt;
      &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
      &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;
      &lt;java.version&gt;1.8&lt;/java.version&gt;
   &lt;/properties&gt;

   &lt;dependencies&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
      &lt;/dependency&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
         &lt;scope&gt;test&lt;/scope&gt;
      &lt;/dependency&gt;
   &lt;/dependencies&gt;

   &lt;build&gt;
      &lt;plugins&gt;
         &lt;plugin&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
         &lt;/plugin&gt;
      &lt;/plugins&gt;
   &lt;/build&gt;
   
&lt;/project&gt;
</pre>
<p>The code for <b>Gradle Build – build.gradle</b> is given below &minus;</p>
<pre class="prettyprint notranslate">
buildscript {
   ext {
      springBootVersion = '1.5.8.RELEASE'
   }
   repositories {
      mavenCentral()
   }
   dependencies {
      classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}")
   }
}
apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'org.springframework.boot'

group = 'com.tutorialspoint'
version = '0.0.1-SNAPSHOT'
sourceCompatibility = 1.8

repositories {
   mavenCentral()
}
dependencies {
   compile('org.springframework.boot:spring-boot-starter-web')
   testCompile('org.springframework.boot:spring-boot-starter-test')
}
</pre>
<p>You can create an executable JAR file, and run the Spring Boot application by using the Maven or Gradle commands &minus;</p>
<p>For Maven, you can use the following command &minus;</p>
<pre class="result notranslate">
mvn clean install
</pre>
<p>After “BUILD SUCCESS”, you can find the JAR file under the target directory.</p>
<p>For Gradle, you can use the following command &minus;</p> 
<pre class="result notranslate">
gradle clean build
</pre>
<p>After “BUILD SUCCESSFUL”, you can find the JAR file under the build/libs directory.</p>
<p>You can run the JAR file by using the following command &minus;</p>
<pre class="result notranslate">
java –jar &lt;JARFILE&gt;
</pre>
<p>This will start the application on the Tomcat port 8080 as shown below &minus;</p>
<img src="/spring_boot/images/exception_handling_tomcat_application_startded.jpg" alt="Exception Handling Tomcat Application Startded" />
<p>Now hit the below URL in POSTMAN application and you can see the output as shown below &minus;</p>
<p>Update URL: http://localhost:8080/products/3</p> 
<img src="/spring_boot/images/postman_application_update_url.jpg" alt="Postman Application Update URL" />
<h1>Spring Boot - Interceptor</h1>
<p>You can use the Interceptor in Spring Boot to perform operations under the following situations &minus;</p>
<ul class="list">
<li><p>Before sending the request to the controller</p></li> 
<li><p>Before sending the response to the client</p></li>
</ul>
<p>For example, you can use an interceptor to add the request header before sending the request to the controller and add the response header before sending the response to the client.</p> 
<p>To work with interceptor, you need to create <b>@Component</b> class that supports it and it should implement the <b>HandlerInterceptor</b> interface.</p> 
<p>The following are the three methods you should know about while working on Interceptors &minus;</p>
<ul class="list">
<li><p><b>preHandle()</b> method &minus; This is used to perform operations before sending the request to the controller. This method should return true to return the response to the client.</p></li>
<li><p><b>postHandle()</b> method &minus; This is used to perform operations before sending the response to the client.</p></li>
<li><p><b>afterCompletion()</b> method &minus; This is used to perform operations after completing the request and response.</p></li>
</ul>
<p>Observe the following code for a better understanding &minus;</p>
<pre class="prettyprint notranslate">
@Component
public class ProductServiceInterceptor implements HandlerInterceptor {
   @Override
   public boolean preHandle(
      HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {
      
      return true;
   }
   @Override
   public void postHandle(
      HttpServletRequest request, HttpServletResponse response, Object handler, 
      ModelAndView modelAndView) throws Exception {}
   
   @Override
   public void afterCompletion(HttpServletRequest request, HttpServletResponse response, 
      Object handler, Exception exception) throws Exception {}
}
</pre>
<p>You will have to register this Interceptor with <b>InterceptorRegistry</b> by using <b>WebMvcConfigurerAdapter</b> as shown below &minus;</p>
<pre class="prettyprint notranslate">
@Component
public class ProductServiceInterceptorAppConfig extends WebMvcConfigurerAdapter {
   @Autowired
   ProductServiceInterceptor productServiceInterceptor;

   @Override
   public void addInterceptors(InterceptorRegistry registry) {
      registry.addInterceptor(productServiceInterceptor);
   }
}
</pre>
<p>In the example given below, we are going to hit the GET products API which gives the output as given under &minus;</p>
<p>The code for the Interceptor class ProductServiceInterceptor.java is given below &minus;</p> 
<pre class="prettyprint notranslate">
package com.tutorialspoint.demo.interceptor;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

import org.springframework.stereotype.Component;
import org.springframework.web.servlet.HandlerInterceptor;
import org.springframework.web.servlet.ModelAndView;

@Component
public class ProductServiceInterceptor implements HandlerInterceptor {
   @Override
   public boolean preHandle
      (HttpServletRequest request, HttpServletResponse response, Object handler) 
      throws Exception {
      
      System.out.println("Pre Handle method is Calling");
      return true;
   }
   @Override
   public void postHandle(HttpServletRequest request, HttpServletResponse response, 
      Object handler, ModelAndView modelAndView) throws Exception {
      
      System.out.println("Post Handle method is Calling");
   }
   @Override
   public void afterCompletion
      (HttpServletRequest request, HttpServletResponse response, Object 
      handler, Exception exception) throws Exception {
      
      System.out.println("Request and Response is completed");
   }
}
</pre>
<p>The code for Application Configuration class file to register the Interceptor into Interceptor Registry – ProductServiceInterceptorAppConfig.java is given below &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.demo.interceptor;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Component;
import org.springframework.web.servlet.config.annotation.InterceptorRegistry;
import org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter;

@Component
public class ProductServiceInterceptorAppConfig extends WebMvcConfigurerAdapter {
   @Autowired
   ProductServiceInterceptor productServiceInterceptor;

   @Override
   public void addInterceptors(InterceptorRegistry registry) {
      registry.addInterceptor(productServiceInterceptor);
   }
}
</pre>
<p>The code for Controller class file ProductServiceController.java is given below &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.demo.controller;

import java.util.HashMap;
import java.util.Map;

import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.bind.annotation.RestController;
import com.tutorialspoint.demo.exception.ProductNotfoundException;
import com.tutorialspoint.demo.model.Product;

@RestController
public class ProductServiceController {
   private static Map&lt;String, Product&gt; productRepo = new HashMap&lt;&gt;();   
   static {      
      Product honey = new Product();
      honey.setId("1");
      honey.setName("Honey");
      productRepo.put(honey.getId(), honey);      
      Product almond = new Product();
      almond.setId("2");
      almond.setName("Almond");
      productRepo.put(almond.getId(), almond);      
   }
   @RequestMapping(value = "/products")
   public ResponseEntity&lt;Object&gt; getProduct() {
      return new ResponseEntity&lt;&gt;(productRepo.values(), HttpStatus.OK);
   }
}
</pre>
<p>The code for POJO class for Product.java is given below &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.demo.model;

public class Product {
   private String id;
   private String name;

   public String getId() {
      return id;
   }
   public void setId(String id) {
      this.id = id;
   }
   public String getName() {
      return name;
   }
   public void setName(String name) {
      this.name = name;
   }
}
</pre>
<p>The code for main Spring Boot application class file <b>DemoApplication.java</b> is given below &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.demo;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class DemoApplication {
   public static void main(String[] args) {
      SpringApplication.run(DemoApplication.class, args);   
   }
}
</pre>
<p>The code for Maven build – <b>pom.xml</b> is shown here &minus;</p>
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;project xmlns = "http://maven.apache.org/POM/4.0.0" xmlns:xsi = "
   http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation = "http://maven.apache.org/POM/4.0.0 
   http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
   
   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
   &lt;groupId&gt;com.tutorialspoint&lt;/groupId&gt;
   &lt;artifactId&gt;demo&lt;/artifactId&gt;
   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
   &lt;packaging&gt;jar&lt;/packaging&gt;
   &lt;name&gt;demo&lt;/name&gt;
   &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;

   &lt;parent&gt;
      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
      &lt;version&gt;1.5.8.RELEASE&lt;/version&gt;
      &lt;relativePath/&gt; 
   &lt;/parent&gt;

   &lt;properties&gt;
      &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
      &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;
      &lt;java.version&gt;1.8&lt;/java.version&gt;
   &lt;/properties&gt;

   &lt;dependencies&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
      &lt;/dependency&gt;

      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
         &lt;scope&gt;test&lt;/scope&gt;
      &lt;/dependency&gt;
   &lt;/dependencies&gt;

   &lt;build&gt;
      &lt;plugins&gt;
         &lt;plugin&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
         &lt;/plugin&gt;
      &lt;/plugins&gt;
   &lt;/build&gt;
   
&lt;/project&gt;
</pre>
<p>The code for Gradle Build <b>build.gradle</b> is shown here &minus;</p>
<pre class="prettyprint notranslate">
buildscript {
   ext {
      springBootVersion = '1.5.8.RELEASE'
   }
   repositories {
      mavenCentral()
   }
   dependencies {
      classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}")
   }
}
apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'org.springframework.boot'
group = 'com.tutorialspoint'
version = '0.0.1-SNAPSHOT'
sourceCompatibility = 1.8

repositories {
   mavenCentral()
}
dependencies {
   compile('org.springframework.boot:spring-boot-starter-web')
   testCompile('org.springframework.boot:spring-boot-starter-test')
}
</pre>
<p>You can create an executable JAR file, and run the Spring Boot application by using the below Maven or Gradle commands.</p> 
<p>For Maven, use the command as shown below &minus;</p>
<pre class="result notranslate">
mvn clean install
</pre>
<p>After “BUILD SUCCESS”, you can find the JAR file under the target directory.</p>
<p>For Gradle, use the command as shown below &minus;</p>
<pre class="result notranslate">
gradle clean build
</pre>
<p>After “BUILD SUCCESSFUL”, you can find the JAR file under the build/libs directory.</p>
<p>You can run the JAR file by using the following command &minus;</p> 
<pre class="result notranslate">
java –jar &lt;JARFILE&gt; 
</pre>
<p>Now, the application has started on the Tomcat port 8080 as shown below &minus;</p>
<img src="/spring_boot/images/started_application_on_tomcat_port_8080.jpg" alt="Started Application on Tomcat Port 8080" />
<p>Now hit the below URL in POSTMAN application and you can see the output as shown under &minus;</p>
<p>GET API: <b>http://localhost:8080/products</b></p> 
<img src="/spring_boot/images/postman_application_get_api_url.jpg" alt="POSTMAN Application Get API URL" />
<p>In the console window, you can see the System.out.println statements added in the Interceptor as shown in the screenshot given below &minus;</p>
<img src="/spring_boot/images/interceptor_output_console_window.jpg" alt="Interceptor Output Console Window" />
<h1>Spring Boot - Servlet Filter</h1>
<p>A filter is an object used to intercept the HTTP requests and responses of your application. By using filter, we can perform two operations at two instances &minus;</p>
<ul class="list">
<li>Before sending the request to the controller</li> 
<li>Before sending a response to the client.</li> 
</ul>
<p>The following code shows the sample code for a Servlet Filter implementation class with @Component annotation.</p>
<pre class="prettyprint notranslate">
@Component
public class SimpleFilter implements Filter {
   @Override
   public void destroy() {}

   @Override
   public void doFilter
      (ServletRequest request, ServletResponse response, FilterChain filterchain) 
      throws IOException, ServletException {}

   @Override
   public void init(FilterConfig filterconfig) throws ServletException {}
}
</pre>
<p>The following example shows the code for reading the remote host and remote address from the ServletRequest object before sending the request to the controller.</p>
<p>In doFilter() method, we have added the System.out.println statements to print the remote host and remote address.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.demo;

import java.io.IOException;

import javax.servlet.Filter;
import javax.servlet.FilterChain;
import javax.servlet.FilterConfig;
import javax.servlet.ServletException;
import javax.servlet.ServletRequest;
import javax.servlet.ServletResponse;

import org.springframework.stereotype.Component;

@Component
public class SimpleFilter implements Filter {
   @Override
   public void destroy() {}

   @Override
   public void doFilter(ServletRequest request, ServletResponse response, FilterChain filterchain) 
      throws IOException, ServletException {
      
      System.out.println("Remote Host:"+request.getRemoteHost());
      System.out.println("Remote Address:"+request.getRemoteAddr());
      filterchain.doFilter(request, response);
   }

   @Override
   public void init(FilterConfig filterconfig) throws ServletException {}
}
</pre>
<p>In the Spring Boot main application class file, we have added the simple REST endpoint that returns the “Hello World” string.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.demo;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

@SpringBootApplication
@RestController
public class DemoApplication {
   public static void main(String[] args) {
      SpringApplication.run(DemoApplication.class, args);
   }
   @RequestMapping(value = "/")
   public String hello() {
      return "Hello World";
   }
}
</pre>
<p>The code for Maven build – <b>pom.xml</b> is given below &minus;</p>
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;project xmlns = "http://maven.apache.org/POM/4.0.0" xmlns:xsi = "
   http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation = "http://maven.apache.org/POM/4.0.0 
   http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
   
   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
   &lt;groupId&gt;com.tutorialspoint&lt;/groupId&gt;
   &lt;artifactId&gt;demo&lt;/artifactId&gt;
   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
   &lt;packaging&gt;jar&lt;/packaging&gt;
   &lt;name&gt;demo&lt;/name&gt;
   &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;

   &lt;parent&gt;
      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
      &lt;version&gt;1.5.8.RELEASE&lt;/version&gt;
      &lt;relativePath/&gt; 
   &lt;/parent&gt;

   &lt;properties&gt;
      &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
      &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;
      &lt;java.version&gt;1.8&lt;/java.version&gt;
   &lt;/properties&gt;

   &lt;dependencies&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
      &lt;/dependency&gt;

      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
         &lt;scope&gt;test&lt;/scope&gt;
      &lt;/dependency&gt;
   &lt;/dependencies&gt;

   &lt;build&gt;
      &lt;plugins&gt;
         &lt;plugin&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
         &lt;/plugin&gt;
      &lt;/plugins&gt;
   &lt;/build&gt;
   
&lt;/project&gt;
</pre>
<p>The code for Gradle Build – build.gradle is given below &minus;</p>
<pre class="prettyprint notranslate">
buildscript {
   ext {
      springBootVersion = '1.5.8.RELEASE'
   }
   repositories {
      mavenCentral()
   }
   dependencies {
      classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}")
   }
}

apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'org.springframework.boot'

group = 'com.tutorialspoint'
version = '0.0.1-SNAPSHOT'
sourceCompatibility = 1.8

repositories {
   mavenCentral()
}
dependencies {
   compile('org.springframework.boot:spring-boot-starter-web')
   testCompile('org.springframework.boot:spring-boot-starter-test')
}
</pre>
<p>You can create an executable JAR file, and run the Spring Boot application by using the Maven or Gradle commands shown below &minus;</p>
<p>For Maven, use the command as shown below &minus;</p> 
<pre class="result notranslate">
mvn clean install
</pre>
<p>After BUILD SUCCESS, you can find the JAR file under the target directory.</p>
<p>For Gradle, use the command as shown below &minus;</p> 
<pre class="result notranslate">
gradle clean build
</pre>
<p>After BUILD SUCCESSFUL, you can find the JAR file under the build/libs directory.</p>
<p>Now, run the JAR file by using the following command</p> 
<pre class="result notranslate">
java –jar &lt;JARFILE&gt; 
</pre>
<p>You can see the application has started on the Tomcat port 8080.</p>
<p>Now hit the URL <b>http://localhost:8080/</b> and see the output Hello World. It should look as shown below &minus;</p>
<img src="/spring_boot/images/tomcat_started_on_port_8080_http.jpg" alt="Tomcat Started on Port 8080 HTTP" />
<p>Then, you can see the Remote host and Remote address on the console log as shown below &minus;</p>
<img src="/spring_boot/images/remote_host_remote_address_on_console_log.jpg" alt="Remote Host Remote Address on Console Log" />
<h1>Spring Boot - Tomcat Port Number</h1>
<p>Spring Boot lets you to run the same application more than once on a different port number. In this chapter, you will learn about this in detail. Note that the default port number 8080.</p>
<h2>Custom Port</h2> 
<p>In the <b>application.properties</b> file, we can set custom port number for the property server.port</p>
<pre class="result notranslate">
server.port = 9090
</pre>
<p>In the <b>application.yml</b> file, you can find as follows &minus;</p>
<pre class="result notranslate">
server: 
   port: 9090
</pre>
<h2>Random Port</h2> 
<p>In the <b>application.properties</b> file, we can set random port number for the property server.port</p>
<pre class="result notranslate">
server.port = 0
</pre>
<p>In the <b>application.yml</b> file, you can find as follows &minus;</p>
<pre class="result notranslate">
server: 
   port: 0
</pre>
<p><b>Note</b> &minus; If the <b>server.port</b> number is 0 while starting the Spring Boot application, Tomcat uses the random port number.</p>
<h1>Spring Boot - Rest Template</h1>
<p>Rest Template is used to create applications that consume RESTful Web Services. You can use the <b>exchange()</b> method to consume the web services for all HTTP methods. The code given below shows how to create Bean for Rest Template to auto wiring the Rest Template object.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.demo;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.context.annotation.Bean;
import org.springframework.web.client.RestTemplate;

@SpringBootApplication
public class DemoApplication {
   public static void main(String[] args) {
      SpringApplication.run(DemoApplication.class, args);
   }
   @Bean
   public RestTemplate getRestTemplate() {
      return new RestTemplate();
   }
}
</pre>
<h2>GET</h2>
<p><b>Consuming the GET API by using RestTemplate - exchange() method</b></p> 
<p>Assume this URL <b>http://localhost:8080/products</b> returns the following JSON and we are going to consume this API response by using Rest Template using the following code &minus;</p>
<pre class="prettyprint notranslate">
[
   {
      "id": "1",
      "name": "Honey"
   },
   {
      "id": "2",
      "name": "Almond"
   }
]
</pre>
<p>You will have to follow the given points to consume the API &minus;</p>
<ul class="list">
<li>Autowired the Rest Template Object.</li>
<li>Use HttpHeaders to set the Request Headers.</li>
<li>Use HttpEntity to wrap the request object.</li>
<li>Provide the URL, HttpMethod, and Return type for Exchange() method.</li>
</ul>
<pre class = "prettyprint notranslate">
@RestController
public class ConsumeWebService {
   @Autowired
   RestTemplate restTemplate;

   @RequestMapping(value = "/template/products")
   public String getProductList() {
      HttpHeaders headers = new HttpHeaders();
      headers.setAccept(Arrays.asList(MediaType.APPLICATION_JSON));
      HttpEntity &lt;String&gt; entity = new HttpEntity&lt;String&gt;(headers);
      
      return restTemplate.exchange("
         http://localhost:8080/products", HttpMethod.GET, entity, String.class).getBody();
   }
}
</pre>
<h2>POST</h2>
<p><b>Consuming POST API by using RestTemplate - exchange() method</b></p>
<p>Assume this URL <b>http://localhost:8080/products</b> returns the response shown below, we are going to consume this API response by using the Rest Template.</p>
<p>The code given below is the Request body &minus;</p>
<pre class = "prettyprint notranslate">
{
   "id":"3",
   "name":"Ginger"
}
</pre>
<p>The code given below is the Response body &minus;</p>
<pre class="result notranslate">
Product is created successfully
</pre>
<p>You will have to follow the points given below to consume the API &minus;</p>
<ul class="list">
<li><p>Autowired the Rest Template Object.</p></li>
<li><p>Use the HttpHeaders to set the Request Headers.</p></li>
<li><p>Use the HttpEntity to wrap the request object. Here, we wrap the Product object to send it to the request body.</p></li>
<li><p>Provide the URL, HttpMethod, and Return type for exchange() method.</p></li>
</ul>
<pre class="prettyprint notranslate">
@RestController
public class ConsumeWebService {
   @Autowired
   RestTemplate restTemplate;

   @RequestMapping(value = "/template/products", method = RequestMethod.POST)
   public String createProducts(@RequestBody Product product) {
      HttpHeaders headers = new HttpHeaders();
      headers.setAccept(Arrays.asList(MediaType.APPLICATION_JSON));
      HttpEntity&lt;Product&gt; entity = new HttpEntity&lt;Product&gt;(product,headers);
      
      return restTemplate.exchange(
         "http://localhost:8080/products", HttpMethod.POST, entity, String.class).getBody();
   }
}
</pre>
<h2>PUT</h2>   
<p><b>Consuming PUT API by using RestTemplate - exchange() method</b></p>
<p>Assume this URL <b>http://localhost:8080/products/3</b> returns the below response and we are going to consume this API response by using Rest Template.</p>
<p>The code given below is Request body &minus;</p>
<pre class="prettyprint notranslate">
{
   "name":"Indian Ginger"
}
</pre>
<p>The code given below is the Response body &minus;</p>
<pre class="result notranslate">
Product is updated successfully
</pre>
<p>You will have to follow the points given below to consume the API &minus;</p>
<ul class="list">
<li><p>Autowired the Rest Template Object.</p></li>
<li><p>Use HttpHeaders to set the Request Headers.</p></li>
<li><p>Use HttpEntity to wrap the request object. Here, we wrap the Product object to send it to the request body.</p></li>
<li><p>Provide the URL, HttpMethod, and Return type for exchange() method.</p></li>
</ul>
<pre class="prettyprint notranslate">
@RestController
public class ConsumeWebService {
   @Autowired
   RestTemplate restTemplate;

   @RequestMapping(value = "/template/products/{id}", method = RequestMethod.PUT)
   public String updateProduct(@PathVariable("id") String id, @RequestBody Product product) {
      HttpHeaders headers = new HttpHeaders();
      headers.setAccept(Arrays.asList(MediaType.APPLICATION_JSON));
      HttpEntity&lt;Product&gt; entity = new HttpEntity&lt;Product&gt;(product,headers);
      
      return restTemplate.exchange(
         "http://localhost:8080/products/"+id, HttpMethod.PUT, entity, String.class).getBody();
   }
}
</pre>
<h2>DELETE</h2>   
<p><b>Consuming DELETE API by using RestTemplate - exchange() method</b></p>
<p>Assume this URL <b>http://localhost:8080/products/3</b> returns the response given below and we are going to consume this API response by using Rest Template.</p>
<p>This line of code shown below is the Response body &minus;</p>
<pre class="result notranslate">
Product is deleted successfully
</pre>
<p>You will have to follow the points shown below to consume the API &minus;</p>
<ul class="list">
<li><p>Autowired the Rest Template Object.</p></li>
<li><p>Use HttpHeaders to set the Request Headers.</p></li>
<li><p>Use HttpEntity to wrap the request object.</p></li>
<li><p>Provide the URL, HttpMethod, and Return type for exchange() method.</p></li>
</ul>
<pre class="prettyprint notranslate">
@RestController
public class ConsumeWebService {
   @Autowired
   RestTemplate restTemplate;

   @RequestMapping(value = "/template/products/{id}", method = RequestMethod.DELETE)
   public String deleteProduct(@PathVariable("id") String id) {
      HttpHeaders headers = new HttpHeaders();
      headers.setAccept(Arrays.asList(MediaType.APPLICATION_JSON));
      HttpEntity&lt;Product&gt; entity = new HttpEntity&lt;Product&gt;(headers);
      
      return restTemplate.exchange(
         "http://localhost:8080/products/"+id, HttpMethod.DELETE, entity, String.class).getBody();
   }
}
</pre>
<p>The complete Rest Template Controller class file is given below &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.demo.controller;

import java.util.Arrays;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.http.HttpEntity;
import org.springframework.http.HttpHeaders;
import org.springframework.http.HttpMethod;
import org.springframework.http.MediaType;

import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.bind.annotation.RestController;
import org.springframework.web.client.RestTemplate;

import com.tutorialspoint.demo.model.Product;

@RestController
public class ConsumeWebService {
   @Autowired
   RestTemplate restTemplate;

   @RequestMapping(value = "/template/products")
   public String getProductList() {
      HttpHeaders headers = new HttpHeaders();
      headers.setAccept(Arrays.asList(MediaType.APPLICATION_JSON));
      HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(headers);
      
      return restTemplate.exchange(
         "http://localhost:8080/products", HttpMethod.GET, entity, String.class).getBody();
   }
   @RequestMapping(value = "/template/products", method = RequestMethod.POST)
   public String createProducts(@RequestBody Product product) {
      HttpHeaders headers = new HttpHeaders();
      headers.setAccept(Arrays.asList(MediaType.APPLICATION_JSON));
      HttpEntity&lt;Product&gt; entity = new HttpEntity&lt;Product&gt;(product,headers);
      
      return restTemplate.exchange(
         "http://localhost:8080/products", HttpMethod.POST, entity, String.class).getBody();
   }
   @RequestMapping(value = "/template/products/{id}", method = RequestMethod.PUT)
   public String updateProduct(@PathVariable("id") String id, @RequestBody Product product) {
      HttpHeaders headers = new HttpHeaders();
      headers.setAccept(Arrays.asList(MediaType.APPLICATION_JSON));
      HttpEntity&lt;Product&gt; entity = new HttpEntity&lt;Product&gt;(product,headers);
      
      return restTemplate.exchange(
         "http://localhost:8080/products/"+id, HttpMethod.PUT, entity, String.class).getBody();
   }
   @RequestMapping(value = "/template/products/{id}", method = RequestMethod.DELETE)
   public String deleteProduct(@PathVariable("id") String id) {
      HttpHeaders headers = new HttpHeaders();
      headers.setAccept(Arrays.asList(MediaType.APPLICATION_JSON));
      HttpEntity&lt;Product&gt; entity = new HttpEntity&lt;Product&gt;(headers);
      
      return restTemplate.exchange(
         "http://localhost:8080/products/"+id, HttpMethod.DELETE, entity, String.class).getBody();
   }
}
</pre>
<p>The code for Spring Boot Application Class – DemoApplication.java is given below &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.demo;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class DemoApplication {
   public static void main(String[] args) {
      SpringApplication.run(DemoApplication.class, args);
   }
}
</pre>
<p>The code for Maven build – pom.xml is given below &minus;</p>
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;project xmlns = "http://maven.apache.org/POM/4.0.0" 
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation = "http://maven.apache.org/POM/4.0.0 
   http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
   
   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
   &lt;groupId&gt;com.tutorialspoint&lt;/groupId&gt;
   &lt;artifactId&gt;demo&lt;/artifactId&gt;
   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
   &lt;packaging&gt;jar&lt;/packaging&gt;
   &lt;name&gt;demo&lt;/name&gt;
   &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;

   &lt;parent&gt;
      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
      &lt;version&gt;1.5.8.RELEASE&lt;/version&gt;
      &lt;relativePath/&gt; 
   &lt;/parent&gt;

   &lt;properties&gt;
      &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
      &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;
      &lt;java.version&gt;1.8&lt;/java.version&gt;
   &lt;/properties&gt;

   &lt;dependencies&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
      &lt;/dependency&gt;

      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
         &lt;scope&gt;test&lt;/scope&gt;
      &lt;/dependency&gt;
   &lt;/dependencies&gt;

   &lt;build&gt;
      &lt;plugins&gt;
         &lt;plugin&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
         &lt;/plugin&gt;
      &lt;/plugins&gt;
   &lt;/build&gt;
   
&lt;/project&gt;
</pre>
<p>The code for Gradle Build – build.gradle is given below &minus;</p>
<pre class="prettyprint notranslate">
buildscript {
   ext {
      springBootVersion = '1.5.8.RELEASE'
   }
   repositories {
      mavenCentral()
   }
   dependencies {
      classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}")
   }
}

apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'org.springframework.boot'

group = 'com.tutorialspoint'
version = '0.0.1-SNAPSHOT'
sourceCompatibility = 1.8

repositories {
   mavenCentral()
}
dependencies {
   compile('org.springframework.boot:spring-boot-starter-web')
   testCompile('org.springframework.boot:spring-boot-starter-test')
}
</pre>
<p>You can create an executable JAR file, and run the Spring Boot application by using the following Maven or Gradle commands &minus;</p> 
<p>For Maven, you can use the command given below &minus;</p>
<pre class="result notranslate">
mvn clean install
</pre>
<p>After “BUILD SUCCESS”, you can find the JAR file under the target directory.</p>
<p>For Gradle, you can use the command shown below &minus;</p>
<pre class="result notranslate">
gradle clean build
</pre>
<p>After “BUILD SUCCESSFUL”, you can find the JAR file under build/libs directory.</p>
<p>Now, run the JAR file by using the following command &minus;</p>
<pre class="result notranslate">
java –jar &lt;JARFILE&gt; 
</pre>
<p>Now, the application has started on the Tomcat port 8080.</p>
<img src="/spring_boot/images/started_application_on_tomcat_port_8080.jpg" alt="Started Application on Tomcat Port_8080" />
<p>Now hit the below URL’s in POSTMAN application and you can see the output.</p>
<p>GET Products by Rest Template &minus; <b>http://localhost:8080/template/products</b></p> 
<img src="/spring_boot/images/get_products_by_rest_template.jpg" alt="GET Products by Rest Template" />
<p>Create Products POST &minus; <b>http://localhost:8080/template/products</b></p> 
<img src="/spring_boot/images/create_products_post.jpg" alt="Create Products POST" />
<p>Update Product PUT &minus; <b>http://localhost:8080/template/products/3</b></p>
<img src="/spring_boot/images/update_products_post.jpg" alt="Update Products POST" />
<p>Delete Product &minus; <b>http://localhost:8080/template/products/3</b></p> 
<img src="/spring_boot/images/delete_products_post.jpg" alt="Delete Products POST" />
<h1>Spring Boot - File Handling</h1>
<p>In this chapter, you will learn how to upload and download the file by using web service.</p>
<h2>File Upload</h2>
<p>For uploading a file, you can use <b>MultipartFile</b> as a Request Parameter and this API should consume Multi-Part form data value. Observe the code given below &minus;</p>
<pre class="prettyprint notranslate">
@RequestMapping(value = "/upload", method = RequestMethod.POST, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)

public String fileUpload(@RequestParam("file") MultipartFile file) {
   return null;
}
</pre>
<p>The complete code for the same is given below &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.demo.controller;

import java.io.File;
import java.io.FileOutputStream;
import java.io.IOException;

import org.springframework.http.MediaType;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.RestController;
import org.springframework.web.multipart.MultipartFile;

@RestController
public class FileUploadController {
   @RequestMapping(value = "/upload", method = RequestMethod.POST, 
      consumes = MediaType.MULTIPART_FORM_DATA_VALUE)
   
   public String fileUpload(@RequestParam("file") MultipartFile file) throws IOException {
      File convertFile = new File("/var/tmp/"+file.getOriginalFilename());
      convertFile.createNewFile();
      FileOutputStream fout = new FileOutputStream(convertFile);
      fout.write(file.getBytes());
      fout.close();
      return "File is upload successfully";
   }
}
</pre>
<h2>File Download</h2>
<p>For file download, you should use InputStreamResource for downloading a File. We need to set the HttpHeader <b>Content-Disposition</b> in Response and need to specify the response Media Type of the application.</p>
<p><b>Note</b> &minus; In the following example, file should be available on the specified path where the application is running.</p>
<pre class="prettyprint notranslate">
@RequestMapping(value = "/download", method = RequestMethod.GET) 
public ResponseEntity&lt;Object&gt; downloadFile() throws IOException  {
   String filename = "/var/tmp/mysql.png";
   File file = new File(filename);
   InputStreamResource resource = new InputStreamResource(new FileInputStream(file));
   HttpHeaders headers = new HttpHeaders();
      
   headers.add("Content-Disposition", String.format("attachment; filename=\"%s\"", file.getName()));
   headers.add("Cache-Control", "no-cache, no-store, must-revalidate");
   headers.add("Pragma", "no-cache");
   headers.add("Expires", "0");
      
   ResponseEntity&lt;Object&gt; 
   responseEntity = ResponseEntity.ok().headers(headers).contentLength(file.length()).contentType(
      MediaType.parseMediaType("application/txt")).body(resource);
      
   return responseEntity;
}
</pre>
<p>The complete code for the same is given below &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.demo.controller;

import java.io.File;
import java.io.FileInputStream;
import java.io.IOException;

import org.springframework.core.io.InputStreamResource;
import org.springframework.http.HttpHeaders;
import org.springframework.http.MediaType;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.bind.annotation.RestController;

@RestController
public class FileDownloadController {
   @RequestMapping(value = "/download", method = RequestMethod.GET) 
   public ResponseEntity&lt;Object&gt; downloadFile() throws IOException  {
      String filename = "/var/tmp/mysql.png";
      File file = new File(filename);
      InputStreamResource resource = new InputStreamResource(new FileInputStream(file));
      HttpHeaders headers = new HttpHeaders();
      
      headers.add("Content-Disposition", String.format("attachment; filename=\"%s\"", file.getName()));
      headers.add("Cache-Control", "no-cache, no-store, must-revalidate");
      headers.add("Pragma", "no-cache");
      headers.add("Expires", "0");
      
      ResponseEntity&lt;Object&gt; 
      responseEntity = ResponseEntity.ok().headers(headers).contentLength(
         file.length()).contentType(MediaType.parseMediaType("application/txt")).body(resource);
      
      return responseEntity;
   }
}
</pre>
<p>The main Spring Boot application is given below &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.demo;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class DemoApplication {
   public static void main(String[] args) {
      SpringApplication.run(DemoApplication.class, args);
   }
}
</pre>
<p>The code for Maven build – pom.xml is given below &minus;</p>
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;project xmlns = "http://maven.apache.org/POM/4.0.0" 
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation = "http://maven.apache.org/POM/4.0.0 
   http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; 
   
   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
   &lt;groupId&gt;com.tutorialspoint&lt;/groupId&gt;
   &lt;artifactId&gt;demo&lt;/artifactId&gt;
   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
   &lt;packaging&gt;jar&lt;/packaging&gt;
   &lt;name&gt;demo&lt;/name&gt;
   &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;

   &lt;parent&gt;
      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
      &lt;version&gt;1.5.8.RELEASE&lt;/version&gt;
      &lt;relativePath/&gt; 
   &lt;/parent&gt;

   &lt;properties&gt;
      &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
      &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;
      &lt;java.version&gt;1.8&lt;/java.version&gt;
   &lt;/properties&gt;

   &lt;dependencies&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
      &lt;/dependency&gt;

      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
         &lt;scope&gt;test&lt;/scope&gt;
      &lt;/dependency&gt;
   &lt;/dependencies&gt;

   &lt;build&gt;
      &lt;plugins&gt;
         &lt;plugin&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
         &lt;/plugin&gt;
      &lt;/plugins&gt;
   &lt;/build&gt;
   
&lt;/project&gt;
</pre>
<p>The code for Gradle Build – build.gradle is given below &minus;</p>
<pre class="prettyprint notranslate">
buildscript {
   ext {
      springBootVersion = '1.5.8.RELEASE'
   }
   repositories {
      mavenCentral()
   }
   dependencies {
      classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}")
   }
}

apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'org.springframework.boot'

group = 'com.tutorialspoint'
version = '0.0.1-SNAPSHOT'
sourceCompatibility = 1.8

repositories {
   mavenCentral()
}
dependencies {
   compile('org.springframework.boot:spring-boot-starter-web')
   testCompile('org.springframework.boot:spring-boot-starter-test')
}
</pre>
<p>Now you can create an executable JAR file, and run the Spring Boot application by using the Maven or Gradle commands given below &minus;</p>
<p>For Maven, use the command given below &minus;</p>
<pre class="result notranslate">
mvn clean install
</pre>
<p>After “BUILD SUCCESS”, you can find the JAR file under target directory.</p>
<p>For Gradle, you ca use the command shown below &minus;</p>
<pre class="result notranslate">
sgradle clean build
</pre>
<p>After “BUILD SUCCESSFUL”, you can find the JAR file under build/libs directory.</p>
<p>Now, run the JAR file by using the following command &minus;</p>
<pre class="result notranslate">
java –jar &lt;JARFILE&gt; 
</pre>
<p>This will start the application on the Tomcat port 8080 as shown below &minus;</p>
<img src="/spring_boot/images/started_application_on_tomcat_port_8080.jpg" alt="POSTMAN Application" />
<p>Now hit the below URL’s in POSTMAN application and you can see the output as shown below &minus;</p>
<p>File upload &minus; <b>http://localhost:8080/upload</b></p>
<img src="/spring_boot/images/postman_application_file_upload.jpg" alt="POSTMAN application File Upload" />
<p>File download &minus; <b>http://localhost:8080/upload</b></p>
<h1>Spring Boot - Service Components</h1>
<p>Service Components are the class file which contains @Service annotation. These class files are used to write business logic in a different layer, separated from @RestController class file. The logic for creating a service component class file is shown here &minus;</p>
<pre class="prettyprint notranslate">
public interface ProductService {
}
</pre>
<p>The class that implements the Interface with @Service annotation is as shown &minus;</p>
<pre class="prettyprint notranslate">
@Service
public class ProductServiceImpl implements ProductService {
}
</pre>
<p>Observe that in this tutorial, we are using <b>Product Service API(s)</b> to store, retrieve, update and delete the products. We wrote the business logic in @RestController class file itself. Now, we are going to move the business logic code from controller to service component.</p>
<p>You can create an Interface which contains add, edit, get and delete methods using the code as shown below &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.demo.service;

import java.util.Collection;
import com.tutorialspoint.demo.model.Product;

public interface ProductService {
   public abstract void createProduct(Product product);
   public abstract void updateProduct(String id, Product product);
   public abstract void deleteProduct(String id);
   public abstract Collection&lt;Product&gt; getProducts();
}
</pre>
<p>The following code will let you to create a class which implements the ProductService interface with @Service annotation and write the business logic to store, retrieve, delete and updates the product.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.demo.service;

import java.util.Collection;
import java.util.HashMap;
import java.util.Map;
import org.springframework.stereotype.Service;
import com.tutorialspoint.demo.model.Product;

@Service
public class ProductServiceImpl implements ProductService {
   private static Map&lt;String, Product&gt; productRepo = new HashMap&lt;&gt;();
   static {
      Product honey = new Product();
      honey.setId("1");
      honey.setName("Honey");
      productRepo.put(honey.getId(), honey);

      Product almond = new Product();
      almond.setId("2");
      almond.setName("Almond");
      productRepo.put(almond.getId(), almond);
   }
   @Override
   public void createProduct(Product product) {
      productRepo.put(product.getId(), product);
   }
   @Override
   public void updateProduct(String id, Product product) {
      productRepo.remove(id);
      product.setId(id);
      productRepo.put(id, product);
   }
   @Override
   public void deleteProduct(String id) {
      productRepo.remove(id);

   }
   @Override
   public Collection&lt;Product&gt; getProducts() {
      return productRepo.values();
   }
}
</pre>
<p>The code here show the Rest Controller class file, here we @Autowired the ProductService interface and called the methods.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.demo.controller;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.bind.annotation.RestController;

import com.tutorialspoint.demo.model.Product;
import com.tutorialspoint.demo.service.ProductService;

@RestController
public class ProductServiceController {
   @Autowired
   ProductService productService;

   @RequestMapping(value = "/products")
   public ResponseEntity&lt;Object&gt; getProduct() {
      return new ResponseEntity&lt;&gt;(productService.getProducts(), HttpStatus.OK);
   }
   @RequestMapping(value = "/products/{id}", method = RequestMethod.PUT)
   public ResponseEntity&lt;Object&gt; 
      updateProduct(@PathVariable("id") String id, @RequestBody Product product) {
      
      productService.updateProduct(id, product);
      return new ResponseEntity&lt;&gt;("Product is updated successsfully", HttpStatus.OK);
   }
   @RequestMapping(value = "/products/{id}", method = RequestMethod.DELETE)
   public ResponseEntity&lt;Object&gt; delete(@PathVariable("id") String id) {
      productService.deleteProduct(id);
      return new ResponseEntity&lt;&gt;("Product is deleted successsfully", HttpStatus.OK);
   }
   @RequestMapping(value = "/products", method = RequestMethod.POST)
   public ResponseEntity&lt;Object&gt; createProduct(@RequestBody Product product) {
      productService.createProduct(product);
      return new ResponseEntity&lt;&gt;("Product is created successfully", HttpStatus.CREATED);
   }
}
</pre>
<p>The code for POJO class – Product.java is shown here &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.demo.model;

public class Product {
   private String id;
   private String name;

   public String getId() {
      return id;
   }
   public void setId(String id) {
      this.id = id;
   }
   public String getName() {
      return name;
   }
   public void setName(String name) {
      this.name = name;
   }
}
</pre>
<p>A main Spring Boot application is given below &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.demo;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class DemoApplication {
   public static void main(String[] args) {
      SpringApplication.run(DemoApplication.class, args);
   }
}
</pre>
<p>The code for Maven build – pom.xml is shown below &minus;</p>
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;project xmlns = "http://maven.apache.org/POM/4.0.0" 
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation = "http://maven.apache.org/POM/4.0.0 
   http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
   
   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
   &lt;groupId&gt;com.tutorialspoint&lt;/groupId&gt;
   &lt;artifactId&gt;demo&lt;/artifactId&gt;
   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
   &lt;packaging&gt;jar&lt;/packaging&gt;
   &lt;name&gt;demo&lt;/name&gt;
   &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;

   &lt;parent&gt;
      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
      &lt;version&gt;1.5.8.RELEASE&lt;/version&gt;
      &lt;relativePath/&gt; 
   &lt;/parent&gt;

   &lt;properties&gt;
      &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
      &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;
      &lt;java.version&gt;1.8&lt;/java.version&gt;
   &lt;/properties&gt;

   &lt;dependencies&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
      &lt;/dependency&gt;

      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
         &lt;scope&gt;test&lt;/scope&gt;
      &lt;/dependency&gt;
   &lt;/dependencies&gt;

   &lt;build&gt;
      &lt;plugins&gt;
         &lt;plugin&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
         &lt;/plugin&gt;
      &lt;/plugins&gt;
   &lt;/build&gt;

&lt;/project&gt;
</pre>
<p>The code for Gradle Build – build.gradle is shown below &minus;</p>
<pre class="prettyprint notranslate">
buildscript {
   ext {
      springBootVersion = '1.5.8.RELEASE'
   }
   repositories {
      mavenCentral()
   }
   dependencies {
      classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}")
   }
}

apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'org.springframework.boot'

group = 'com.tutorialspoint'
version = '0.0.1-SNAPSHOT'
sourceCompatibility = 1.8

repositories {
   mavenCentral()
}
dependencies {
   compile('org.springframework.boot:spring-boot-starter-web')
   testCompile('org.springframework.boot:spring-boot-starter-test')
}
</pre>
<p>You can create an executable JAR file, and run the Spring Boot application by using the  Maven or Gradle commands given below &minus;</p>
<p>For Maven, use the command as shown below &minus;</p>
<pre class="result notranslate">
mvn clean install
</pre>
<p>After “BUILD SUCCESS”, you can find the JAR file under the target directory.</p>
<p>For Gradle, you can use the command as shown below &minus;</p>
<pre class="result notranslate">
gradle clean build
</pre>
<p>After “BUILD SUCCESSFUL”, you can find the JAR file under build/libs directory.</p>
<p>Run the JAR file by using the command given below &minus;</p>
<pre class="result notranslate">
java –jar &lt;JARFILE&gt; 
</pre>
<p>Now, the application has started on the Tomcat port 8080 as shown in the image given below &minus;</p>
<img src="/spring_boot/images/build_successful.jpg" alt="BUILD SUCCESSFUL" />
<p>Now hit the below URL’s in POSTMAN application and you can see the output as shown below &minus;</p>
<p>GET API URL is &minus; <b>http://localhost:8080/products</b></p>
<img src="/spring_boot/images/postman_application_get_api_url.jpg" alt="Postman Application GET API URL" />
<p>POST API URL is &minus; <b>http://localhost:8080/products</b></p>
<img src="/spring_boot/images/postman_application_post_api_url.jpg" alt="Postman Application POST API URL" />
<p>PUT API URL is &minus; <b>http://localhost:8080/products/3</b></p>
<img src="/spring_boot/images/postman_application_put_api_url.jpg" alt="Postman Application PUT API URL" />
<p>DELETE API URL is &minus; <b>http://localhost:8080/products/3</b></p>
<img src="/spring_boot/images/postman_application_delete_api_url.jpg" alt="Postman Application DELETE API URL" />
<h1>Spring Boot - Thymeleaf</h1>
<p>Thymeleaf is a Java-based library used to create a web application. It provides a good support for serving a XHTML/HTML5 in web applications. In this chapter, you will learn in detail about Thymeleaf.</p>
<h2>Thymeleaf Templates</h2>
<p>Thymeleaf converts your files into well-formed XML files. It contains 6 types of templates as given below &minus;</p>
<ul class="list">
<li>XML</li>
<li>Valid XML</li>
<li>XHTML</li>
<li>Valid XHTML</li>
<li>HTML5</li>
<li>Legacy HTML5</li> 
</ul>
<p>All templates, except Legacy HTML5, are referring to well-formed valid XML files. Legacy HTML5 allows us to render the HTML5 tags in web page including not closed tags.</p> 
<h2>Web Application</h2>
<p>You can use Thymeleaf templates to create a web application in Spring Boot. You will have to follow the below steps to create a web application in Spring Boot by using Thymeleaf.</p>
<p>Use the following code to create a @Controller class file to redirect the Request URI to HTML file &minus;</p>
<pre class= "prettyprint notranslate">
package com.tutorialspoint.demo.controller;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;

@Controller
public class WebController {
   @RequestMapping(value = "/index")
   public String index() {
      return "index";
   }
}
</pre>
<p>In the above example, the request URI is <b>/index</b>, and the control is redirected into the index.html file. Note that the index.html file should be placed under the templates directory and all JS and CSS files should be placed under the static directory in classpath. In the example shown, we used CSS file to change the color of the text.</p>
<p>You can use the following code and created a CSS file in separate folder <b>css</b> and name the file as styles.css &minus;</p>
<pre class="result notranslate">
h4 {
   color: red;
}
</pre>
<p>The code for index.html file is given below &minus;</p>
<pre class="prettyprint notranslate">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
   &lt;head&gt;
      &lt;meta charset = "ISO-8859-1" /&gt;
      &lt;link href = "css/styles.css" rel = "stylesheet"/&gt;
      &lt;title&gt;Spring Boot Application&lt;/title&gt;
   &lt;/head&gt;
   &lt;body&gt;
      &lt;h4&gt;Welcome to Thymeleaf Spring Boot web application&lt;/h4&gt;
   &lt;/body&gt;
&lt;/html&gt;
</pre>
<p>The project explorer is shown in the screenshot given below &minus;</p>
<img src="/spring_boot/images/project_explorer_screenshot.jpg" alt="Project Explorer Screenshot" />
<p>Now, we need to add the Spring Boot Starter Thymeleaf dependency in our build configuration file.</p>
<p>Maven users can add the following dependency into the pom.xml file &minus;</p>
<pre class="prettyprint notranslate">
&lt;dependency&gt;
   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
   &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;
&lt;/dependency&gt;
</pre>
<p>Gradle users can add the following dependency in the build.gradle file &minus;</p>
<pre class="result notranslate">
compile group: 'org.springframework.boot', name: 'spring-boot-starter-thymeleaf'
</pre>
<p>The code for main Spring Boot application class file is given below &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.demo;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class DemoApplication {
   public static void main(String[] args) {
      SpringApplication.run(DemoApplication.class, args);
   }
}
</pre>
<p>The code for Maven – pom.xml is given below &minus;</p>
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;project xmlns = "http://maven.apache.org/POM/4.0.0" 
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation = "http://maven.apache.org/POM/4.0.0 
   http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
   
   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
   &lt;groupId&gt;com.tutorialspoint&lt;/groupId&gt;
   &lt;artifactId&gt;demo&lt;/artifactId&gt;
   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
   &lt;packaging&gt;jar&lt;/packaging&gt;
   &lt;name&gt;demo&lt;/name&gt;
   &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;

   &lt;parent&gt;
      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
      &lt;version&gt;1.5.8.RELEASE&lt;/version&gt;
      &lt;relativePath /&gt;
   &lt;/parent&gt;

   &lt;properties&gt;
      &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
      &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;
      &lt;java.version&gt;1.8&lt;/java.version&gt;
   &lt;/properties&gt;

   &lt;dependencies&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
      &lt;/dependency&gt;

      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
         &lt;scope&gt;test&lt;/scope&gt;
      &lt;/dependency&gt;

      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;
      &lt;/dependency&gt;
   &lt;/dependencies&gt;

   &lt;build&gt;
      &lt;plugins&gt;
         &lt;plugin&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
         &lt;/plugin&gt;
      &lt;/plugins&gt;
   &lt;/build&gt;
   
&lt;/project&gt;
</pre>
<p>The code for Gradle – build.gradle is given below &minus;</p>
<pre class="prettyprint notranslate">
buildscript {
   ext {
      springBootVersion = '1.5.8.RELEASE'
   }
   repositories {
      mavenCentral()
   }
   dependencies {
      classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}")
   }
}

apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'org.springframework.boot'

group = 'com.tutorialspoint'
version = '0.0.1-SNAPSHOT'
sourceCompatibility = 1.8

repositories {
   mavenCentral()
}
dependencies {
   compile('org.springframework.boot:spring-boot-starter-web')
   compile group: 'org.springframework.boot', name: 'spring-boot-starter-thymeleaf'
   testCompile('org.springframework.boot:spring-boot-starter-test')
}
</pre>
<p>You can create an executable JAR file, and run the spring boot application by using the following Maven or Gradle commands &minus;</p> 
<p>For Maven, use the command as shown below &minus;</p>
<pre class="result notranslate">
mvn clean install
</pre>
<p>After “BUILD SUCCESS”, you can find the JAR file under the target directory.</p>
<p>For Gradle, use the command as shown below &minus;</p>
<pre class="result notranslate">
gradle clean build
</pre>
<p>After “BUILD SUCCESSFUL”, you can find the JAR file under the build/libs directory.</p>
<p>Run the JAR file by using the command given here &minus;</p>
<pre class="result notranslate">
java –jar &lt;JARFILE&gt; 
</pre>
<p>Now, the application has started on the Tomcat port 8080 as shown below &minus;</p>
<img src="/spring_boot/images/started_application_on_tomcat_port_8080.jpg" alt="Started Application on Tomcat Port_8080"/>
<p>Now hit the URL in your web browser and you can see the output as shown &minus;</p>
<p><b>http://localhost:8080/index</b></p>
<img src="/spring_boot/images/spring_boot_thymleaf_web_application.jpg" alt="Spring Boot Thymleaf web Application"/>
<h1>Consuming RESTful Web Services</h1>
<p>This chapter will discuss in detail about consuming a RESTful Web Services by using jQuery AJAX.</p>
<p>Create a simple Spring Boot web application and write a controller class files which is used to redirects into the HTML file to consumes the RESTful web services.</p>
<p>We need to add the Spring Boot starter Thymeleaf and Web dependency in our build configuration file.</p>
<p>For Maven users, add the below dependencies in your pom.xml file.</p>
<pre class="prettyprint notranslate">
&lt;dependency&gt;
   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
   &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
   &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
&lt;/dependency&gt;
</pre>
<p>For Gradle users, add the below dependencies into your build.gradle file &minus;</p>
<pre class="prettyprint notranslate">
compile group: ‘org.springframework.boot’, name: ‘spring-boot-starter-thymeleaf’
compile(‘org.springframework.boot:spring-boot-starter-web’)
</pre>
<p>The code for @Controller class file is given below &minus;</p>
<pre class="prettyprint notranslate">
@Controller
public class ViewController {
}
</pre>
<p>You can define the Request URI methods to redirects into the HTML file as shown below &minus;</p>
<pre class="prettyprint notranslate">
@RequestMapping(“/view-products”)
public String viewProducts() {
   return “view-products”;
}
@RequestMapping(“/add-products”)
public String addProducts() {
   return “add-products”;
}
</pre>
<p>This API <b>http://localhost:9090/products</b> should return the below JSON in response as shown below &minus;</p>
<pre class="prettyprint notranslate">
[
   {
      "id": "1",
      "name": "Honey"
   },
   {
      "id": "2",
      "name": "Almond"
   }
]
</pre>
<p>Now, create a view-products.html file under the templates directory in the classpath.</p>
<p>In the HTML file, we added the jQuery library and written the code to consume the RESTful web service on page load.</p>
<pre class="prettyprint notranslate">
&lt;script src = "https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"&gt;&lt;/script&gt;

&lt;script&gt;
$(document).ready(function(){
   $.getJSON("http://localhost:9090/products", function(result){
      $.each(result, function(key,value) {
         $("#productsJson").append(value.id+" "+value.name+" ");
      }); 
   });
});
&lt;/script&gt;
</pre>
<p>The POST method and this URL <b>http://localhost:9090/products</b> should contains the below Request Body and Response body.</p> 
<p>The code for Request body is given below &minus;</p>
<pre class="prettyprint notranslate">
{
   "id":"3",
   "name":"Ginger"
}
</pre>
<p>The code for Response body is given below &minus;</p>
<pre class="result notranslate">
Product is created successfully
</pre>
<p>Now, create the add-products.html file under the templates directory in the classpath.</p> 
<p>In the HTML file, we added the jQuery library and written the code that submits the form to RESTful web service on clicking the button.</p>
<pre class="prettyprint notranslate">
&lt;script src = "https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"&gt;&lt;/script&gt;
&lt;script&gt;
   $(document).ready(function() {
      $("button").click(function() {
         var productmodel = {
            id : "3",
            name : "Ginger"
         };
         var requestJSON = JSON.stringify(productmodel);
         $.ajax({
            type : "POST",
            url : "http://localhost:9090/products",
            headers : {
               "Content-Type" : "application/json"
            },
            data : requestJSON,
            success : function(data) {
               alert(data);
            },
            error : function(data) {
            }
         });
      });
   });
&lt;/script&gt;
</pre>
<p>The complete code is given below.</p>
<p>Maven – pom.xml file</p>
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;project xmlns = "http://maven.apache.org/POM/4.0.0" 
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation = "http://maven.apache.org/POM/4.0.0 
   http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
   
   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
   &lt;groupId&gt;com.tutorialspoint&lt;/groupId&gt;
   &lt;artifactId&gt;demo&lt;/artifactId&gt;
   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
   &lt;packaging&gt;jar&lt;/packaging&gt;
   &lt;name&gt;demo&lt;/name&gt;
   &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;

   &lt;parent&gt;
      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
      &lt;version&gt;1.5.8.RELEASE&lt;/version&gt;
      &lt;relativePath /&gt;
   &lt;/parent&gt;

   &lt;properties&gt;
      &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
      &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;
      &lt;java.version&gt;1.8&lt;/java.version&gt;
   &lt;/properties&gt;

   &lt;dependencies&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
      &lt;/dependency&gt;

      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
         &lt;scope&gt;test&lt;/scope&gt;
      &lt;/dependency&gt;

      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;
      &lt;/dependency&gt;
   &lt;/dependencies&gt;

   &lt;build&gt;
      &lt;plugins&gt;
         &lt;plugin&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
         &lt;/plugin&gt;
      &lt;/plugins&gt;
   &lt;/build&gt;
   
&lt;/project&gt;
</pre>
<p>The code for Gradle – build.gradle is given below &minus;</p> 
<pre class="prettyprint notranslate">
buildscript {
   ext {
      springBootVersion = ‘1.5.8.RELEASE’
   }
   repositories {
      mavenCentral()
   }
   dependencies {
      classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}")
   }
}

apply plugin: ‘java’
apply plugin: ‘eclipse’
apply plugin: ‘org.springframework.boot’

group = ‘com.tutorialspoint’
version = ‘0.0.1-SNAPSHOT’
sourceCompatibility = 1.8

repositories {
   mavenCentral()
}

dependencies {
   compile(‘org.springframework.boot:spring-boot-starter-web’)
   compile group: ‘org.springframework.boot’, name: ‘spring-boot-starter-thymeleaf’
   testCompile(‘org.springframework.boot:spring-boot-starter-test’)
}
</pre>
<p>The controller class file given below – ViewController.java is given below &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.demo.controller;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;

@Controller
public class ViewController {
   @RequestMapping(“/view-products”)
   public String viewProducts() {
      return “view-products”;
   }
   @RequestMapping(“/add-products”)
   public String addProducts() {
      return “add-products”;   
   }   
}
</pre>
<p>The view-products.html file is given below &minus;</p>
<pre class="prettyprint notranslate">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
   &lt;head&gt;
      &lt;meta charset = "ISO-8859-1"/&gt;
      &lt;title&gt;View Products&lt;/title&gt;
      &lt;script src = "https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"&gt;&lt;/script&gt;
      
      &lt;script&gt;
         $(document).ready(function(){
            $.getJSON("http://localhost:9090/products", function(result){
               $.each(result, function(key,value) {
                  $("#productsJson").append(value.id+" "+value.name+" ");
               }); 
            });
         });
      &lt;/script&gt;
   &lt;/head&gt;
   
   &lt;body&gt;
      &lt;div id = "productsJson"&gt; &lt;/div&gt;
   &lt;/body&gt;
&lt;/html&gt;
</pre>
<p>The add-products.html file is given below &minus;</p>
<pre class="prettyprint notranslate">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
   &lt;head&gt;
      &lt;meta charset = "ISO-8859-1" /&gt;
      &lt;title&gt;Add Products&lt;/title&gt;
      &lt;script src = "https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"&gt;&lt;/script&gt;
      
      &lt;script&gt;
         $(document).ready(function() {
            $("button").click(function() {
               var productmodel = {
                  id : "3",
                  name : "Ginger"
               };
               var requestJSON = JSON.stringify(productmodel);
               $.ajax({
                  type : "POST",
                  url : "http://localhost:9090/products",
                  headers : {
                     "Content-Type" : "application/json"
                  },
                  data : requestJSON,
                  success : function(data) {
                     alert(data);
                  },
                  error : function(data) {
                  }
               });
            });
         });
      &lt;/script&gt;
   &lt;/head&gt;
   
   &lt;body&gt;
      &lt;button&gt;Click here to submit the form&lt;/button&gt;
   &lt;/body&gt;
&lt;/html&gt;
</pre>
<p>The main Spring Boot Application class file is given below &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.demo;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class DemoApplication {
   public static void main(String[] args) {
      SpringApplication.run(DemoApplication.class, args);
   }
}
</pre>
<p>Now, you can create an executable JAR file, and run the Spring Boot application by using the following Maven or Gradle commands.</p> 
<p>For Maven, use the command as given below &minus;</p> 
<pre class="result notranslate">
mvn clean install
</pre>
<p>After “BUILD SUCCESS”, you can find the JAR file under the target directory.</p>
<p>For Gradle, use the command as given below &minus;</p>
<pre class="result notranslate">
gradle clean build
</pre>
<p>After “BUILD SUCCESSFUL”, you can find the JAR file under the build/libs directory.</p>
<p>Run the JAR file by using the following command &minus;</p>
<pre class="result notranslate">
java –jar &lt;JARFILE&gt; 
</pre>
<p>Now, the application has started on the Tomcat port 8080.</p>
<img src="/spring_boot/images/started_application_on_tomcat_port_8080.jpg" alt="Started Application on Tomcat Port_8080" />
<p>Now hit the URL in your web browser and you can see the output as shown &minus;</p>
<p>http://localhost:8080/view-products </p>
<img src="/spring_boot/images/1honey_2almond.jpg" alt="1Honey_2Almond" />
<p>http://localhost:8080/add-products </p>
<img src="/spring_boot/images/submit_form_spring_boot.jpg" alt="Submit Form Spring Boot" />
<p>Now, click the button <b>Click here to submit the form</b> and you can see the result as shown &minus;</p>
<img src="/spring_boot/images/submit_form_spring_boot_output_window.jpg" alt="Submit Form Spring Boot Output Window" />
<p>Now, hit the view products URL and see the created product.</p>
<p><b>http://localhost:8080/view-products</b></p> 
<img src="/spring_boot/images/1honey_2almond_3ginger.jpg" alt="1Honey 2Almond 3Ginger" />
<h2>Angular JS</h2>
<p>To consume the APIs by using Angular JS, you can use the examples given below &minus;</p>
<p>Use the following code to create the Angular JS Controller to consume the GET API - <b>http://localhost:9090/products</b> &minus;</p>
<pre class="prettyprint notranslate">
angular.module('demo', [])
.controller('Hello', function($scope, $http) {
   $http.get('http://localhost:9090/products').
   then(function(response) {
      $scope.products = response.data;
   });
});
</pre>
<p>Use the following code to create the Angular JS Controller to consume the POST API - <b>http://localhost:9090/products</b> &minus;</p>
<pre class="prettyprint notranslate">
angular.module('demo', [])
.controller('Hello', function($scope, $http) {
   $http.post('http://localhost:9090/products',data).
   then(function(response) {
      console.log("Product created successfully");
   });
});
</pre>
<p><b>Note</b> &minus; The Post method data represents the Request body in JSON format to create a product.</p>
<h1>Spring Boot - CORS Support</h1>
<p>Cross-Origin Resource Sharing (CORS) is a security concept that allows restricting the resources implemented in web browsers. It prevents the JavaScript code producing or consuming the requests against different origin.</p>
<p>For example, your web application is running on 8080 port and by using JavaScript you are trying to consuming RESTful web services from 9090 port. Under such situations, you will face the Cross-Origin Resource Sharing security issue on your web browsers.</p> 
<p>Two requirements are needed to handle this issue &minus;</p>
<ul class="list">
<li><p>RESTful web services should support the Cross-Origin Resource Sharing.</p></li> 
<li><p>RESTful web service application should allow accessing the API(s) from the 8080 port.</p></li>
</ul>
<p>In this chapter, we are going to learn in detail about How to Enable Cross-Origin Requests for a RESTful Web Service application.</p>
<h2>Enable CORS in Controller Method</h2>
<p>We need to set the origins for RESTful web service by using <b>@CrossOrigin</b> annotation for the controller method. This @CrossOrigin annotation supports specific REST API, and not for the entire application.</p>
<pre class="prettyprint notranslate">
@RequestMapping(value = "/products")
@CrossOrigin(origins = "http://localhost:8080")

public ResponseEntity&lt;Object&gt; getProduct() {
   return null;
}
</pre>
<h2>Global CORS Configuration</h2>
<p>We need to define the shown @Bean configuration to set the CORS configuration support globally to your Spring Boot application.</p>
<pre class="prettyprint notranslate">
@Bean
public WebMvcConfigurer corsConfigurer() {
   return new WebMvcConfigurerAdapter() {
      @Override
      public void addCorsMappings(CorsRegistry registry) {
         registry.addMapping("/products").allowedOrigins("http://localhost:9000");
      }    
   };
}
</pre>
<p>To code to set the CORS configuration globally in main Spring Boot application is given below.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.demo;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.context.annotation.Bean;
import org.springframework.web.servlet.config.annotation.CorsRegistry;
import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;
import org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter;

@SpringBootApplication
public class DemoApplication {
   public static void main(String[] args) {
      SpringApplication.run(DemoApplication.class, args);
   }
   @Bean
   public WebMvcConfigurer corsConfigurer() {
      return new WebMvcConfigurerAdapter() {
         @Override
         public void addCorsMappings(CorsRegistry registry) {
            registry.addMapping("/products").allowedOrigins("http://localhost:8080");
         }
      };
   }
}
</pre>
<p>Now, you can create a Spring Boot web application that runs on 8080 port and your RESTful web service application that can run on the 9090 port. For further details about implementation about RESTful Web Service, you can refer to the chapter titled <b>Consuming RESTful Web Services</b> of this tutorial.</p>
<h1>Spring Boot - Internationalization</h1>
<p>Internationalization is a process that makes your application adaptable to different languages and regions without engineering changes on the source code. In ither words, Internationalization is a readiness of Localization.</p>
<p>In this chapter, we are going to learn in detail about How to implement the Internationalization in Spring Boot.</p>
<h2>Dependencies</h2>
<p>We need the Spring Boot Starter Web and Spring Boot Starter Thymeleaf dependency to develop a web application in Spring Boot.</p>
<h3>Maven</h3>
<pre class="prettyprint notranslate">
&lt;dependency&gt;
   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
   &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
   &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;
&lt;/dependency&gt;
</pre>
<h3>Gradle</h3>
<pre class="result notranslate">
compile('org.springframework.boot:spring-boot-starter-web')
compile group: 'org.springframework.boot', name: 'spring-boot-starter-thymeleaf'
</pre>
<h2>LocaleResolver</h2>
<p>We need to determine default Locale of your application. We need to add the LocaleResolver bean in our Spring Boot application.</p> 
<pre class="prettyprint notranslate">
@Bean
public LocaleResolver localeResolver() {
   SessionLocaleResolver sessionLocaleResolver = new SessionLocaleResolver();
   sessionLocaleResolver.setDefaultLocale(Locale.US);
   return sessionLocaleResolver;
}
</pre>
<h2>LocaleChangeInterceptor</h2>
<p>LocaleChangeInterceptor is a used to change the new Locale based on the value of the language parameter added to a request.</p>
<pre class="prettyprint notranslate">
@Bean
public LocaleChangeInterceptor localeChangeInterceptor() {
   LocaleChangeInterceptor localeChangeInterceptor = new LocaleChangeInterceptor();
   localeChangeInterceptor.setParamName("language");
   return localeChangeInterceptor;
}
</pre>
<p>To take this effect, we need to add the LocaleChangeInterceptor into the application’s registry interceptor. The configuration class should extend the WebMvcConfigurerAdapter class and override the addInterceptors() method.</p>
<pre class="prettyprint notranslate">
@Override
public void addInterceptors(InterceptorRegistry registry) {
   registry.addInterceptor(localeChangeInterceptor());
}
</pre>
<h2>Messages Sources</h2>
<p>Spring Boot application by default takes the message sources from <b>src/main/resources</b> folder under the classpath. The default locale message file name should be <b>message.properties</b> and files for each locale should name as <b>messages_XX.properties</b>. The “XX” represents the locale code.</p>
<p>All the message properties should be used as key pair values. If any properties are not found on the locale, the application uses the default property from messages.properties file.</p>
<p>The default messages.properties will be as shown &minus;</p>
<pre class="result notranslate">
welcome.text=Hi Welcome to Everyone
</pre>
<p>The French language messages_fr.properties will be as shown &minus;</p>
<pre class="result notranslate">
welcome.text=Salut Bienvenue à tous
</pre>
<p><b>Note</b> &minus; Messages source file should be saved as “UTF-8” file format.</p>
<h2>HTML file</h2>
<p>In the HTML file, use the syntax <b>#{key}</b> to display the messages from the properties file.</p> 
<pre class="result notranslate">
&lt;h1 th:text = "#{welcome.text}"&gt;&lt;/h1&gt;
</pre>
<p>The complete code is given below</p>
<h3>Maven – pom.xml</h3>
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;project xmlns = "http://maven.apache.org/POM/4.0.0" 
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation = "http://maven.apache.org/POM/4.0.0 
   http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
   
   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
   &lt;groupId&gt;com.tutorialspoint&lt;/groupId&gt;
   &lt;artifactId&gt;demo&lt;/artifactId&gt;
   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
   &lt;packaging&gt;jar&lt;/packaging&gt;
   &lt;name&gt;demo&lt;/name&gt;
   &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;

   &lt;parent&gt;
      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
      &lt;version&gt;1.5.8.RELEASE&lt;/version&gt;
      &lt;relativePath /&gt;
   &lt;/parent&gt;

   &lt;properties&gt;
      &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
      &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;
      &lt;java.version&gt;1.8&lt;/java.version&gt;
   &lt;/properties&gt;

   &lt;dependencies&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
      &lt;/dependency&gt;

      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
         &lt;scope&gt;test&lt;/scope&gt;
      &lt;/dependency&gt;

      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;
      &lt;/dependency&gt;
   &lt;/dependencies&gt;

   &lt;build&gt;
      &lt;plugins&gt;
         &lt;plugin&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
         &lt;/plugin&gt;
      &lt;/plugins&gt;
   &lt;/build&gt;
&lt;/project&gt;
</pre>
<h3>Gradle – build.gradle</h3>
<pre class="prettyprint notranslate">
buildscript {
   ext {
      springBootVersion = '1.5.8.RELEASE'
   }
   repositories {
      mavenCentral()
   }
   dependencies {
      classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}")
   }
}
apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'org.springframework.boot'

group = 'com.tutorialspoint'
version = '0.0.1-SNAPSHOT'
sourceCompatibility = 1.8

repositories {
   mavenCentral()
}
dependencies {
   compile('org.springframework.boot:spring-boot-starter-web')
   compile group: 'org.springframework.boot', name: 'spring-boot-starter-thymeleaf'
   testCompile('org.springframework.boot:spring-boot-starter-test')
}
</pre>
<p>The main Spring Boot application class file is given below &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.demo;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class DemoApplication {
   public static void main(String[] args) {
      SpringApplication.run(DemoApplication.class, args);
   }
}
</pre>
<p>The controller class file is given below &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.demo.controller;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;

@Controller
public class ViewController {
   @RequestMapping("/locale")
   public String locale() {
      return "locale";
   }
}
</pre>
<p>Configuration class to support the Internationalization</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.demo;

import java.util.Locale;

import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.web.servlet.LocaleResolver;
import org.springframework.web.servlet.config.annotation.InterceptorRegistry;
import org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter;
import org.springframework.web.servlet.i18n.LocaleChangeInterceptor;
import org.springframework.web.servlet.i18n.SessionLocaleResolver;

@Configuration
public class Internationalization extends WebMvcConfigurerAdapter {
   @Bean
   public LocaleResolver localeResolver() {
      SessionLocaleResolver sessionLocaleResolver = new SessionLocaleResolver();
      sessionLocaleResolver.setDefaultLocale(Locale.US);
      return sessionLocaleResolver;
   }
   @Bean
   public LocaleChangeInterceptor localeChangeInterceptor() {
      LocaleChangeInterceptor localeChangeInterceptor = new LocaleChangeInterceptor();
      localeChangeInterceptor.setParamName("language");
      return localeChangeInterceptor;
   }
   @Override
   public void addInterceptors(InterceptorRegistry registry) {
      registry.addInterceptor(localeChangeInterceptor());
   }
}
</pre>
<p>The Message sources – messages.properties is as shown &minus;</p>
<pre class="result notranslate">
welcome.text = Hi Welcome to Everyone
</pre>
<p>The Message sources – message_fr.properties is as shown &minus;</p>
<pre class="result notranslate">
welcome.text = Salut Bienvenue à tous
</pre>
<p>The HTML file locale.html should be placed under the templates directory on the classpath as shown &minus;</p>
<pre class="prettyprint notranslate">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
   &lt;head&gt;
      &lt;meta charset = "ISO-8859-1"/&gt;
      &lt;title&gt;Internationalization&lt;/title&gt;
   &lt;/head&gt;
   &lt;body&gt;
      &lt;h1 th:text = "#{welcome.text}"&gt;&lt;/h1&gt;
   &lt;/body&gt;
&lt;/html&gt;
</pre>
<p>You can create an executable JAR file, and run the Spring boot application by using the following Maven or Gradle commands &minus;</p>
<p>For Maven, use the following command &minus;</p>
<pre class="result notranslate">
mvn clean install
</pre>
<p>After “BUILD SUCCESS”, you can find the JAR file under the target directory.</p>
<p>For Gradle, use the following command &minus;</p>
<pre class="result notranslate">
gradle clean build
</pre>
<p>After “BUILD SUCCESSFUL”, you can find the JAR file under the build/libs directory.</p>
<p>Now, run the JAR file by using the command as shown &minus;</p>
<pre class="result notranslate">
java –jar &lt;JARFILE&gt; 
</pre>
<p>You will find that the application has started on the Tomcat port 8080.</p>
<img src="/spring_boot/images/started_application_on_tomcat_port_8080.jpg" alt="Started Application on Tomcat Port_8080" />
<p>Now hit the URL <b>http://localhost:8080/locale</b> in your web browser and you can see the following output &minus;</p>
<img src="/spring_boot/images/output_web_browser.jpg" alt="Output Web Browser" />
<p>The URL <b>http://localhost:8080/locale?language=fr</b> will give you the output as shown &minus;</p> 
<img src="/spring_boot/images/output_web_browser_salut_bienvenue.jpg" alt="Output Web Browser Salut Bienvenue" />
<h1>Spring Boot - Scheduling</h1>
<p>Scheduling is a process of executing the tasks for the specific time period. Spring Boot provides a good support to write a scheduler on the Spring applications.</p>
<h2>Java Cron Expression</h2>
<p>Java Cron expressions are used to configure the instances of CronTrigger, a subclass of org.quartz.Trigger. For more information about Java cron expression you can refer to this link &minus;</p>
<p><a href="https://docs.oracle.com/cd/E12058_01/doc/doc.1014/e12030/cron_expressions.htm" rel="nofollow" target="_blank">https://docs.oracle.com/cd/E12058_01/doc/doc.1014/e12030/cron_expressions.htm</a></p> 
<p>The @EnableScheduling annotation is used to enable the scheduler for your application. This annotation should be added into the main Spring Boot application class file.</p>
<pre class="prettyprint notranslate">
@SpringBootApplication
@EnableScheduling

public class DemoApplication {
   public static void main(String[] args) {
      SpringApplication.run(DemoApplication.class, args);
   }
}
</pre>
<p>The @Scheduled annotation is used to trigger the scheduler for a specific time period.</p>
<pre class="prettyprint notranslate">
@Scheduled(cron = "0 * 9 * * ?")
public void cronJobSch() throws Exception {
}
</pre>
<p>The following is a sample code that shows how to execute the task every minute starting at 9:00 AM and ending at 9:59 AM, every day</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.demo.scheduler;

import java.text.SimpleDateFormat;
import java.util.Date;
import org.springframework.scheduling.annotation.Scheduled;
import org.springframework.stereotype.Component;

@Component
public class Scheduler {
   @Scheduled(cron = "0 * 9 * * ?")
   public void cronJobSch() {
      SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss.SSS");
      Date now = new Date();
      String strDate = sdf.format(now);
      System.out.println("Java cron job expression:: " + strDate);
   }
}
</pre>
<p>The following screenshot shows how the application has started at 09:03:23 and for every one minute from that time the cron job scheduler task has executed.</p>
<img src="/spring_boot/images/cron_job_scheduler.jpg"alt="cron job scheduler"/>
<h2>Fixed Rate</h2>
<p>Fixed Rate scheduler is used to execute the tasks at the specific time. It does not wait for the completion of previous task. The values should be in milliseconds. The sample code is shown here &minus;</p>
<pre class="prettyprint notranslate">
@Scheduled(fixedRate = 1000)
public void fixedRateSch() { 
}
</pre>
<p>A sample code for executing a task on every second from the application startup is shown here &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.demo.scheduler;

import java.text.SimpleDateFormat;
import java.util.Date;
import org.springframework.scheduling.annotation.Scheduled;
import org.springframework.stereotype.Component;

@Component
public class Scheduler {
   @Scheduled(fixedRate = 1000)
   public void fixedRateSch() {
      SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss.SSS");

      Date now = new Date();
      String strDate = sdf.format(now);
      System.out.println("Fixed Rate scheduler:: " + strDate);
   }
}
</pre>
<p>Observe the following screenshot that shows the application that has started at 09:12:00 and after that every second fixed rate scheduler task has executed.</p>
<img src="/spring_boot/images/fixed_rate_scheduler_task_executed.jpg" alt="Fixed Rate Scheduler Task Executed" />
<h2>Fixed Delay</h2>
<p>Fixed Delay scheduler is used to execute the tasks at a specific time. It should wait for the previous task completion. The values should be in milliseconds. A sample code is shown here &minus;</p>
<pre class="prettyprint notranslate">
@Scheduled(fixedDelay = 1000, initialDelay = 1000)
public void fixedDelaySch() {
}
</pre>
<p>Here, the initialDelay is the time after which the task will be executed the first time after the initial delay value.</p>
<p>An example to execute the task for every second after 3 seconds from the application startup has been completed is shown below &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.demo.scheduler;

import java.text.SimpleDateFormat;
import java.util.Date;
import org.springframework.scheduling.annotation.Scheduled;
import org.springframework.stereotype.Component;

@Component
public class Scheduler {
   @Scheduled(fixedDelay = 1000, initialDelay = 3000)
   public void fixedDelaySch() {
      SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss.SSS");
      Date now = new Date();
      String strDate = sdf.format(now);
      System.out.println("Fixed Delay scheduler:: " + strDate);
   }
}
</pre>
<p>Observe the following screenshot which shows the application that has started at 09:18:39 and after every 3 seconds, the fixed delay scheduler task has executed on every second.</p>
<img src="/spring_boot/images/fixed_delay_scheduler_task_executed.jpg" alt="Fixed Delay Scheduler Task Executed" />
<h1>Spring Boot - Enabling HTTPS</h1>
<p>By default, Spring Boot application uses HTTP 8080 port when the application starts up.</p>
<img src="/spring_boot/images/started_application_on_tomcat_port_8080.jpg" alt="Started Application on Tomcat port_8080" />
<p>You need to follow the steps given below to configure the HTTPS and the port 443 in Spring Boot application &minus;</p>
<ul class="list">
<li><p>Obtain the SSL certificate – Create a self-signed certificate or get one from a Certificate Authority</p></li>
<li><p>Enable HTTPS and 443 port</p></li>
</ul>
<h2>Self-Signed Certificate</h2>
<p>To create a self-signed certificate, Java Run Time environment comes bundled with certificate management utility key tool. This utility tool is used to create a Self-Signed certificate. It is shown in the code given here &minus;</p>
<pre class="prettyprint notranslate">
keytool -genkey -alias tomcat -storetype PKCS12 -keyalg RSA -keysize 2048 -keystore keystore.p12 -validity 3650
Enter keystore password:
   Re-enter new password:
   What is your first and last name?
   [Unknown]:
   What is the name of your organizational unit?
   [Unknown]:
   What is the name of your organization?
   [Unknown]:
   What is the name of your City or Locality?
   [Unknown]:
   What is the name of your State or Province?
   [Unknown]:
   What is the two-letter country code for this unit?
   [Unknown]:
   Is CN = Unknown, OU=Unknown, O = Unknown, L = Unknown, ST = Unknown, C = Unknown correct?
   [no]: yes
</pre>
<p>This code will generate a PKCS12 keystore file named as keystore.p12 and the certificate alias name is tomcat.</p>  
<h2>Configure HTTPS</h2>
<p>We need to provide the server port as 443, key-store file path, key-store-password, key-store-type and key alias name into the application.properties file. Observe the code given here &minus;</p>
<pre class="prettyprint notranslate">
server.port: 443
server.ssl.key-store: keystore.p12
server.ssl.key-store-password: springboot
server.ssl.keyStoreType: PKCS12
server.ssl.keyAlias: tomcat
</pre>
<p>You can use the following code if you are using YAML properties use below application.yml &minus;</p>
<pre class="prettyprint notranslate">
server:
   port: 443
   ssl:
      key-store: keystore.p12
      key-store-password: springboot
      keyStoreType: PKCS12
      keyAlias: tomcat
</pre>
<p>You can create an executable JAR file, and run the spring boot application by using the following Maven or Gradle commands.</p> 
<p>For Maven, you can use the following command &minus;</p>
<pre class="result notranslate">
mvn clean install
</pre>
<p>After “BUILD SUCCESS”, you can find the JAR file under the target directory.</p>
<p>For Gradle, you can use the command</p>
<pre class="result notranslate">
gradle clean build
</pre>
<p>After “BUILD SUCCESSFUL”, you can find the JAR file under the build/libs directory.</p>
<p>Now, run the JAR file by using the following command &minus;</p> 
<pre class="result notranslate">
java –jar &lt;JARFILE&gt;
</pre>
<p>Now, the application has started on the Tomcat port 443 with https as shown &minus;</p>
<img src="/spring_boot/images/started_application_on_tomcat_port_443.jpg" alt="Started Application on Tomcat Port 443" />
<h1>Spring Boot - Eureka Server</h1>
<p>Eureka Server is an application that holds the information about all client-service applications. Every Micro service will register into the Eureka server and Eureka server knows all the client applications running on each port and IP address. Eureka Server is also known as Discovery Server.</p>
<p>In this chapter, we will learn in detail about How to build a Eureka server.</p>
<h2>Building a Eureka Server</h2>
<p>Eureka Server comes with the bundle of Spring Cloud. For this, we need to develop the Eureka server and run it on the default port 8761.</p>
<p>Visit the Spring Initializer homepage <a href="https://start.spring.io/" target="_blank" rel="nofollow">https://start.spring.io/</a> and download the Spring Boot project with Eureka server dependency. It is shown in the screenshot below &minus;</p>
<img src="/spring_boot/images/build_eureka_server.jpg" alt="Build Eureka Server" />
<p>After downloading the project in main Spring Boot Application class file, we need to add @EnableEurekaServer annotation. The @EnableEurekaServer annotation is used to make your Spring Boot application acts as a Eureka Server.</p> 
<p>The code for main Spring Boot application class file is as shown below &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.eurekaserver;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.cloud.netflix.eureka.server.EnableEurekaServer;

@SpringBootApplication
@EnableEurekaServer
public class EurekaserverApplication {
   public static void main(String[] args) {
      SpringApplication.run(EurekaserverApplication.class, args);
   }
}
</pre>
<p>Make sure Spring cloud Eureka server dependency is added in your build configuration file.</p>
<p>The code for Maven user dependency is shown below &minus;</p>
<pre class="prettyprint notranslate">
&lt;dependency&gt;
&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
   &lt;artifactId&gt;spring-cloud-starter-eureka-server&lt;/artifactId&gt;
&lt;/dependency&gt;
</pre>
<p>The code for Gradle user dependency is given below &minus;</p>
<pre class="result notranslate">
compile('org.springframework.cloud:spring-cloud-starter-eureka-server')
</pre>
<p>The complete build configuration file is given below &minus;</p>
<p><b>Maven pom.xml</b></p>
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;project xmlns = "http://maven.apache.org/POM/4.0.0" 
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance" 
   xsi:schemaLocation = "http://maven.apache.org/POM/4.0.0 
   http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
   
   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
   &lt;groupId&gt;com.tutorialspoint&lt;/groupId&gt;
   &lt;artifactId&gt;eurekaserver&lt;/artifactId&gt;
   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
   &lt;packaging&gt;jar&lt;/packaging&gt;
   &lt;name&gt;eurekaserver&lt;/name&gt;
   &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;

   &lt;parent&gt;
      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
      &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;
      &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;
   &lt;/parent&gt;

   &lt;properties&gt;
      &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
      &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;
      &lt;java.version&gt;1.8&lt;/java.version&gt;
      &lt;spring-cloud.version&gt;Edgware.RELEASE&lt;/spring-cloud.version&gt;
   &lt;/properties&gt;

   &lt;dependencies&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
         &lt;artifactId&gt;spring-cloud-starter-eureka-server&lt;/artifactId&gt;
      &lt;/dependency&gt;

      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
         &lt;scope&gt;test&lt;/scope&gt;
      &lt;/dependency&gt;
   &lt;/dependencies&gt;

   &lt;dependencyManagement&gt;
      &lt;dependencies&gt;
         &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;
            &lt;version&gt;${spring-cloud.version}&lt;/version&gt;
            &lt;type&gt;pom&lt;/type&gt;
            &lt;scope&gt;import&lt;/scope&gt;
         &lt;/dependency&gt;
      &lt;/dependencies&gt;
   &lt;/dependencyManagement&gt;

   &lt;build&gt;
      &lt;plugins&gt;
         &lt;plugin&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
         &lt;/plugin&gt;
      &lt;/plugins&gt;
   &lt;/build&gt;
   
&lt;/project&gt;
</pre>
<p><b>Gradle – build.gradle</b></p>
<pre class="prettyprint notranslate">
buildscript {
   ext {
      springBootVersion = '1.5.9.RELEASE'
   }
   repositories {
      mavenCentral()
   }
   dependencies {
      classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}")
   }
}

apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'org.springframework.boot'

group = 'com.tutorialspoint'
version = '0.0.1-SNAPSHOT'
sourceCompatibility = 1.8

repositories {
   mavenCentral()
}
ext {
   springCloudVersion = 'Edgware.RELEASE'
}
dependencies {
   compile('org.springframework.cloud:spring-cloud-starter-eureka-server')
   testCompile('org.springframework.boot:spring-boot-starter-test')
}
dependencyManagement {
   imports {
      mavenBom "org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}"
   }
}
</pre>
<p>By default, the Eureka Server registers itself into the discovery. You should add the below given configuration into your application.properties file or application.yml file.</p>
<p>application.properties file is given below &minus;</p>
<pre class="prettyprint notranslate">
eureka.client.registerWithEureka = false
eureka.client.fetchRegistry = false
server.port = 8761
</pre>
<p>The application.yml file is given below &minus;</p>
<pre class="prettyprint notranslate">
eureka:
   client:
      registerWithEureka: false
      fetchRegistry: false
server:
   port: 8761
</pre>
<p>Now, you can create an executable JAR file, and run the Spring Boot application by using the Maven or Gradle commands shown below &minus;</p>
<p>For Maven, use the command as shown below &minus;</p>
<pre class="result notranslate">
mvn clean install
</pre>
<p>After “BUILD SUCCESS”, you can find the JAR file under the target directory.</p>
<p>For Gradle, you can use the command shown below &minus;</p>
<pre class="result notranslate">
gradle clean build
</pre>
<p>After “BUILD SUCCESSFUL”, you can find the JAR file under the build/libs directory.</p>
<p>Now, run the JAR file by using the following command &minus;</p>
<pre class="result notranslate">
 java –jar &lt;JARFILE&gt; 
</pre>
<p>You can find that the application has started on the Tomcat port 8761 as shown below &minus;</p>
<img src="/spring_boot/images/application_started_on_tomcat_port_8761.jpg" alt="Application Started on  Tomcat Port 8761" />
<p>Now, hit the URL <b>http://localhost:8761/</b> in your web browser and you can find the Eureka Server running on the port 8761 as shown below &minus;</p>
<img src="/spring_boot/images/eureka_server_running_on_port_8761.jpg" alt="Eureka Server Running on port 8761" />
<h1>Service Registration with Eureka</h1>
<p>In this chapter, you are going to learn in detail about How to register the Spring Boot Micro service application into the Eureka Server. Before registering the application, please make sure Eureka Server is running on the port 8761 or first build the Eureka Server and run it. For further information on building the Eureka server, you can refer to the previous chapter.</p> 
<p>First, you need to add the following dependencies in our build configuration file to register the microservice with the Eureka server.</p> 
<p>Maven users can add the following dependencies into the <b>pom.xml</b> file &minus;</p>
<pre class="prettyprint notranslate">
&lt;dependency&gt;
   &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
   &lt;artifactId&gt;spring-cloud-starter-eureka&lt;/artifactId&gt;
&lt;/dependency&gt;
</pre>
<p>Gradle users can add the following dependencies into the <b>build.gradle</b> file &minus;</p>
<pre class="result notranslate">
compile('org.springframework.cloud:spring-cloud-starter-eureka')
</pre>
<p>Now, we need to add the @EnableEurekaClient annotation in the main Spring Boot application class file. The @EnableEurekaClient annotation makes your Spring Boot application act as a Eureka client.</p>
<p>The main Spring Boot application is as given below &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.eurekaclient;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.cloud.netflix.eureka.EnableEurekaClient;

@SpringBootApplication
@EnableEurekaClient
public class EurekaclientApplication {
   public static void main(String[] args) {
      SpringApplication.run(EurekaclientApplication.class, args);
   }
}
</pre>
<p>To register the Spring Boot application into Eureka Server we need to add the following configuration in our application.properties file or application.yml file and specify the Eureka Server URL in our configuration.</p>
<p>The code for application.yml file is given below &minus;</p>
<pre class="prettyprint notranslate">
eureka:
   client:
      serviceUrl:
         defaultZone: http://localhost:8761/eureka
      instance:
      preferIpAddress: true
spring:
   application:
      name: eurekaclient
</pre>
<p>The code for application.properties file is given below &minus;</p>
<pre class="prettyprint notranslate">
eureka.client.serviceUrl.defaultZone  = http://localhost:8761/eureka
eureka.client.instance.preferIpAddress = true
spring.application.name = eurekaclient
</pre>
<p>Now, add the Rest Endpoint to return String in the main Spring Boot application and the Spring Boot Starter web dependency in build configuration file. Observe the code given below &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.eurekaclient;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.cloud.netflix.eureka.EnableEurekaClient;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

@SpringBootApplication
@EnableEurekaClient
@RestController
public class EurekaclientApplication {
   public static void main(String[] args) {
      SpringApplication.run(EurekaclientApplication.class, args);
   }
   @RequestMapping(value = "/")
   public String home() {
      return "Eureka Client application";
   }
}
</pre>
<p>The entire configuration file is given below.</p>
<p><b>For Maven user - pom.xml</b></p>
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;project xmlns = "http://maven.apache.org/POM/4.0.0" 
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation = "http://maven.apache.org/POM/4.0.0 
   http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
   
   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
   &lt;groupId&gt;com.tutorialspoint&lt;/groupId&gt;
   &lt;artifactId&gt;eurekaclient&lt;/artifactId&gt;
   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
   &lt;packaging&gt;jar&lt;/packaging&gt;

   &lt;name&gt;eurekaclient&lt;/name&gt;
   &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;

   &lt;parent&gt;
      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
      &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;
      &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;
   &lt;/parent&gt;

   &lt;properties&gt;
      &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
      &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;
      &lt;java.version&gt;1.8&lt;/java.version&gt;
      &lt;spring-cloud.version&gt;Edgware.RELEASE&lt;/spring-cloud.version&gt;
   &lt;/properties&gt;

   &lt;dependencies&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
         &lt;artifactId&gt;spring-cloud-starter-eureka&lt;/artifactId&gt;
      &lt;/dependency&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
      &lt;/dependency&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
         &lt;scope&gt;test&lt;/scope&gt;
      &lt;/dependency&gt;
   &lt;/dependencies&gt;
   
   &lt;dependencyManagement&gt;
      &lt;dependencies&gt;
         &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;
            &lt;version&gt;${spring-cloud.version}&lt;/version&gt;
            &lt;type&gt;pom&lt;/type&gt;
            &lt;scope&gt;import&lt;/scope&gt;
         &lt;/dependency&gt;
      &lt;/dependencies&gt;
   &lt;/dependencyManagement&gt;
   
   &lt;build&gt;
      &lt;plugins&gt;
         &lt;plugin&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
         &lt;/plugin&gt;
      &lt;/plugins&gt;   
   &lt;/build&gt;
   
&lt;/projecta&gt;
</pre>
<p><b>For Gradle user – build.gradle</b></p> 
<pre class="prettyprint notranslate">
buildscript {
   ext {
      springBootVersion = '1.5.9.RELEASE'
   }
   repositories {
      mavenCentral()
   }
   dependencies {
      classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}")
   }
}

apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'org.springframework.boot'

group = 'com.tutorialspoint'
version = '0.0.1-SNAPSHOT'
sourceCompatibility = 1.8

repositories {
   mavenCentral()
}
ext {
   springCloudVersion = 'Edgware.RELEASE'
}
dependencies {
   compile('org.springframework.cloud:spring-cloud-starter-eureka')
   testCompile('org.springframework.boot:spring-boot-starter-test')
   compile('org.springframework.boot:spring-boot-starter-web')   
}
dependencyManagement {
   imports {
      mavenBom "org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}"
   }
}
</pre>
<p>You can create an executable JAR file, and run the Spring Boot application by using the following Maven or Gradle commands &minus;</p> 
<p>For Maven, you can use the following command &minus;</p> 
<pre class="result notranslate">
mvn clean install
</pre>
<p>After “BUILD SUCCESS”, you can find the JAR file under the target directory.</p>
<p>For Gradle, you can use the following command &minus;</p>
<pre class="result notranslate">
gradle clean build
</pre>
<p>After “BUILD SUCCESSFUL”, you can find the JAR file under the build/libs directory.</p>
<p>Now, run the JAR file by using the command as shown &minus;</p>
<pre class="result notranslate">
java –jar &lt;JARFILE&gt; 
</pre>
<p>Now, the application has started on the Tomcat port 8080 and Eureka Client application is registered with the Eureka Server as shown below &minus;</p>
<img src="/spring_boot/images/started_application_on_tomcat_port.jpg" alt="Started Application on Tomcat Port" />
<p>Hit the URL http://localhost:8761/ in your web browser and you can see the Eureka Client application is registered with Eureka Server.</p>
<img src="/spring_boot/images/eureka_client_application.jpg" alt="Eureka Client Application" />
<p>Now hit the URL <b>http://localhost:8080/</b> in your web browser and see the Rest Endpoint output.</p>
<img src="/spring_boot/images/eureka_client_application_output.jpg" alt="Eureka Client Application Output" />
<h1>Spring Boot - Zuul Proxy Server and Routing</h1>
<p>Zuul Server is a gateway application that handles all the requests and does the dynamic routing of microservice applications. The Zuul Server is also known as Edge Server.</p>
<p>For Example, <b>/api/user</b> is mapped to the user service and /api/products is mapped to the product service and Zuul Server dynamically routes the requests to the respective backend application.</p>
<p>In this chapter, we are going to see in detail how to create Zuul Server application in Spring Boot.</p>
<h2>Creating Zuul Server Application</h2>
<p>The Zuul Server is bundled with Spring Cloud dependency. You can download the Spring Boot project from Spring Initializer page <a href="https://start.spring.io/" target="_blank" rel="nofollow">https://start.spring.io/</a> and choose the Zuul Server dependency.</p>
<img src="/spring_boot/images/creating_zuul_server_application.jpg" alt="Creating Zuul Server Application" />
<p>Add the @EnableZuulProxy annotation on your main Spring Boot application. The @EnableZuulProxy annotation is used to make your Spring Boot application act as a Zuul Proxy server.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.zuulserver;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.cloud.netflix.zuul.EnableZuulProxy;

@SpringBootApplication
@EnableZuulProxy
public class ZuulserverApplication {
   public static void main(String[] args) {
      SpringApplication.run(ZuulserverApplication.class, args);
   }
}
</pre>
<p>You will have to add the Spring Cloud Starter Zuul dependency in our build configuration file.</p>
<p>Maven users will have to add the following dependency in your <b>pom.xml</b> file &minus;</p>
<pre class="prettyprint notranslate">
&lt;dependency&gt;
   &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
   &lt;artifactId&gt;spring-cloud-starter-zuul&lt;/artifactId&gt;
&lt;/dependency&gt;
</pre>
<p>For Gradle users, add the below dependency in your build.gradle file</p>
<pre class="result notranslate">
compile('org.springframework.cloud:spring-cloud-starter-zuul')
</pre>
<p>For Zuul routing, add the below properties in your application.properties file or application.yml file.</p>
<pre class="prettyprint notranslate">
spring.application.name = zuulserver
zuul.routes.products.path = /api/demo/**
zuul.routes.products.url = http://localhost:8080/
server.port = 8111
</pre>
<p>This means that http calls to <b>/api/demo/</b> get forwarded to the products service. For example, <b>/api/demo/products</b> is forwarded to <b>/products</b>.</p>
<p>yaml file users can use the application.yml file shown below &minus;</p>
<pre class="prettyprint notranslate">
server:
   port: 8111
spring:
   application:  
      name: zuulserver
zuul:

routes:
   products:
      path: /api/demo/**
      url: http://localhost:8080/
</pre>
<p><b>Note</b> &minus; The <b>http://localhost:8080/</b> application should already be running before routing via Zuul Proxy.</p>
<p>The complete build configuration file is given below.</p>
<p>Maven users can use the pom.xml file given below &minus;</p>
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;project xmlns = "http://maven.apache.org/POM/4.0.0" 
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation = "http://maven.apache.org/POM/4.0.0 
   http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
   
   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
   &lt;groupId&gt;com.tutorialspoint&lt;/groupId&gt;
   &lt;artifactId&gt;zuulserver&lt;/artifactId&gt;
   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
   &lt;packaging&gt;jar&lt;/packaging&gt;

   &lt;name&gt;zuulserver&lt;/name&gt;
   &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;

   &lt;parent&gt;
      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
      &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;
      &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;
   &lt;/parent&gt;

   &lt;properties&gt;
      &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
      &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;
      &lt;java.version&gt;1.8&lt;/java.version&gt;
      &lt;spring-cloud.version&gt;Edgware.RELEASE&lt;/spring-cloud.version&gt;
   &lt;/properties&gt;

   &lt;dependencies&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
         &lt;artifactId&gt;spring-cloud-starter-zuul&lt;/artifactId&gt;
      &lt;/dependency&gt;

      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
         &lt;scope&gt;test&lt;/scope&gt;
      &lt;/dependency&gt;
   &lt;/dependencies&gt;

   &lt;dependencyManagement&gt;
      &lt;dependencies&gt;
         &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;
            &lt;version&gt;${spring-cloud.version}&lt;/version&gt;
            &lt;type&gt;pom&lt;/type&gt;
            &lt;scope&gt;import&lt;/scope&gt;
         &lt;/dependency&gt;
      &lt;/dependencies&gt;
   &lt;/dependencyManagement&gt;

   &lt;build&gt;
      &lt;plugins&gt;
         &lt;plugin&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
         &lt;/plugin&gt;
      &lt;/plugins&gt;
   &lt;/build&gt;
&lt;/project&gt;
</pre>
<p>Gradle users can use the build.gradle file given below &minus;</p>
<pre class="prettyprint notranslate">
buildscript {
   ext {
      springBootVersion = '1.5.9.RELEASE'
   }
   repositories {
      mavenCentral()
   }
   dependencies {
      classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}")
   }
}

apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'org.springframework.boot'

group = 'com.tutorialspoint'
version = '0.0.1-SNAPSHOT'
sourceCompatibility = 1.8

repositories {
   mavenCentral()
}
ext {
   springCloudVersion = 'Edgware.RELEASE'
}
dependencies {
   compile('org.springframework.cloud:spring-cloud-starter-zuul')
   testCompile('org.springframework.boot:spring-boot-starter-test')
}
dependencyManagement {
   imports {
      mavenBom "org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}"
   }
}
</pre>
<p>You can create an executable JAR file, and run the Spring Boot application by using the Maven or Gradle commands given below &minus;</p>
<p>For Maven, you can use the command given below &minus;</p>
<pre class="result notranslate">
mvn clean install
</pre>
<p>After “BUILD SUCCESS”, you can find the JAR file under the target directory.</p>
<p>For Gradle, you can use the command given below &minus;</p>
<pre class="result notranslate">
gradle clean build
</pre>
<p>After “BUILD SUCCESSFUL”, you can find the JAR file under the build/libs directory.</p>
<p>Now, run the JAR file by using the command shown below &minus;</p>
<pre class="result notranslate">
java –jar &lt;JARFILE&gt; 
</pre>
<p>You can find the application has started on the Tomcat port 8111 as shown here.</p>
<img src="/spring_boot/images/started_application_on_tomcat_port_8111.jpg" alt="Started Application on Tomcat Port_8111" />
<p>Now, hit the URL <b>http://localhost:8111/api/demo/products</b> in your web browser and you can see the output of <b>/products</b> REST Endpoint as shown below &minus;</p>
<img src="/spring_boot/images/products_rest_endpoint.jpg" alt="Products REST Endpoint" />
<h1>Spring Boot - Cloud Configuration Server</h1>
<p>Spring Cloud Configuration Server is a centralized application that manages all the application related configuration properties. In this chapter, you will learn in detail about how to create Spring Cloud Configuration server.</p>
<h2>Creating Spring Cloud Configuration Server</h2>
<p>First, download the Spring Boot project from the Spring Initializer page and choose the Spring Cloud Config Server dependency. Observe the screenshot given below &minus;</p>
<img src="/spring_boot/images/creating_spring_cloud_configuration_server.jpg" alt="Creating Spring Cloud Configuration Server" />
<p>Now, add the Spring Cloud Config server dependency in your build configuration file as explained below &minus;</p>
<p>Maven users can add the below dependency into the pom.xml file.</p>
<pre class="prettyprint notranslate">
&lt;dependency&gt;
   &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
   &lt;artifactId&gt;spring-cloud-config-server&lt;/artifactId&gt;
&lt;/dependency&gt;
</pre>
<p>Gradle users can add the below dependency in your build.gradle file.</p>
<pre class="result notranslate">
compile('org.springframework.cloud:spring-cloud-config-server')
</pre>
<p>Now, add the @EnableConfigServer annotation in your main Spring Boot application class file. The @EnableConfigServer annotation makes your Spring Boot application act as a Configuration Server.</p>
<p>The main Spring Boot application class file is given below &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.configserver;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.cloud.config.server.EnableConfigServer;

@SpringBootApplication
@EnableConfigServer
public class ConfigserverApplication {
   public static void main(String[] args) {
      SpringApplication.run(ConfigserverApplication.class, args);
   }
}
</pre>
<p>Now, add the below configuration to your properties file and replace the application.properties file into bootstrap.properties file. Observe the code given below &minus;</p>
<pre class="prettyprint notranslate">
server.port = 8888
spring.cloud.config.server.native.searchLocations=file:///C:/configprop/
SPRING_PROFILES_ACTIVE=native
</pre>
<p>Configuration Server runs on the Tomcat port 8888 and application configuration properties are loaded from native search locations.</p>
<p>Now, in <b>file:///C:/configprop/</b>,  place your client application - application.properties file. For example, your client application name is <b>config-client</b>, then rename your application.properties file as <b>config-client.properties</b> and place the properties file on the path <b>file:///C:/configprop/</b>.</p> 
<p>The code for config-client properties file is given below &minus;</p>
<pre class="result notranslate">
welcome.message = Welcome to Spring cloud config server
</pre>
<p>The complete build configuration file is given below &minus;</p>
<p>Maven users can use <b>pom.xml</b> given below &minus;</p>
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;project xmlns = "http://maven.apache.org/POM/4.0.0" 
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation = "http://maven.apache.org/POM/4.0.0 
   http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
   
   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
   &lt;groupId&gt;com.tutorialspoint&lt;/groupId&gt;
   &lt;artifactId&gt;configserver&lt;/artifactId&gt;
   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
   &lt;packaging&gt;jar&lt;/packaging&gt;

   &lt;name&gt;configserver&lt;/name&gt;
   &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;
   &lt;parent&gt;
      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
      &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;
      &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;
   &lt;/parent&gt;

   &lt;properties&gt;
      &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
      &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;
      &lt;java.version&gt;1.8&lt;/java.version&gt;
      &lt;spring-cloud.version&gt;Edgware.RELEASE&lt;/spring-cloud.version&gt;
   &lt;/properties&gt;

   &lt;dependencies&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
         &lt;artifactId&gt;spring-cloud-config-server&lt;/artifactId&gt;
      &lt;/dependency&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
         &lt;scope&gt;test&lt;/scope&gt;
      &lt;/dependency&gt;
   &lt;/dependencies&gt;

   &lt;dependencyManagement&gt;
      &lt;dependencies&gt;
         &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;
            &lt;version&gt;${spring-cloud.version}&lt;/version&gt;
            &lt;type&gt;pom&lt;/type&gt;
            &lt;scope&gt;import&lt;/scope&gt;
         &lt;/dependency&gt;
      &lt;/dependencies&gt;
   &lt;/dependencyManagement&gt;

   &lt;build&gt;
      &lt;plugins&gt;
         &lt;plugin&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
         &lt;/plugin&gt;
      &lt;/plugins&gt;
   &lt;/build&gt;
   
&lt;/project&gt;
</pre>
<p>Gradle users can use the build.gradle file given below &minus;</p>
<pre class="prettyprint notranslate">
&lt;scope&gt;import&lt;/scope&gt;
&lt;/dependency&gt;
&lt;/dependencies&gt;
buildscript {
   ext {
      springBootVersion = '1.5.9.RELEASE'
   }
   repositories {
      mavenCentral()
   }
   dependencies {
      classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}")
   }
}
apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'org.springframework.boot'

group = 'com.tutorialspoint'
version = '0.0.1-SNAPSHOT'
sourceCompatibility = 1.8

repositories {
   mavenCentral()
}
ext {
   springCloudVersion = 'Edgware.RELEASE'
}
dependencies {
   compile('org.springframework.cloud:spring-cloud-config-server')
   testCompile('org.springframework.boot:spring-boot-starter-test')
}
dependencyManagement {
   imports {
      mavenBom "org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}"
   }
}
</pre>
<p>Now, create an executable JAR file, and run the Spring Boot application by using the following Maven or Gradle commands &minus;</p> 
<p>For Maven, use the command given below &minus;</p>
<pre class="result notranslate">
mvn clean install
</pre>
<p>After “BUILD SUCCESS”, you can find the JAR file under the target directory.</p>
<p>For Gradle, use the command given below &minus;</p>
<pre class="result notranslate">
gradle clean build
</pre>
<p>After “BUILD SUCCESSFUL”, you can find the JAR file under the build/libs directory.</p>
<p>Run the JAR file by using the following command &minus;</p>
<pre class="result notranslate">
 java –jar &lt;JARFILE&gt; 
</pre>
<p>Now, the application has started on the Tomcat port 8888 as shown here &minus;</p>
<img src="/spring_boot/images/tomcat_port_8888_output.jpg" alt="Tomcat Port 8888 Output" />
<p>Now hit the URL <b>http://localhost:8888/config-client/default/master</b> on your web browser and you can see your config-client application configuration properties as shown here.</p>
<img src="/spring_boot/images/config_client_application.jpg" alt="Config-Client Application" />
<h1>Spring Boot - Cloud Configuration Client</h1>
<p>Some applications may need configuration properties that may need a change and developers may need to take them down or restart the application to perform this. However, this might be lead to downtime in production and the need of restarting the application. Spring Cloud Configuration Server lets developers to load the new configuration properties without restarting the application and without any downtime.</p>
<h2>Working with Spring Cloud Configuration Server</h2>
<p>First, download the Spring Boot project from <a href="https://start.spring.io/" rel="nofollow" target="_blank">https://start.spring.io/</a> and choose the Spring Cloud Config Client dependency. Now, add the Spring Cloud Starter Config dependency in your build configuration file.</p>
<p>Maven users can add the following dependency into the pom.xml file.</p>
<pre class="prettyprint notranslate">
&lt;dependency&gt;
   &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
   &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;
&lt;/dependency&gt;
</pre>
<p>Gradle users can add the following dependency into the <b>build.gradle</b> file.</p>
<pre class="result notranslate">
compile('org.springframework.cloud:spring-cloud-starter-config')
</pre>
<p>Now, you need to add the @RefreshScope annotation to your main Spring Boot application. The @RefreshScope annotation is used to load the configuration properties value from the Config server.</p>
<pre class="prettyprint notranslate">
package com.example.configclient;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.cloud.context.config.annotation.RefreshScope;

@SpringBootApplication
@RefreshScope
public class ConfigclientApplication {
   public static void main(String[] args) {
      SpringApplication.run(ConfigclientApplication.class, args);
   }
}
</pre>
<p>Now, add the config server URL in your application.properties file and provide your application name.</p> 
<p><b>Note</b> &minus; http://localhost:8888 config server should be run before starting the config client application.</p>
<pre class="result notranslate">
spring.application.name = config-client
spring.cloud.config.uri = http://localhost:8888
</pre>
<p>The code for writing a simple REST Endpoint to read the welcome message from the configuration server is given below &minus;</p>
<pre class="prettyprint notranslate">
package com.example.configclient;

import org.springframework.beans.factory.annotation.Value;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.cloud.context.config.annotation.RefreshScope;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

@SpringBootApplication
@RefreshScope
@RestController
public class ConfigclientApplication {
   @Value("${welcome.message}")
   String welcomeText;
   
   public static void main(String[] args) {
      SpringApplication.run(ConfigclientApplication.class, args);
   }
   @RequestMapping(value = "/")
   public String welcomeText() {
      return welcomeText;
   }
}
</pre>
<p>You can create an executable JAR file, and run the Spring Boot application by using the following Maven or Gradle commands &minus;</p> 
<p>For Maven, you can use the command shown below &minus;</p>
<pre class="result notranslate">
mvn clean install
</pre>
<p>After “BUILD SUCCESS”, you can find the JAR file under the target directory.</p>
<p>For Gradle, you can use the command shown below &minus;</p>
<pre class="result notranslate">
gradle clean build
</pre>
<p>After “BUILD SUCCESSFUL”, you can find the JAR file under the build/libs directory.</p>
<p>Now, run the JAR file by using the command shown here:   </p>
<pre class="result notranslate">
java –jar &lt;JARFILE&gt; 
</pre>
<p>Now, the application has started on the Tomcat port 8080 as shown here &minus;</p>
<img src="/spring_boot/images/started_application_on_tomcat_port_8080.jpg" alt="Started Application on Tomcat Port 8080" />
<p>You can see the log in console window; config-client application is fetching the configuration from the <b>https://localhost:8888</b></p> 
<pre class="result notranslate">
2017-12-08 12:41:57.682  INFO 1104 --- [           
   main] c.c.c.ConfigServicePropertySourceLocator : 
   Fetching config from server at: http://localhost:8888
</pre>
<p>Now hit the URL, <b>http://localhost:8080/</b> welcome message is loaded from the Configuration server.</p>
<img src="/spring_boot/images/spring_cloud_config_server.jpg" alt="Spring Cloud Config Server" />
<p>Now, go and change the property value on the Configuration server and hit the actuator Endpoint POST URL <b>http://localhost:8080/refresh</b> and see the new configuration property value in the URL <b>http://localhost:8080/</b></p>
<h1>Spring Boot - Actuator</h1>
<p>Spring Boot Actuator provides secured endpoints for monitoring and managing your Spring Boot application. By default, all actuator endpoints are secured. In this chapter, you will learn in detail about how to enable Spring Boot actuator to your application.</p>
<h2>Enabling Spring Boot Actuator</h2>
<p>To enable Spring Boot actuator endpoints to your Spring Boot application, we need to add the Spring Boot Starter actuator dependency in our build configuration file.</p>
<p>Maven users can add the below dependency in your pom.xml file.</p>
<pre class="prettyprint notranslate">
&lt;dependency&gt;
   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
   &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;
&lt;/dependency&gt;
</pre>
<p>Gradle users can add the below dependency in your build.gradle file.</p>
<pre class="result notranslate">
compile group: 'org.springframework.boot', name: 'spring-boot-starter-actuator'
</pre>
<p>In the application.properties file, we need to disable the security for actuator endpoints.</p>
<pre class="result notranslate">
management.security.enabled = false
</pre>
<p>YAML file users can add the following property in your application.yml file.</p>
<pre class="prettyprint notranslate">
management:
   security:
      enabled: false
</pre>
<p>If you want to use the separate port number for accessing the Spring boot actutator endpoints add the management port number in application.properties file.</p>
<pre class="result notranslate">
management.port = 9000
</pre>
<p>YAML file users can add the following property in your application.yml file.</p>
<pre class="result notranslate">
management:
   port: 9000
</pre>
<p>Now, you can create an executable JAR file, and run the Spring Boot application by using the following Maven or Gradle commands.</p>
<p>For Maven, you can use the following command &minus;</p>
<pre class="result notranslate">
mvn clean install
</pre>
<p>After “BUILD SUCCESS”, you can find the JAR file under the target directory.</p>
<p>For Gradle, you can use the following command &minus;</p>
<pre class="result notranslate">
gradle clean build
</pre>
<p>After “BUILD SUCCESSFUL”, you can find the JAR file under the build/libs directory.</p>
<p>Now, you can run the JAR file by using the following command &minus;</p>
<pre class="result notranslate">
java –jar &lt;JARFILE&gt; 
</pre>
<p>Now, the application has started on the Tomcat port 8080. Note that if you specified the management port number, then same application is running on two different port numbers.</p>
<img src="/spring_boot/images/started_application_on_tomcat_port.jpg" alt="Startedc Application on Tomcat Port" />
<p>Some important Spring Boot Actuator endpoints are given below. You can enter them in your web browser and monitor your application behavior.</p>
<table class="table table-bordered">
<tr>
<th class="ts">ENDPOINTS</th>
<th class="ts">USAGE</th>
</tr>
<tr>
<td>/metrics</td>
<td>To view the application metrics such as memory used, memory free, threads, classes, system uptime etc.</td>
</tr>
<tr>
<td>/env</td>
<td>To view the list of Environment variables used in the application.</td>
</tr>
<tr>
<td>/beans</td>
<td>To view the Spring beans and its types, scopes and dependency.</td>
</tr>
<tr>
<td>/health</td>
<td>To view the application health</td>
</tr>
<tr>
<td>/info</td>
<td>To view the information about the Spring Boot application.</td> 
</tr>
<tr>
<td>/trace</td>
<td>To view the list of Traces of your Rest endpoints.</td>
</tr>
</table>
<h1>Spring Boot - Admin Server</h1>
<p>Monitoring your application by using Spring Boot Actuator Endpoint is slightly difficult. Because, if you have ‘n’ number of applications, every application has separate actuator endpoints, thus making monitoring difficult. Spring Boot Admin Server is an application used to manage and monitor your Microservice application.</p>  
<p>To handle such situations, CodeCentric Team provides a Spring Boot Admin UI to manage and monitor all your Spring Boot application Actuator endpoints at one place.</p>
<p>For building a Spring Boot Admin Server we need to add the below dependencies in your build configuration file.</p> 
<p>Maven users can add the below dependencies in your pom.xml file &minus;</p>
<pre class="prettyprint notranslate">
&lt;dependency&gt;
   &lt;groupId&gt;de.codecentric&lt;/groupId&gt;
   &lt;artifactId&gt;spring-boot-admin-server&lt;/artifactId&gt;
   &lt;version&gt;1.5.5&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
   &lt;groupId&gt;de.codecentric&lt;/groupId&gt;
   &lt;artifactId&gt;spring-boot-admin-server-ui&lt;/artifactId&gt;
   &lt;version&gt;1.5.5&lt;/version&gt;
&lt;/dependency&gt;
</pre>
<p>Gradle users can add the below dependencies in your build.gradle file &minus;</p>
<pre class="prettyprint notranslate">
compile group: 'de.codecentric', name: 'spring-boot-admin-server', version: '1.5.5'
compile group: 'de.codecentric', name: 'spring-boot-admin-server-ui', version: '1.5.5'
</pre>
<p>Add the @EnableAdminServer annotation in your main Spring Boot application class file. The @EnableAdminServer annotation is used to make your as Admin Server to monitor all other microservices.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.adminserver;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import de.codecentric.boot.admin.config.EnableAdminServer;

@SpringBootApplication
@EnableAdminServer
public class AdminserverApplication {   
   public static void main(String[] args) {
      SpringApplication.run(AdminserverApplication.class, args);
   }
}
</pre>
<p>Now, define the server.port and application name in application.properties file a shown &minus;</p>
<pre class="prettyprint notranslate">
server.port = 9090
spring.application.name = adminserver</pre>
<p>For YAML users, use the following properties to define the port number and application name in application.yml file.</p>
<pre class="prettyprint notranslate">
server:
   port: 9090
spring:
   application:
      name: adminserver
</pre>
<p>The build configuration file is given below.</p>
<p><b>For Maven users – pom.xml</b></p>
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;project xmlns = "http://maven.apache.org/POM/4.0.0" 
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation = "http://maven.apache.org/POM/4.0.0 
   http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
   
   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
   &lt;groupId&gt;com.tutorialspoint&lt;/groupId&gt;
   &lt;artifactId&gt;adminserver&lt;/artifactId&gt;
   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
   &lt;packaging&gt;jar&lt;/packaging&gt;

   &lt;name&gt;adminserver&lt;/name&gt;
   &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;

   &lt;parent&gt;
      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
      &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;
      &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;
   &lt;/parent&gt;

   &lt;properties&gt;
      &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
      &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;
      &lt;java.version&gt;1.8&lt;/java.version&gt;
   &lt;/properties&gt;

   &lt;dependencies&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;
      &lt;/dependency&gt;

      &lt;dependency&gt;
         &lt;groupId&gt;de.codecentric&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-admin-server&lt;/artifactId&gt;
         &lt;version&gt;1.5.5&lt;/version&gt;
      &lt;/dependency&gt;
      
      &lt;dependency&gt;
         &lt;groupId&gt;de.codecentric&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-admin-server-ui&lt;/artifactId&gt;
         &lt;version&gt;1.5.5&lt;/version&gt;
      &lt;/dependency&gt;

      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
         &lt;scope&gt;test&lt;/scope&gt;
      &lt;/dependency&gt;
   &lt;/dependencies&gt;

   &lt;build&gt;
      &lt;plugins&gt;
         &lt;plugin&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
         &lt;/plugin&gt;
      &lt;/plugins&gt;
   &lt;/build&gt;
   
&lt;/project&gt;
</pre>
<p><b>For Gradle users – build.gradle file</b></p>
<pre class="prettyprint notranslate">
buildscript {
   ext {
      springBootVersion = '1.5.9.RELEASE'
   }
   repositories {
      mavenCentral()
   }
   dependencies {
      classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}")
   }
}

apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'org.springframework.boot'

group = 'com.tutorialspoint'
version = '0.0.1-SNAPSHOT'
sourceCompatibility = 1.8
repositories {   
   mavenCentral()
}
dependencies {
   compile('org.springframework.boot:spring-boot-starter')
   compile group: 'de.codecentric', name: 'spring-boot-admin-server', version: '1.5.5'
   compile group: 'de.codecentric', name: 'spring-boot-admin-server-ui', version: '1.5.5'   
   testCompile('org.springframework.boot:spring-boot-starter-test')
}
</pre>
<p>You can create an executable JAR file, and run the Spring Boot application by using the following Maven or Gradle commands &minus;</p> 
<p>For Maven, use the command shown here &minus;</p>
<pre class="result notranslate">
mvn clean install
</pre>
<p>After “BUILD SUCCESS”, you can find the JAR file under target directory.</p>
<p>For Gradle, use the command shown here &minus;</p>
<pre class="result notranslate">
gradle clean build
</pre>
<p>After “BUILD SUCCESSFUL”, you can find the JAR file under build/libs directory.</p>
<p>Now, run the JAR file by using the command given below &minus;</p>
<pre class="result notranslate">
java –jar &lt;JARFILE&gt; 
</pre>
<p>Now, the application has started on the Tomcat port 9090 as shown here &minus;</p>
<img src="/spring_boot/images/tomcat_port_9090_output.jpg" alt="Tomcat Port 9090 Output" />
<p>Now hit the below URL from your web browser and see the Admin Server UI.</p>
<p><b>http://localhost:9090/</b></p> 
<img src="/spring_boot/images/web_browser_admin_server_ui.jpg" alt="Web Browser Admin Server UI" />
<h1>Spring Boot - Admin Client</h1>
<p>For monitoring and managing your microservice application via Spring Boot Admin Server, you should add the Spring Boot Admin starter client dependency and point out the Admin Server URI into the application properties file.</p>
<p><b>Note</b> &minus; For monitoring an application, you should enable the Spring Boot Actuator Endpoints for your Microservice application.</p>
<p>First, add the following Spring Boot Admin starter client dependency and Spring Boot starter actuator dependency in your build configuration file.</p>
<p>Maven users can add the following dependencies in your pom.xml file &minus;</p>
<pre class="result notranslate">
&lt;dependency&gt;
   &lt;groupId&gt;de.codecentric&lt;/groupId&gt;
   &lt;artifactId&gt;spring-boot-admin-starter-client&lt;/artifactId&gt;
   &lt;version&gt;1.5.5&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
   &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;
&lt;/dependency&gt;
</pre>
<p>Gradle users can add the following dependencies in your build.gradle file.</p>
<pre class="prettyprint notranslate">
compile group: 'de.codecentric', name: 'spring-boot-admin-starter-client', version: '1.5.5'
compile('org.springframework.boot:spring-boot-starter-actuator')
</pre>
<p>Now, add the Spring Boot Admin Server URL into your application properties file.</p>
<p>For properties file users, add the following properties in the application.properties file.</p>
<pre class="result notranslate">
spring.boot.admin.url = http://localhost:9090/
</pre>
<p>For YAML users, add the following property in application.yml file.</p>
<pre class="result notranslate">
spring:
   boot:
      admin:
         url: http://localhost:9000/
</pre>
<p>Now, create an executable JAR file, and run the Spring Boot application by using the following Maven or Gradle commands.</p>
<p>For Maven, you can use the command as shown &minus;</p>
<pre class="result notranslate">
mvn clean install
</pre>
<p>After “BUILD SUCCESS”, you can find the JAR file under the target directory.</p>
<p>For Gradle, you can use the command as shown &minus;</p>
<pre class="result notranslate">
gradle clean build
</pre>
<p>After “BUILD SUCCESSFUL”, you can find the JAR file under the build/libs directory.</p>
<p>Now, run the JAR file by using the command shown &minus;</p>
<pre class="result notranslate">
java –jar &lt;JARFILE&gt; 
</pre>
<p>Now, the application has started on the Tomcat port 9090 as shown &minus;</p>
<img src="/spring_boot/images/tomcat_port_9090_output.jpg" alt="Tomcat Port 9090 Output" />
<p>Now hit the following URL from your web browser and see your spring Boot application is registered with Spring Boot Admin Server.</p>
<p><b>http://localhost:9090/</b></p> 
<img src="/spring_boot/images/spring_boot_admin_server.jpg" alt="Spring Boot Admin Server" />
<p>Now, click the <b>Details</b> button and the see the actuator endpoints in Admin Server UI.</p> 
<img src="/spring_boot/images/actuator_endpoints_in_admin_server_ui.jpg" alt="Actuator Endpoints in Admin Server UI" />
<h1>Spring Boot - Enabling Swagger2</h1>
<p>Swagger2 is an open source project used to generate the REST API documents for RESTful web services. It provides a user interface to access our RESTful web services via the web browser.</p>
<p>To enable the Swagger2 in Spring Boot application,  you need to add the following dependencies in our build configurations file.</p>
<pre class="prettyprint notranslate">
&lt;dependency&gt;
   &lt;groupId&gt;io.springfox&lt;/groupId&gt;
   &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;
   &lt;version&gt;2.7.0&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
   &lt;groupId&gt;io.springfox&lt;/groupId&gt;
   &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;
   &lt;version&gt;2.7.0&lt;/version&gt;
&lt;/dependency&gt;
</pre>
<p>For Gradle users, add the following dependencies in your build.gradle file.</p>
<pre class="result notranslate">
compile group: 'io.springfox', name: 'springfox-swagger2', version: '2.7.0'
compile group: 'io.springfox', name: 'springfox-swagger-ui', version: '2.7.0'
</pre>
<p>Now, add the @EnableSwagger2 annotation in your main Spring Boot application. The @EnableSwagger2 annotation is used to enable the Swagger2 for your Spring Boot application.</p>
<p>The code for main Spring Boot application is shown below &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.swaggerdemo;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import springfox.documentation.swagger2.annotations.EnableSwagger2;

@SpringBootApplication
@EnableSwagger2
public class SwaggerDemoApplication {
   public static void main(String[] args) {
      SpringApplication.run(SwaggerDemoApplication.class, args);
   }
}
</pre>
<p>Next, create Docket Bean to configure Swagger2 for your Spring Boot application. We need to define the base package to configure REST API(s) for Swagger2.</p>
<pre class="result notranslate">
@Bean
   public Docket productApi() {
      return new Docket(DocumentationType.SWAGGER_2).select()
         .apis(RequestHandlerSelectors.basePackage("com.tutorialspoint.swaggerdemo")).build();
   }
</pre>
<p>Now, add this bean in main Spring Boot application class file itself and your main Spring Boot application class will look as shown below &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.swaggerdemo;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.context.annotation.Bean;

import springfox.documentation.builders.RequestHandlerSelectors;
import springfox.documentation.spi.DocumentationType;
import springfox.documentation.spring.web.plugins.Docket;
import springfox.documentation.swagger2.annotations.EnableSwagger2;

@SpringBootApplication
@EnableSwagger2
public class SwaggerDemoApplication {
   public static void main(String[] args) {
      SpringApplication.run(SwaggerDemoApplication.class, args);
   }
   @Bean
   public Docket productApi() {
      return new Docket(DocumentationType.SWAGGER_2).select()
         .apis(RequestHandlerSelectors.basePackage("com.tutorialspoint.swaggerdemo")).build();
   }
}
</pre>
<p>Now, add the below Spring Boot Starter Web dependency in your build configuration file to write a REST Endpoints as shown below &minus;</p>
<p>Maven users can add the following dependency in your pom.xml file &minus;</p>
<pre class="result notranslate">
&lt;dependency&gt;
   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
   &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
&lt;/dependency&gt;
</pre>
<p>Gradle users can add the following dependency in build.gradle file &minus;</p>
<pre class="result notranslate">
compile('org.springframework.boot:spring-boot-starter-web')
</pre>
<p>Now, the code to build two simple RESTful web services GET and POST in Rest Controller file is shown here &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.swaggerdemo;

import java.util.ArrayList;
import java.util.List;

import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.bind.annotation.RestController;

@RestController
public class SwaggerAPIController {
   @RequestMapping(value = "/products", method = RequestMethod.GET)
   public List&lt;String&gt; getProducts() {
      List&lt;String&gt; productsList = new ArrayList&lt;&gt;();
      productsList.add("Honey");
      productsList.add("Almond");
      return productsList;
   }
   @RequestMapping(value = "/products", method = RequestMethod.POST)
   public String createProduct() {
      return "Product is saved successfully";
   }
}
</pre>
<p>The complete build configuration file is given below &minus;</p>
<p><b>Maven – pom.xml</b></p>
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;project xmlns = "http://maven.apache.org/POM/4.0.0" 
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation = "http://maven.apache.org/POM/4.0.0 
   http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;

   &lt;groupId&gt;com.tutorialspoint&lt;/groupId&gt;
   &lt;artifactId&gt;swagger-demo&lt;/artifactId&gt;
   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
   &lt;packaging&gt;jar&lt;/packaging&gt;
   &lt;name&gt;swagger-demo&lt;/name&gt;
   &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;

   &lt;parent&gt;
      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
      &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;
      &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;
   &lt;/parent&gt;

   &lt;properties&gt;
      &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
      &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;
      &lt;java.version&gt;1.8&lt;/java.version&gt;
   &lt;/properties&gt;

   &lt;dependencies&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
      &lt;/dependency&gt;
      
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
         &lt;scope&gt;test&lt;/scope&gt;
      &lt;/dependency&gt;
      
      &lt;dependency&gt;
         &lt;groupId&gt;io.springfox&lt;/groupId&gt;
         &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;
         &lt;version&gt;2.7.0&lt;/version&gt;
      &lt;/dependency&gt;

      &lt;dependency&gt;
         &lt;groupId&gt;io.springfox&lt;/groupId&gt;
         &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;
         &lt;version&gt;2.7.0&lt;/version&gt;
      &lt;/dependency&gt;
   &lt;/dependencies&gt;

   &lt;build&gt;
      &lt;plugins&gt;
         &lt;plugin&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
         &lt;/plugin&gt;
      &lt;/plugins&gt;
   &lt;/build&gt;
   
&lt;/project&gt;
</pre>
<p><b>Gradle – build.gradle</b></p>
<pre class="prettyprint notranslate">
buildscript {
   ext {
      springBootVersion = '1.5.9.RELEASE'
   }
   repositories {
      mavenCentral()
   }
   dependencies {
      classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}")
   }
}
apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'org.springframework.boot'

group = 'com.tutorialspoint'
version = '0.0.1-SNAPSHOT'
sourceCompatibility = 1.8

repositories {
   mavenCentral()
} dependencies {
   compile('org.springframework.boot:spring-boot-starter-web')
   testCompile('org.springframework.boot:spring-boot-starter-test')
   compile group: 'io.springfox', name: 'springfox-swagger2', version: '2.7.0'
   compile group: 'io.springfox', name: 'springfox-swagger-ui', version: '2.7.0'
}
</pre>
<p>You can create an executable JAR file, and run the Spring Boot application by using the following Maven or Gradle commands.</p> 
<p>For Maven, you can use the command shown here &minus;</p>
<pre class="result notranslate">
mvn clean install
</pre>
<p>After “BUILD SUCCESS”, you can find the JAR file under the target directory.</p>
<p>For Gradle, you can use the command as shown here &minus;</p>
<pre class="result notranslate">
gradle clean build
</pre>
<p>After “BUILD SUCCESSFUL”, you can find the JAR file under the build/libs directory.</p>
<p>Now, run the JAR file by using the command shown here &minus;</p>
<pre class="result notranslate">
java –jar &lt;JARFILE&gt; 
</pre>
<p>Now, the application will start on the Tomcat port 8080 as shown &minus;</p>
<img src="/spring_boot/images/started_application_on_tomcat_port_8080.jpg" alt="Started Application on Tomcat Port 8080" />
<p>Now, hit the URL in your web browser and see the Swagger API functionalities.</p>
<p><b>http://localhost:8080/swagger-ui.html</b></p> 
<img src="/spring_boot/images/swagger_api_functionalities.jpg" alt="Swagger API functionalities" />
<h1>Spring Boot - Creating Docker Image</h1>
<p>Docker is a container management service that eases building and deployment. If you are a beginner to Docker, you can learn about is in detail at this link &minus; <a href="/docker/index.htm">https://www.tutorialspoint.com/docker/index.htm</a></p>
<p>In this chapter, we are going to see How to create a Docker image by using Maven and Gradle dependencies for your Spring Boot application.</p>
<h2>Create Dockerfile</h2>
<p>First, create a file with the name <b>Dockerfile</b> under the directories <b>src/main/docker</b> with the contents shown below. Note that this file is important to create a Docker image.</p>
<pre class="prettyprint notranslate">
FROM java:8
VOLUME /tmp
ADD dockerapp-0.0.1-SNAPSHOT.jar app.jar
RUN bash -c 'touch /app.jar'
ENTRYPOINT ["java","-Djava.security.egd=file:/dev/./urandom","-jar","/app.jar"]
</pre>
<h2>Maven</h2>
<p>For Maven, add the Docker Maven plugin into your build configuration file <b>pom.xml</b></p>
<pre class="prettyprint notranslate">
&lt;properties&gt;
   &lt;docker.image.prefix&gt;spring-boot-tutorialspoint&lt;/docker.image.prefix&gt;
&lt;/properties&gt;

&lt;build&gt;
   &lt;plugins&gt;
      &lt;plugin&gt;
         &lt;groupId&gt;com.spotify&lt;/groupId&gt;
         &lt;artifactId&gt;docker-maven-plugin&lt;/artifactId&gt;
         &lt;version&gt;1.0.0&lt;/version&gt;
         
         &lt;configuration&gt;
            &lt;imageName&gt;${docker.image.prefix}/${project.artifactId}&lt;/imageName&gt;
            &lt;dockerDirectory&gt;src/main/docker&lt;/dockerDirectory&gt;
            &lt;resources&gt;
               &lt;resource&gt;
                  &lt;directory&gt;${project.build.directory}&lt;/directory&gt;
                  &lt;include&gt;${project.build.finalName}.jar&lt;/include&gt;
               &lt;/resource&gt;
            &lt;/resources&gt;
         &lt;/configuration&gt;
      &lt;/plugin&gt;
      
      &lt;plugin&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
      &lt;/plugin&gt;
   &lt;/plugins&gt;
   
&lt;/build&gt;
</pre>
<p>The complete pom.xml file is given below &minus;</p>
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;project xmlns = "http://maven.apache.org/POM/4.0.0" 
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation = "http://maven.apache.org/POM/4.0.0 
   http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
   
   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
   &lt;groupId&gt;com.tutorialspoint&lt;/groupId&gt;
   &lt;artifactId&gt;dockerapp&lt;/artifactId&gt;
   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
   &lt;packaging&gt;jar&lt;/packaging&gt;
   &lt;name&gt;dockerapp&lt;/name&gt;
   &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;

   &lt;parent&gt;
      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
      &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;
      &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;
   &lt;/parent&gt;

   &lt;properties&gt;
      &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
      &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;
      &lt;java.version&gt;1.8&lt;/java.version&gt;
      &lt;docker.image.prefix&gt;spring-boot-tutorialspoint&lt;/docker.image.prefix&gt;
   &lt;/properties&gt;

   &lt;dependencies&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
      &lt;/dependency&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
         &lt;scope&gt;test&lt;/scope&gt;
      &lt;/dependency&gt;
   &lt;/dependencies&gt;

   &lt;build&gt;
      &lt;plugins&gt;
         &lt;plugin&gt;
            &lt;groupId&gt;com.spotify&lt;/groupId&gt;
            &lt;artifactId&gt;docker-maven-plugin&lt;/artifactId&gt;
            &lt;version&gt;1.0.0&lt;/version&gt;
            
            &lt;configuration&gt;
               &lt;imageName&gt;${docker.image.prefix}/${project.artifactId}&lt;/imageName&gt;
               &lt;dockerDirectory&gt;src/main/docker&lt;/dockerDirectory&gt;
               &lt;resources&gt;
                  &lt;resource&gt;
                     &lt;directory&gt;${project.build.directory}&lt;/directory&gt;
                     &lt;include&gt;${project.build.finalName}.jar&lt;/include&gt;
                  &lt;/resource&gt;
               &lt;/resources&gt;
            &lt;/configuration&gt;
         &lt;/plugin&gt;
         
         &lt;plugin&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
         &lt;/plugin&gt;
      &lt;/plugins&gt;
   &lt;/build&gt;
   
&lt;/project&gt;
</pre>
<p>Now, you can run your application by using the Maven command <b>mvn package docker:build</b></p>
<img src="/spring_boot/images/mvn_package_docker_build.jpg" alt="MVN Package Docker Build" />
<p><b>Note</b> &minus; Enable the Expose daemon on <b>tcp://localhost:2375</b> without TLS.</p> 
<p>After build success, you can see the output on the console as shown below &minus;</p>
<img src="/spring_boot/images/mvn_package_docker_output.jpg" alt="MVN Package Docker Output" />
<p>Now, see the Docker images by the command using docker images and see the image info on the console.</p>
<img src="/spring_boot/images/docker_images_command.jpg" alt="Docker Images Command" />
<h2>Gradle</h2>
<p>To build a Docker image by using Gradle build configuration, we need to add the <b>docker</b> plugin and need to write a task <b>buildDocker</b> to create a Docker image.</p>
<p>The code for Gradle Docker configuration is given below.</p>
<pre class="prettyprint notranslate">
buildscript {
   .....
   dependencies {
      .....
      classpath('se.transmode.gradle:gradle-docker:1.2')
   }
}

group = 'spring-boot-tutorialspoint'

.....
apply plugin: 'docker'

task buildDocker(type: Docker, dependsOn: build) {
   applicationName = jar.baseName
   dockerfile = file('src/main/docker/Dockerfile')
   doFirst {
      copy {
         from jar
         into stageDir
      }
   }
}
</pre>
<p>The complete build.gradle file is given below.</p>
<pre class="prettyprint notranslate">
buildscript {
   ext {
      springBootVersion = '1.5.9.RELEASE'
   }
   repositories {
      mavenCentral()
   }
   dependencies {
      classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}")
      classpath('se.transmode.gradle:gradle-docker:1.2')
   }
}

group = 'spring-boot-tutorialspoint'

apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'org.springframework.boot'
apply plugin: 'docker'

group = 'com.tutorialspoint'
version = '0.0.1-SNAPSHOT'
sourceCompatibility = 1.8

repositories {
   mavenCentral()
}
dependencies {
   compile('org.springframework.boot:spring-boot-starter-web')
   testCompile('org.springframework.boot:spring-boot-starter-test')
}
task buildDocker(type: Docker, dependsOn: build) {
   applicationName = jar.baseName
   dockerfile = file('src/main/docker/Dockerfile')
   doFirst {
      copy {
         from jar
         into stageDir
      }
   }
}
</pre>
<p>Now, create a Docker image by using the command shown below &minus;</p>
<pre class="result notranslate">
gradle build buildDocker
</pre>
<p></p>
<img src="/spring_boot/images/gradle_build_docker.jpg" alt="Gradle Build Docker" />
<p>After executing the command, you can see the BUILD SUCCESSFUL log on the console window.</p>
<img src="/spring_boot/images/docker_build_successful.jpg" alt="Docker Build Successful" />
<p>Now, see the Docker images by the command using <b>docker images</b> and see the image’s info on the console.</p>
<img src="/spring_boot/images/get_image_info_using_dockerimages.jpg" alt="Get Image Info Using DockerImages" />
<h1>Spring Boot - Tracing Micro Service Logs</h1>
<p>Most developers face difficulty of tracing logs if any issue occurred. This can be solved by Spring Cloud Sleuth and ZipKin server for Spring Boot application.</p>
<h2>Spring Cloud Sleuth</h2>
<p>Spring cloud Sleuth logs are printed in the following format &minus;</p>
<pre class="result notranslate">
[application-name,traceid,spanid,zipkin-export]
</pre>
<p>Where,</p> 
<ul class="list">
<li><p>Application-name = Name of the application</p></li>
<li><p>Traceid = each request and response traceid is same when calling same service or one service to another service.</p></li>
<li><p>Spanid = Span Id is printed along with Trace Id. Span Id is different every request and response calling one service to another service.</p></li>
<li><p>Zipkin-export = By default it is false. If it is true, logs will be exported to the Zipkin server.</p></li>
</ul>
<p>Now, add the Spring Cloud Starter Sleuth dependency in your build configuration file as follows &minus;</p>
<p>Maven users can add the following dependency in your pom.xml file &minus;</p>
<pre class="prettyprint notranslate">
&lt;dependency&gt;
   &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
   &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;
&lt;/dependency&gt;
</pre>
<p>Gradle users can add the following dependency in your build.gradle file &minus;</p>
<pre class="result notranslate">
compile('org.springframework.cloud:spring-cloud-starter-sleuth')
</pre>
<p>Now, add the Logs into your Spring Boot application Rest Controller class file as shown here &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.sleuthapp;

import java.util.logging.Level;
import java.util.logging.Logger;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

@SpringBootApplication
@RestController
public class SleuthappApplication {
   private static final Logger LOG = Logger.getLogger(SleuthappApplication.class.getName());
   public static void main(String[] args) {
      SpringApplication.run(SleuthappApplication.class, args);
   }
   @RequestMapping("/")
   public String index() {
      LOG.log(Level.INFO, "Index API is calling");
      return "Welcome Sleuth!";
   }
}
</pre>
<p>Now, add the application name in application.properties file as shown &minus;</p>
<pre class="result notranslate">
spring.application.name = tracinglogs
</pre>
<p>The complete code for build configuration file is given below &minus;</p>
<p><b>Maven – pom.xml</b></p>
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;project xmlns = "http://maven.apache.org/POM/4.0.0" 
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation = "http://maven.apache.org/POM/4.0.0 
   http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
   
   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
   &lt;groupId&gt;com.tutorialspoint&lt;/groupId&gt;
   &lt;artifactId&gt;sleuthapp&lt;/artifactId&gt;
   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
   &lt;packaging&gt;jar&lt;/packaging&gt;

   &lt;name&gt;sleuthapp&lt;/name&gt;
   &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;

   &lt;parent&gt;
      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
      &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;
      &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;
   &lt;/parent&gt;

   &lt;properties&gt;
      &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
      &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;
      &lt;java.version&gt;1.8&lt;/java.version&gt;
      &lt;spring-cloud.version&gt;Edgware.RELEASE&lt;/spring-cloud.version&gt;
   &lt;/properties&gt;

   &lt;dependencies&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
         &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;
      &lt;/dependency&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
      &lt;/dependency&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
         &lt;scope&gt;test&lt;/scope&gt;
      &lt;/dependency&gt;
   &lt;/dependencies&gt;

   &lt;dependencyManagement&gt;
      &lt;dependencies&gt;
         &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;
            &lt;version&gt;${spring-cloud.version}&lt;/version&gt;
            &lt;type&gt;pom&lt;/type&gt;
            &lt;scope&gt;import&lt;/scope&gt;
         &lt;/dependency&gt;
      &lt;/dependencies&gt;
   &lt;/dependencyManagement&gt;

   &lt;build&gt;
      &lt;plugins&gt;
         &lt;plugin&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
         &lt;/plugin&gt;
      &lt;/plugins&gt;
   &lt;/build&gt;
   
&lt;/project&gt;
</pre>
<p><b>Gradle – build.gradle</b></p>
<pre class="prettyprint notranslate">
buildscript {
   ext {
      springBootVersion = '1.5.9.RELEASE'
   }
   repositories {
      mavenCentral()
   }
   dependencies {
      classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}")
   }
}

apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'org.springframework.boot'

group = 'com.tutorialspoint'
version = '0.0.1-SNAPSHOT'
sourceCompatibility = 1.8

repositories {
   mavenCentral()
}
ext {
   springCloudVersion = 'Edgware.RELEASE'
}
dependencies {
   compile('org.springframework.cloud:spring-cloud-starter-sleuth')
   compile('org.springframework.boot:spring-boot-starter-web')
   testCompile('org.springframework.boot:spring-boot-starter-test')
}
dependencyManagement {
   imports {
      mavenBom "org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}"
   }
}
</pre>
<p>You can create an executable JAR file, and run the Spring Boot application by using the following Maven or Gradle commands.</p> 
<p>For Maven, you can use the following command &minus;</p>
<pre class="result notranslate">
mvn clean install
</pre>
<p>After “BUILD SUCCESS”, you can find the JAR file under the target directory.</p>
<p>For Gradle, you can use the following command &minus;</p>
<pre class="result notranslate">
gradle clean build
</pre>
<p>After “BUILD SUCCESSFUL”, you can find the JAR file under the build/libs directory.</p>
<p>Now, run the JAR file by using the command shown here &minus;</p>
<pre class="result notranslate">
java –jar &lt;JARFILE&gt; 
</pre>
<p>Now, the application has started on the Tomcat port 8080.</p>
<img src="/spring_boot/images/started_application_on_tomcat_port_8080.jpg" alt="Started Application on Tomcat Port 8080" />
<p>Now, hit the URL in your web browser and see the output in console log.</p>
<p><b>http://localhost:8080/</b></p>
<img src="/spring_boot/images/output_welcome_sleuth.jpg" alt="Output Welcome Sleuth" />
<p>You can see the following logs in the console window. Observe that log is printed in the following format [application-name, traceid, spanid, zipkin-export]</p>
<img src="/spring_boot/images/log_is_printed.jpg" alt="Log is Printed" />
<h2>Zipkin Server</h2>
<p>Zipkin is an application that monitors and manages the Spring Cloud Sleuth logs of your Spring Boot application. To build a Zipkin server, we need to add the Zipkin UI and Zipkin Server dependencies in our build configuration file.</p>
<p>Maven users can add the following dependency in your pom.xml file &minus;</p>
<pre class="prettyprint notranslate">
&lt;dependency&gt;
   &lt;groupId&gt;io.zipkin.java&lt;/groupId&gt;
   &lt;artifactId&gt;zipkin-server&lt;/artifactId&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
   &lt;groupId&gt;io.zipkin.java&lt;/groupId&gt;
   &lt;artifactId&gt;zipkin-autoconfigure-ui&lt;/artifactId&gt;
&lt;/dependency&gt;
</pre>
<p>Gradle users can add the below dependency in your build.gradle file &minus;</p>
<pre class="result notranslate">
compile('io.zipkin.java:zipkin-autoconfigure-ui')
compile('io.zipkin.java:zipkin-server')
</pre>
<p>Now, configure the server.port = 9411 in application properties file.</p>
<p>For properties file users, add the below property in application.properties file.</p>
<pre class="result notranslate">
server.port = 9411
</pre>
<p>For YAML users, add the below property in application.yml file.</p>
<pre class="result notranslate">
server:
   port: 9411
</pre>
<p>Add the @EnableZipkinServer annotation in your main Spring Boot application class fie. The @EnableZipkinServer annotation is used to enable your application act as a Zipkin server.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.zipkinapp;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import zipkin.server.EnableZipkinServer;

@SpringBootApplication
@EnableZipkinServer
public class ZipkinappApplication {
   public static void main(String[] args) {
      SpringApplication.run(ZipkinappApplication.class, args);
   }
}
</pre>
<p>The code for complete build configuration file is given below.</p>
<p><b>Maven – pom.xml</b></p>
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;project xmlns = "http://maven.apache.org/POM/4.0.0" 
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation = "http://maven.apache.org/POM/4.0.0 
   http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
   
   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
   &lt;groupId&gt;com.tutorialspoint&lt;/groupId&gt;
   &lt;artifactId&gt;zipkinapp&lt;/artifactId&gt;
   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
   &lt;packaging&gt;jar&lt;/packaging&gt;
   &lt;name&gt;zipkinapp&lt;/name&gt;
   &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;

   &lt;parent&gt;
      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
      &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;
      &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;
   &lt;/parent&gt;

   &lt;properties&gt;
      &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
      &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;
      &lt;java.version&gt;1.8&lt;/java.version&gt;
      &lt;spring-cloud.version&gt;Edgware.RELEASE&lt;/spring-cloud.version&gt;
   &lt;/properties&gt;

   &lt;dependencies&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;io.zipkin.java&lt;/groupId&gt;
         &lt;artifactId&gt;zipkin-server&lt;/artifactId&gt;
      &lt;/dependency&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;io.zipkin.java&lt;/groupId&gt;
         &lt;artifactId&gt;zipkin-autoconfigure-ui&lt;/artifactId&gt;
      &lt;/dependency&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
         &lt;scope&gt;test&lt;/scope&gt;
      &lt;/dependency&gt;
   &lt;/dependencies&gt;

   &lt;dependencyManagement&gt;
      &lt;dependencies&gt;
         &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;
            &lt;version&gt;${spring-cloud.version}&lt;/version&gt;
            &lt;type&gt;pom&lt;/type&gt;
            &lt;scope&gt;import&lt;/scope&gt;
         &lt;/dependency&gt;
      &lt;/dependencies&gt;
   &lt;/dependencyManagement&gt;

   &lt;build&gt;
      &lt;plugins&gt;
         &lt;plugin&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
         &lt;/plugin&gt;
      &lt;/plugins&gt;
   &lt;/build&gt;
   
&lt;/project&gt;
</pre>
<p><b>Gradle – build.gradle</b></p>
<pre class="prettyprint notranslate">
buildscript {
   ext {
      springBootVersion = '1.5.9.RELEASE'
   }
   repositories {
      mavenCentral()
   }
   dependencies {
      classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}")
   }
}
apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'org.springframework.boot'

group = 'com.tutorialspoint'
version = '0.0.1-SNAPSHOT'
sourceCompatibility = 1.8

repositories {
   mavenCentral()
}
ext {
   springCloudVersion = 'Edgware.RELEASE'
}
dependencies {
   compile('io.zipkin.java:zipkin-autoconfigure-ui')
   compile('io.zipkin.java:zipkin-server')
   testCompile('org.springframework.boot:spring-boot-starter-test')
}
dependencyManagement {
   imports {
      mavenBom "org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}"
   }
}
</pre>
<p>You can create an executable JAR file, and run the Spring Boot application by using the below Maven or Gradle commands &minus;</p>
<p>For Maven, use the command given below &minus;</p>
<pre class="result notranslate">
mvn clean install
</pre>
<p>After “BUILD SUCCESS”, you can find the JAR file under the target directory.</p>
<p>For Gradle, use the command given below &minus;</p>
<pre class="result notranslate">
gradle clean build
</pre>
<p>After “BUILD SUCCESSFUL”, you can find the JAR file under the build/libs directory.</p>
<p>Run the JAR file by using the command shown &minus;</p>
<pre class="result notranslate">
java –jar &lt;JARFILE&gt; 
</pre>
<p>Now, the application has started on the Tomcat port 9411 as shown below &minus;</p>
<img src="/spring_boot/images/output_tomcat_port_9411.jpg" alt="Output Tomcat Port 9411" />
<p>Now, hit the below URL and see the Zipkin server UI.</p>
<p><b>http://localhost:9411/zipkin/</b></p>
<img src="/spring_boot/images/zipkin_server_ui.jpg" alt="Zipkin server UI" />
<p>Then, add the following dependency in your client service application and point out the Zipkin Server URL to trace the microservice logs via Zipkin UI.</p>
<p>Now, add the Spring Cloud Starter Zipkin dependency in your build configuration file as shown &minus;</p>
<p>Maven users can add the following dependency in pom.xml file &minus;</p>
<pre class="prettyprint notranslate">
&lt;dependency&gt;
   &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
   &lt;artifactId&gt;spring-cloud-sleuth-zipkin&lt;/artifactId&gt;
&lt;/dependency&gt;
</pre>
<p>Gradle users can add the below dependency in build.gradle file &minus;</p>
<pre class="result notranslate">
compile('org.springframework.cloud:spring-cloud-sleuth-zipkin')
</pre>
<p>Now, add the <b>Always Sampler Bean</b> in your Spring Boot application to export the logs into Zipkin server.</p>
<pre class="prettyprint notranslate">
@Bean
public AlwaysSampler defaultSampler() {
   return new AlwaysSampler();
}
</pre>
<p>If you add the AlwaysSampler Bean, then automatically Spring Sleuth Zipkin Export option will change from false to true.</p>
<p>Next, configure your Zipkin Server base URL in client service application.properties file.</p>
<pre class="result notranslate">
spring.zipkin.baseUrl = http://localhost:9411/zipkin/ 
</pre>
<p>Then, provide the trace id and find the traces in Zipkin UI.</p>
<p><b>http://localhost:9411/zipkin/traces/{traceid}/</b></p>
<h1>Spring Boot - Flyway Database</h1>
<p>Flyway is a version control application to evolve your Database schema easily and reliably across all your instances. To learn more about Flyway, you can use the link &minus; <a href="https://flywaydb.org/" rel="nofollow" target="_blank">www.flywaydb.org</a></p> 
<p>Many software projects use relational databases. This requires the handling of database migrations, also often called schema migrations.</p>
<p>In this chapter, you are going to learn in detail about how to configure Flyway database in your Spring Boot application.</p>
<h2>Configuring Flyway Database</h2>
<p>First, download the Spring Boot project from Spring Initializer page <a href="https://start.spring.io/" rel="nofollow" target="_blank">www.start.spring.io</a> and choose the following dependencies &minus;</p>
<ul class="list">
<li>Spring Boot Starter Web</li>
<li>Flyway</li>
<li>MySQL</li> 
<li>JDBC</li> 
</ul>
<p>Maven users can add the following dependencies in pom.xml file.</p>
<pre class="prettyprint notranslate">
&lt;dependency&gt;
   &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;
   &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
   &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
   &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
   &lt;groupId&gt;mysql&lt;/groupId&gt;
   &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
   &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
   &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;
</pre>
<p>Gradle users can add the following dependencies in build.gradle file.</p>
<pre class="prettyprint notranslate">
compile('org.flywaydb:flyway-core')
compile('org.springframework.boot:spring-boot-starter-jdbc')
compile('org.springframework.boot:spring-boot-starter-web')
compile('mysql:mysql-connector-java')
</pre>
<p>In application properties, we need to configure the database properties for creating a DataSource and also flyway properties we need to configure in application properties.</p>
<p>For properties file users, add the below properties in the application.properties file.</p>
<pre class="prettyprint notranslate">
spring.application.name = flywayapp  

spring.datasource.driverClassName = com.mysql.jdbc.Driver
spring.datasource.url = jdbc:mysql://localhost:3306/USERSERVICE?autoreconnect=true
spring.datasource.username = root
spring.datasource.password = root
spring.datasource.testOnBorrow = true
spring.datasource.testWhileIdle = true
spring.datasource.timeBetweenEvictionRunsMillis = 60000
spring.datasource.minEvictableIdleTimeMillis = 30000
spring.datasource.validationQuery = SELECT 1
spring.datasource.max-active = 15
spring.datasource.max-idle = 10
spring.datasource.max-wait = 8000

flyway.url = jdbc:mysql://localhost:3306/mysql
flyway.schemas = USERSERVICE
flyway.user = root
flyway.password = root
</pre>
<p>YAML users can add the following properties in application.yml file.</p>
<pre class="prettyprint notranslate">
spring:
   application:
      name: flywayapp  
   datasource: 
      driverClassName: com.mysql.jdbc.Driver
      url: "jdbc:mysql://localhost:3306/USERSERVICE?autoreconnect=true"
      password: "root"
      username: "root"
      testOnBorrow: true
      testWhileIdle: true
      timeBetweenEvictionRunsMillis: 60000
      minEvictableIdleTimeMillis: 30000
      validationQuery: SELECT 1
      max-active: 15
      max-idle: 10
      max-wait: 8000
flyway:
   url: jdbc:mysql://localhost:3306/mysql
   schemas: USERSERVICE
   user: "root"
   password: "root"
</pre>
<p>Now, create a SQL file under the <b>src/main/resources/db/migration</b> directory. Name the SQL file as “V1__Initial.sql”</p>
<pre class="prettyprint notranslate">
CREATE TABLE USERS (ID INT AUTO_INCREMENT PRIMARY KEY, USERID VARCHAR(45));
INSERT INTO USERS (ID, USERID) VALUES (1, 'tutorialspoint.com');
</pre>
<p>The main Spring Boot application class file code is given below &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.flywayapp;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class FlywayappApplication {
   public static void main(String[] args) {
      SpringApplication.run(FlywayappApplication.class, args);
   }
}
</pre>
<p>The complete build configuration file is given below.</p>
<p><b>Maven – pom.xml</b></p>
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;project xmlns = "http://maven.apache.org/POM/4.0.0" 
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation = "http://maven.apache.org/POM/4.0.0 
   http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
   
   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
   &lt;groupId&gt;com.tutorialspoint&lt;/groupId&gt;
   &lt;artifactId&gt;flywayapp&lt;/artifactId&gt;
   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
   &lt;packaging&gt;jar&lt;/packaging&gt;
   &lt;name&gt;flywayapp&lt;/name&gt;
   &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;

   &lt;parent&gt;
      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
      &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;
      &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;
   &lt;/parent&gt;

   &lt;properties&gt;
      &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
      &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;
      &lt;java.version&gt;1.8&lt;/java.version&gt;
   &lt;/properties&gt;

   &lt;dependencies&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;
         &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;
      &lt;/dependency&gt;
      
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;
      &lt;/dependency&gt;
      
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
      &lt;/dependency&gt;

      &lt;dependency&gt;
         &lt;groupId&gt;mysql&lt;/groupId&gt;
         &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
      &lt;/dependency&gt;
   &lt;/dependencies&gt;

   &lt;build&gt;
      &lt;plugins&gt;
         &lt;plugin&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
         &lt;/plugin&gt;
      &lt;/plugins&gt;
   &lt;/build&gt;
   
&lt;/project&gt;
</pre>
<p><b>Gradle – build.gradle</b></p> 
<pre class="prettyprint notranslate">
buildscript {
   ext {
      springBootVersion = '1.5.9.RELEASE'
   }
   repositories {
      mavenCentral()
   }
   dependencies {
      classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}")
   }
}

apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'org.springframework.boot'

group = 'com.tutorialspoint'
version = '0.0.1-SNAPSHOT'
sourceCompatibility = 1.8

repositories {
   mavenCentral()
}
dependencies {
   compile('org.flywaydb:flyway-core')
   compile('org.springframework.boot:spring-boot-starter-jdbc')
   compile('org.springframework.boot:spring-boot-starter-web')
   compile('mysql:mysql-connector-java')
   testCompile('org.springframework.boot:spring-boot-starter-test')
}
</pre>
<p>You can create an executable JAR file, and run the Spring Boot application by using the Maven or Gradle commands given below &minus;</p>
<p>For Maven, you can use the command shown here &minus;</p>
<pre class="result notranslate">
mvn clean install
</pre>
<p>After “BUILD SUCCESS”, you can find the JAR file under the target directory.</p>
<p>For Gradle, you can use the command shown here &minus;</p>
<pre class="result notranslate">
gradle clean build
</pre>
<p>After “BUILD SUCCESSFUL”, you can find the JAR file under the build/libs directory.</p>
<p>Now, run the JAR file by using the following command &minus;</p>
<pre class="result notranslate">
 java –jar &lt;JARFILE&gt; 
</pre>
<p>Now, Tomcat started on the port 8080 and in the console window you can see the flyway database logs as shown here.</p>
<img src="/spring_boot/images/flyway_database_logs.jpg" alt="Flyway Database Logs"/>
<p>You can now go to the database and do the select queries.</p>
<img src="/spring_boot/images/database_and_select_the_queries.jpg" alt="Database and Select the Queries"/>
<h1>Spring Boot - Sending Email</h1>
<p>By using Spring Boot RESTful web service, you can send an email with Gmail Transport Layer Security. In this chapter, let us understand in detail how to use this feature.</p>
<p>First, we need to add the Spring Boot Starter Mail dependency in your build configuration file.</p>
<p>Maven users can add the following dependency into the pom.xml file.</p>
<pre class="prettyprint notranslate">
&lt;dependency&gt;
   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
   &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;
&lt;/dependency&gt;
</pre>
<p>Gradle users can add the following dependency in your build.gradle file.</p>
<pre class="result notranslate">
 compile('org.springframework.boot:spring-boot-starter-mail')
</pre>
<p>The code of main Spring Boot application class file is given below &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.emailapp;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class EmailappApplication {
   public static void main(String[] args) {
      SpringApplication.run(EmailappApplication.class, args);
   }
}
</pre>
<p>You can write a simple Rest API to send to email in Rest Controller class file as shown.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.emailapp;

import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

@RestController
public class EmailController {
   @RequestMapping(value = "/sendemail")
   public String sendEmail() {
      return "Email sent successfully";
   }   
}
</pre>
<p>You can write a method to send the email with Attachment. Define the mail.smtp properties and used PasswordAuthentication.</p>
<pre class="prettyprint notranslate">
private void sendmail() throws AddressException, MessagingException, IOException {
   Properties props = new Properties();
   props.put("mail.smtp.auth", "true");
   props.put("mail.smtp.starttls.enable", "true");
   props.put("mail.smtp.host", "smtp.gmail.com");
   props.put("mail.smtp.port", "587");
   
   Session session = Session.getInstance(props, new javax.mail.Authenticator() {
      protected PasswordAuthentication getPasswordAuthentication() {
         return new PasswordAuthentication("tutorialspoint@gmail.com", "&lt;your password&gt;");
      }
   });
   Message msg = new MimeMessage(session);
   msg.setFrom(new InternetAddress("tutorialspoint@gmail.com", false));

   msg.setRecipients(Message.RecipientType.TO, InternetAddress.parse("tutorialspoint@gmail.com"));
   msg.setSubject("Tutorials point email");
   msg.setContent("Tutorials point email", "text/html");
   msg.setSentDate(new Date());

   MimeBodyPart messageBodyPart = new MimeBodyPart();
   messageBodyPart.setContent("Tutorials point email", "text/html");

   Multipart multipart = new MimeMultipart();
   multipart.addBodyPart(messageBodyPart);
   MimeBodyPart attachPart = new MimeBodyPart();

   attachPart.attachFile("/var/tmp/image19.png");
   multipart.addBodyPart(attachPart);
   msg.setContent(multipart);
   Transport.send(msg);   
}
</pre>
<p>Now, call the above sendmail() method from the Rest API as shown &minus;</p>
<pre class="prettyprint notranslate">
@RequestMapping(value = "/sendemail")
public String sendEmail() throws AddressException, MessagingException, IOException {
   sendmail();
   return "Email sent successfully";   
}
</pre>
<p><b>Note</b> &minus; Please switch ON allow less secure apps in your Gmail account settings before sending an email.</p>
<p>The complete build configuration file is given below.</p>
<p><b>Maven – pom.xml</b></p> 
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;project xmlns = "http://maven.apache.org/POM/4.0.0" 
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation = "http://maven.apache.org/POM/4.0.0 
   http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
   
   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
   &lt;groupId&gt;com.tutorialspoint&lt;/groupId&gt;
   &lt;artifactId&gt;emailapp&lt;/artifactId&gt;
   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
   &lt;packaging&gt;jar&lt;/packaging&gt;
   &lt;name&gt;emailapp&lt;/name&gt;
   &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;
   
   &lt;parent&gt;
      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
      &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;
      &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;
   &lt;/parent&gt;
   
   &lt;properties&gt;
      &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
      &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;
   &lt;java.version&gt;1.8&lt;/java.version&gt;
   &lt;/properties&gt;
   
   &lt;dependencies&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
      &lt;/dependency&gt;
      
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;
      &lt;/dependency&gt;
      
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;
      &lt;/dependency&gt;
      
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
         &lt;scope&gt;test&lt;/scope&gt;
      &lt;/dependency&gt;
   &lt;/dependencies&gt;
   
   &lt;build&gt;
      &lt;plugins&gt;
         &lt;plugin&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
         &lt;/plugin&gt;
      &lt;/plugins&gt;
   &lt;/build&gt; 
   
&lt;/project&gt;
</pre>
<p><b>Gradle – build.gradle</b></p>
<pre class="prettyprint notranslate">
buildscript {
   ext {
      springBootVersion = '1.5.9.RELEASE'
   }
   repositories {
      mavenCentral()
   }
   dependencies {
      classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}")
   }
}

apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'org.springframework.boot'

group = 'com.tutorialspoint'
version = '0.0.1-SNAPSHOT'
sourceCompatibility = 1.8

repositories {
   mavenCentral()
}
dependencies {
   compile('org.springframework.boot:spring-boot-starter-web')
   compile('org.springframework.boot:spring-boot-starter-mail')
   testCompile('org.springframework.boot:spring-boot-starter-test')
}
</pre>
<p>Now, you can create an executable JAR file, and run the Spring Boot application by using the Maven or Gradle commands shown below &minus;</p>
<p>For Maven, you can use the command as shown &minus;</p>
<pre class="result notranslate">
mvn clean install
</pre>
<p>After “BUILD SUCCESS”, you can find the JAR file under the target directory.</p>
<p>For Gradle, you can use the command as shown &minus;</p>
<pre class="result notranslate">
gradle clean build
</pre>
<p>After “BUILD SUCCESSFUL”, you can find the JAR file under the build/libs directory.</p>
<p>Now, run the JAR file by using the command given below &minus;</p>
<pre class="result notranslate">
java –jar &lt;JARFILE&gt; 
</pre>
<p>You can see that the application has started on the Tomcat port 8080.</p>
<img src="/spring_boot/images/tomcat_port_8080_application_output.jpg" alt="Tomcat Port 8080 Application Output" />
<p>Now hit the following URL from your web browser and you will receive an email.</p>
<p><b>http://localhost:8080/sendemail</b></p> 
<img src="/spring_boot/images/email_sent_successfully_browser_window.jpg" alt="Email Sent Successfully Browser Window" />
<p></p>
<img src="/spring_boot/images/email_sent_successfully.jpg" alt="Email Sent Successfully" />
<h1>Spring Boot - Hystrix</h1>
<p>Hystrix is a library from Netflix. Hystrix isolates the points of access between the services, stops cascading failures across them and provides the fallback options.</p>
<p>For example, when you are calling a 3<sup>rd</sup> party application, it takes more time to send the response. So at that time, the control goes to the fallback method and returns the custom response to your application.</p>
<p>In this chapter you are going to see How to implement the Hystrix in a Spring Boot application.</p>
<p>First, we need to add the Spring Cloud Starter Hystrix dependency in our build configuration file.</p>
<p>Maven users can add the following dependency in the pom.xml file &minus;</p>
<pre class="prettyprint notranslate">
&lt;dependency&gt;
   &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
   &lt;artifactId&gt;spring-cloud-starter-hystrix&lt;/artifactId&gt;
&lt;/dependency&gt;
</pre>
<p>Gradle users can add the  following dependency in the build.gradle file &minus;</p>
<pre class="result notranslate">
compile('org.springframework.cloud:spring-cloud-starter-hystrix')
</pre>
<p>Now, add the @EnableHystrix annotation into your main Spring Boot application class file. The @EnableHystrix annotation is used to enable the Hystrix functionalities into your Spring Boot application.</p>
<p>The main Spring Boot application class file code is given below &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.hystrixapp;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.cloud.netflix.hystrix.EnableHystrix;

@SpringBootApplication
@EnableHystrix
public class HystrixappApplication {
   public static void main(String[] args) {
      SpringApplication.run(HystrixappApplication.class, args);
   }
}
</pre>
<p>Now write a simple Rest Controller such that it returns the String after 3 seconds from the requested time.</p> 
<pre class="prettyprint notranslate">
@RequestMapping(value = "/")
public String hello() throws InterruptedException {
   Thread.sleep(3000);
   return "Welcome Hystrix";
}
</pre>
<p>Now, add the @Hystrix command and @HystrixProperty for the Rest API and define the timeout in milliseconds value.</p>
<pre class="prettyprint notranslate">
@HystrixCommand(fallbackMethod = "fallback_hello", commandProperties = {
   @HystrixProperty(name = "execution.isolation.thread.timeoutInMilliseconds", value = "1000")
})
</pre>
<p>Next, define the fallback method fallback_hello() if the request takes a long time to respond.</p>
<pre class="prettyprint notranslate">
private String fallback_hello() {
   return "Request fails. It takes long time to response";
}
</pre>
<p>The complete Rest Controller class file that contains REST API and Hystrix properties is shown here &minus;</p>
<pre class="prettyprint notranslate">
@RequestMapping(value = "/")
@HystrixCommand(fallbackMethod = "fallback_hello", commandProperties = {
   @HystrixProperty(name = "execution.isolation.thread.timeoutInMilliseconds", value = "1000")
})
public String hello() throws InterruptedException {
   Thread.sleep(3000);
   return "Welcome Hystrix";
}
private String fallback_hello() {
   return "Request fails. It takes long time to response";
}
</pre>
<p>In this example, REST API written in main Spring Boot application class file itself.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.hystrixapp;

import org.springframework.boot.SpringApplication;
import com.netflix.hystrix.contrib.javanica.annotation.HystrixProperty;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.cloud.netflix.hystrix.EnableHystrix;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

import com.netflix.hystrix.contrib.javanica.annotation.HystrixCommand;

@SpringBootApplication
@EnableHystrix
@RestController
public class HystrixappApplication {
   public static void main(String[] args) {
      SpringApplication.run(HystrixappApplication.class, args);
   }
   @RequestMapping(value = "/")
   @HystrixCommand(fallbackMethod = "fallback_hello", commandProperties = {
      @HystrixProperty(name = "execution.isolation.thread.timeoutInMilliseconds", value = "1000")
   })
   public String hello() throws InterruptedException {
      Thread.sleep(3000);
      return "Welcome Hystrix";
   }
   private String fallback_hello() {
      return "Request fails. It takes long time to response";
   }
}
</pre>
<p>The complete build configuration file is given below.</p>
<p><b>Maven – pom.xml file</b></p>
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;project xmlns = "http://maven.apache.org/POM/4.0.0" 
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation = "http://maven.apache.org/POM/4.0.0 
   http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
   
   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
   &lt;groupId&gt;com.tutorialspoint&lt;/groupId&gt;
   &lt;artifactId&gt;hystrixapp&lt;/artifactId&gt;
   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
   &lt;packaging&gt;jar&lt;/packaging&gt;
   &lt;name&gt;hystrixapp&lt;/name&gt;
   &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;

   &lt;parent&gt;
      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
      &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;
      &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;
   &lt;/parent&gt;

   &lt;properties&gt;
      &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
      &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;
      &lt;java.version&gt;1.8&lt;/java.version&gt;
      &lt;spring-cloud.version&gt;Edgware.RELEASE&lt;/spring-cloud.version&gt;
   &lt;/properties&gt;

   &lt;dependencies&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
         &lt;artifactId&gt;spring-cloud-starter-hystrix&lt;/artifactId&gt;
      &lt;/dependency&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
      &lt;/dependency&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
         &lt;scope&gt;test&lt;/scope&gt;
      &lt;/dependency&gt;
   &lt;/dependencies&gt;

   &lt;dependencyManagement&gt;
      &lt;dependencies&gt;
         &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;
            &lt;version&gt;${spring-cloud.version}&lt;/version&gt;
            &lt;type&gt;pom&lt;/type&gt;
            &lt;scope&gt;import&lt;/scope&gt;
         &lt;/dependency&gt;
      &lt;/dependencies&gt;
   &lt;/dependencyManagement&gt;

   &lt;build&gt;
      &lt;plugins&gt;
         &lt;plugin&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
         &lt;/plugin&gt;
      &lt;/plugins&gt;
   &lt;/build&gt;
   
&lt;/project&gt;
</pre>
<p><b>Gradle – build.gradle</b></p> 
<pre class="prettyprint notranslate">
buildscript {
   ext {
      springBootVersion = '1.5.9.RELEASE'
   }
   repositories {
      mavenCentral()
   }
   dependencies {
      classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}")
   }
}
apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'org.springframework.boot'

group = 'com.tutorialspoint'
version = '0.0.1-SNAPSHOT'
sourceCompatibility = 1.8

repositories {
   mavenCentral()
}
ext {
   springCloudVersion = 'Edgware.RELEASE'
}
dependencies {
   compile('org.springframework.cloud:spring-cloud-starter-hystrix')
   compile('org.springframework.boot:spring-boot-starter-web')
   testCompile('org.springframework.boot:spring-boot-starter-test')
}
dependencyManagement {
   imports {
      mavenBom "org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}"
   }
}
</pre>
<p>You can create an executable JAR file, and run the Spring Boot application by using the following Maven or Gradle commands &minus;</p>
<p>For Maven, use the command as shown &minus;</p>
<pre class="result notranslate">
mvn clean install
</pre>
<p>After “BUILD SUCCESS”, you can find the JAR file under the target directory.</p>
<p>For Gradle, use the command as shown &minus;</p>
<pre class="result notranslate">
gradle clean build
</pre>
<p>After “BUILD SUCCESSFUL”, you can find the JAR file under the build/libs directory.</p>
<p>Now, run the JAR file by using the command given below &minus;</p>
<pre class="result notranslate">
java –jar &lt;JARFILE&gt; 
</pre>
<p>This will start the application on the Tomcat port 8080 as shown below &minus;</p>
<img src="/spring_boot/images/tomcat_application_command_prompt.jpg" alt="Tomcat Application Command Prompt" />
<p>Now, hit the URL <b>http://localhost:8080/</b> from your web browser, and see the Hystrix response. The API takes 3 seconds to respond, but Hystrix timeout is 1 second.</p>
<img src="/spring_boot/images/request_fail_hystrix_timeout.jpg" alt="Request Fail Hystrix Timeout" />
<h1>Spring Boot - Web Socket</h1>
<p>In this chapter, let us understand how to build an interactive web application by using Spring Boot with Web sockets.</p> 
<p>To build an interactive web application in Spring Boot with Web socket, you need to add the following dependencies.</p>
<p>Maven users should add the following dependencies in the pom.xml file.</p>
<pre class="prettyprint notranslate">
&lt;dependency&gt;
   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
   &lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
   &lt;groupId&gt;org.webjars&lt;/groupId&gt;
   &lt;artifactId&gt;webjars-locator&lt;/artifactId&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
   &lt;groupId&gt;org.webjars&lt;/groupId&gt;
   &lt;artifactId&gt;sockjs-client&lt;/artifactId&gt;
   &lt;version&gt;1.0.2&lt;/version&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
   &lt;groupId&gt;org.webjars&lt;/groupId&gt;
   &lt;artifactId&gt;stomp-websocket&lt;/artifactId&gt;
   &lt;version&gt;2.3.3&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
   &lt;groupId&gt;org.webjars&lt;/groupId&gt;
   &lt;artifactId&gt;bootstrap&lt;/artifactId&gt;
   &lt;version&gt;3.3.7&lt;/version&gt;        &lt;/dependency&gt;
&lt;dependency&gt;
   &lt;groupId&gt;org.webjars&lt;/groupId&gt;
   &lt;artifactId&gt;jquery&lt;/artifactId&gt;
   &lt;version&gt;3.1.0&lt;/version&gt;
&lt;/dependency&gt;
</pre>
<p>Gradle users can add the following dependencies in your build.gradle file &minus;</p>
<pre class="prettyprint notranslate">
compile("org.springframework.boot:spring-boot-starter-websocket")
compile("org.webjars:webjars-locator")
compile("org.webjars:sockjs-client:1.0.2")
compile("org.webjars:stomp-websocket:2.3.3")
compile("org.webjars:bootstrap:3.3.7")
compile("org.webjars:jquery:3.1.0")
</pre>
<p>Let us create a Message handling controller to work with STOMP messaging. STOMP messages can be routed to @Controller class file. For example, GreetingController is mapped to handle the messages to destination “/hello”.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.websocketapp;

import org.springframework.messaging.handler.annotation.MessageMapping;
import org.springframework.messaging.handler.annotation.SendTo;
import org.springframework.stereotype.Controller;

@Controller
public class GreetingController {
   @MessageMapping("/hello")
   @SendTo("/topic/greetings")
   public Greeting greeting(HelloMessage message) throws Exception {
      Thread.sleep(1000); // simulated delay
      return new Greeting("Hello, " + message.getName() + "!");
   }
}
</pre>
<p>Now, configure Spring for STOMP messaging. Write a WebSocketConfig class file that extends the AbstractWebSocketMessageBrokerConfigurer class as shown below.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.websocketapp;

import org.springframework.context.annotation.Configuration;
import org.springframework.messaging.simp.config.MessageBrokerRegistry;
import org.springframework.web.socket.config.annotation.AbstractWebSocketMessageBrokerConfigurer;
import org.springframework.web.socket.config.annotation.EnableWebSocketMessageBroker;
import org.springframework.web.socket.config.annotation.StompEndpointRegistry;

@Configuration
@EnableWebSocketMessageBroker
public class WebSocketConfig extends AbstractWebSocketMessageBrokerConfigurer {
   @Override
   public void configureMessageBroker(MessageBrokerRegistry config) {
      config.enableSimpleBroker("/topic");
      config.setApplicationDestinationPrefixes("/app");
   }
   @Override
   public void registerStompEndpoints(StompEndpointRegistry registry) {
      registry.addEndpoint("/tutorialspoint-websocket").withSockJS();
   }
}
</pre>
<p>The @EnableWebSocketMessageBroker annotation is used to configure the Web socket message broker to create STOMP endpoints.</p>
<p>You can create a browser client file under the src/main/resources/static/index.html as shown &minus;</p>
<pre class="prettyprint notranslate">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
   &lt;head&gt;
      &lt;title&gt;Hello WebSocket&lt;/title&gt;
      &lt;link href = "/webjars/bootstrap/css/bootstrap.min.css" rel = "stylesheet"&gt;
      &lt;link href = "/main.css" rel = "stylesheet"&gt;
      &lt;script src = "/webjars/jquery/jquery.min.js"&gt;&lt;/script&gt;
      &lt;script src = "/webjars/sockjs-client/sockjs.min.js"&gt;&lt;/script&gt;
      &lt;script src = "/webjars/stomp-websocket/stomp.min.js"&gt;&lt;/script&gt;
      &lt;script src = "/app.js"&gt;&lt;/script&gt;
   &lt;/head&gt;
   
   &lt;body&gt;
      &lt;noscript&gt;
         &lt;h2 style = "color: #ff0000"&gt;
            Seems your browser doesn't support Javascript! Websocket relies on Javascript being
            enabled. Please enable Javascript and reload this page!
         &lt;/h2&gt;
      &lt;/noscript&gt;
      &lt;div id = "main-content" class = "container"&gt;
         &lt;div class = "row"&gt;
            &lt;div class = "col-md-6"&gt;
               &lt;form class = "form-inline"&gt;
                  &lt;div class = "form-group"&gt;
                     &lt;label for = "connect"&gt;WebSocket connection:&lt;/label&gt;
                     &lt;button id = "connect" class = "btn btn-default" type = "submit"&gt;Connect&lt;/button&gt;
                     &lt;button id = "disconnect" class = "btn btn-default" type = "submit" disabled = "disabled"&gt;Disconnect
                     &lt;/button&gt;
                  &lt;/div&gt;
               &lt;/form&gt;
            &lt;/div&gt;
            
            &lt;div class = "col-md-6"&gt;
               &lt;form class = "form-inline"&gt;
                  &lt;div class = "form-group"&gt;
                     &lt;label for = "name"&gt;What is your name?&lt;/label&gt;
                     &lt;input type = "text" id = "name" class = "form-control" placeholder = "Your name here..."&gt;
                  &lt;/div&gt;
                  &lt;button id = "send" class = "btn btn-default" type = "submit"&gt;Send&lt;/button&gt;
               &lt;/form&gt;
            &lt;/div&gt;
         &lt;/div&gt;
         
         &lt;div class  =  "row"&gt;
            &lt;div class  =  "col-md-12"&gt;
               &lt;table id  =  "conversation" class = "table table-striped"&gt;
                  &lt;thead&gt;
                     &lt;tr&gt;
                        &lt;th&gt;Greetings&lt;/th&gt;
                     &lt;/tr&gt;
                  &lt;/thead&gt;
                  &lt;tbody id  =  "greetings"&gt;&lt;/tbody&gt;
               &lt;/table&gt;
            &lt;/div&gt;
         &lt;/div&gt;
      &lt;/div&gt;
   &lt;/body&gt;
&lt;/html&gt;
</pre>
<p>Let us create an app.js file to consume and produce the messages by using STOMP.</p>
<pre class="prettyprint notranslate">
var stompClient = null;

function setConnected(connected) {
   $("#connect").prop("disabled", connected);
   $("#disconnect").prop("disabled", !connected);
   
   if (connected) {
      $("#conversation").show();
   } else {
      $("#conversation").hide();
   }
   $("#greetings").html("");
}

function connect() {
   var socket = new SockJS('/tutorialspoint-websocket');
   stompClient = Stomp.over(socket);
   stompClient.connect({}, function (frame) {
      setConnected(true);
      console.log('Connected: ' + frame);
      stompClient.subscribe('/topic/greetings', function (greeting) {
         showGreeting(JSON.parse(greeting.body).content);
      });
   });
}
function disconnect() {
   if (stompClient !== null) {
      stompClient.disconnect();
   }
   setConnected(false);
   console.log("Disconnected");
}
function sendName() {
   stompClient.send("/app/hello", {}, JSON.stringify({'name': $("#name").val()}));
}
function showGreeting(message) {
   $("#greetings").append("&lt;tr&gt;&lt;td&gt;" + message + "&lt;/td&gt;&lt;/tr&gt;");
}
$(function () {
   $( "form" ).on('submit', function (e) {e.preventDefault();});
   $( "#connect" ).click(function() { connect(); });
   $( "#disconnect" ).click(function() { disconnect(); });
   $( "#send" ).click(function() { sendName(); });
});
</pre>
<p>The code for main Spring Boot application is shown below.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.websocketapp;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class WebsocketappApplication {
   public static void main(String[] args) {
      SpringApplication.run(WebsocketappApplication.class, args);
   }  
}
</pre>
<p>The complete build configuration file is given below.</p>
<p><b>Maven – pom.xml</b></p>
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;project xmlns = "http://maven.apache.org/POM/4.0.0" 
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation = "http://maven.apache.org/POM/4.0.0 
   http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
   
   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
   &lt;groupId&gt;com.tutorialspoint&lt;/groupId&gt;
   &lt;artifactId&gt;websocketapp&lt;/artifactId&gt;
   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
   &lt;packaging&gt;jar&lt;/packaging&gt;
   &lt;name&gt;websocketapp&lt;/name&gt;
   &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;

   &lt;parent&gt;
      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
      &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;
   &lt;/parent&gt;

   &lt;dependencies&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;
      &lt;/dependency&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;org.webjars&lt;/groupId&gt;
         &lt;artifactId&gt;webjars-locator&lt;/artifactId&gt;
      &lt;/dependency&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;org.webjars&lt;/groupId&gt;
         &lt;artifactId&gt;sockjs-client&lt;/artifactId&gt;
         &lt;version&gt;1.0.2&lt;/version&gt;
      &lt;/dependency&gt;
      
      &lt;dependency&gt;
         &lt;groupId&gt;org.webjars&lt;/groupId&gt;
         &lt;artifactId&gt;stomp-websocket&lt;/artifactId&gt;
         &lt;version&gt;2.3.3&lt;/version&gt;
      &lt;/dependency&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;org.webjars&lt;/groupId&gt;
         &lt;artifactId&gt;bootstrap&lt;/artifactId&gt;
         &lt;version&gt;3.3.7&lt;/version&gt;
      &lt;/dependency&gt;
      
      &lt;dependency&gt;
         &lt;groupId&gt;org.webjars&lt;/groupId&gt;
         &lt;artifactId&gt;jquery&lt;/artifactId&gt;
         &lt;version&gt;3.1.0&lt;/version&gt;
      &lt;/dependency&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
         &lt;scope&gt;test&lt;/scope&gt;
      &lt;/dependency&gt;
   &lt;/dependencies&gt;
   
   &lt;properties&gt;
      &lt;java.version&gt;1.8&lt;/java.version&gt;
   &lt;/properties&gt;
   
   &lt;build&gt;
      &lt;plugins&gt;
         &lt;plugin&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
         &lt;/plugin&gt;
      &lt;/plugins&gt;
   &lt;/build&gt;
   
&lt;/project&gt;
</pre>
<p><b>Gradle – build.gradle</b></p>
<pre class="prettyprint notranslate">
buildscript {
   repositories {
      mavenCentral()
   }
   dependencies {
      classpath("org.springframework.boot:spring-boot-gradle-plugin:1.5.9.RELEASE")
   }
}
apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'org.springframework.boot'

jar {
   baseName = 'websocketapp'
   version =  '0.1.0'
}
sourceCompatibility = 1.8
targetCompatibility = 1.8

repositories {
   mavenCentral()
}
dependencies {
   compile("org.springframework.boot:spring-boot-starter-websocket")
   compile("org.webjars:webjars-locator")
   compile("org.webjars:sockjs-client:1.0.2")
   compile("org.webjars:stomp-websocket:2.3.3")
   compile("org.webjars:bootstrap:3.3.7")
   compile("org.webjars:jquery:3.1.0")

   testCompile("org.springframework.boot:spring-boot-starter-test")
}
</pre>
<h1>Spring Boot - Batch Service</h1>
<p>You can create an executable JAR file, and run the Spring Boot application by using the Maven or Gradle commands as shown below &minus;</p>
<p>For Maven, you can use the command given below &minus;</p>
<pre class="result notranslate">
mvn clean install
</pre>
<p>After “BUILD SUCCESS”, you can find the JAR file under the target directory.</p>
<p>For Gradle, you can use the command as shown &minus;</p>
<pre class="result notranslate">
gradle clean build
</pre>
<p>After “BUILD SUCCESSFUL”, you can find the JAR file under the build/libs directory.</p>
<p>Run the JAR file by using the command given here &minus;</p>
<pre class="result notranslate">
java –jar &lt;JARFILE&gt;
</pre> 
<p>Now, the application has started on the Tomcat port 8080 as shown.</p>
<img src="/spring_boot/images/batch_service_application_started_on_tomcat_port.jpg" alt="Batch Service application started on Tomcat port" />
<p>Now, hit the URL <b>http://localhost:8080/</b> in your web browser and connect the web socket and send the greeting and receive the message.</p> 
<img src="/spring_boot/images/web_socket_send_receive_message.jpg" alt="Web Socket Send and Receive Message" />
<p>Batch Service is a process to execute more than one command in a single task. In this chapter, you are going to learn how to create batch service in a Spring Boot application.</p>
<p>Let us consider an example where we are going to save the CSV file content into HSQLDB.</p>
<p>To create a Batch Service program, we need to add the Spring Boot Starter Batch dependency and HSQLDB dependency in our build configuration file.</p>
<p>Maven users can add the following dependencies in pom.xml file.</p>
<pre class="prettyprint notranslate">
&lt;dependency&gt;
   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
   &lt;artifactId&gt;spring-boot-starter-batch&lt;/artifactId&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
   &lt;groupId&gt;org.hsqldb&lt;/groupId&gt;
   &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;
&lt;/dependency&gt;
</pre>
<p>Gradle users can add the following dependencies in build.gradle file.</p>
<pre class="result notranslate">
compile("org.springframework.boot:spring-boot-starter-batch")
compile("org.hsqldb:hsqldb")
</pre>
<p>Now, add the simple CSV data file under classpath resources – src/main/resources and name the file as file.csv as shown &minus;</p>
<pre class="result notranslate">
William,John
Mike, Sebastian
Lawarance, Lime
</pre>
<p>Next, write a SQL script for HSQLDB – under the classpath resource directory – <b>request_fail_hystrix_timeout</b></p> 
<pre class="result notranslate">
DROP TABLE USERS IF EXISTS;
CREATE TABLE USERS  (
   user_id BIGINT IDENTITY NOT NULL PRIMARY KEY,
   first_name VARCHAR(20),
   last_name VARCHAR(20)
);
</pre>
<p>Create a POJO class for USERS model as shown &minus;</p>
<pre class="result notranslate">
package com.tutorialspoint.batchservicedemo;
public class User {
   private String lastName;
   private String firstName;

   public User() {
   }
   public User(String firstName, String lastName) {
      this.firstName = firstName;
      this.lastName = lastName;
   }
   public void setFirstName(String firstName) {
      this.firstName = firstName;
   }
   public String getFirstName() {
      return firstName;
   }
   public String getLastName() {
      return lastName;
   }
   public void setLastName(String lastName) {
      this.lastName = lastName;
   }

   @Override
   public String toString() {
      return "firstName: " + firstName + ", lastName: " + lastName;
   }   
}
</pre>
<p>Now, create an intermediate processor to do the operations after the reading the data from the CSV file and before writing the data into SQL.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.batchservicedemo;

import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.batch.item.ItemProcessor;

public class UserItemProcessor implements ItemProcessor&lt;User, User&gt; {
   private static final Logger log = LoggerFactory.getLogger(UserItemProcessor.class);

   @Override
   public User process(final User user) throws Exception {
      final String firstName = user.getFirstName().toUpperCase();
      final String lastName = user.getLastName().toUpperCase();
      final User transformedPerson = new User(firstName, lastName);

      log.info("Converting (" + user + ") into (" + transformedPerson + ")");
      return transformedPerson;
   }
}
</pre>
<p>Let us create a Batch configuration file, to read the data from CSV and write into the SQL file as shown below. We need to add the @EnableBatchProcessing annotation in the configuration class file. The @EnableBatchProcessing annotation is used to enable the batch operations for your Spring Boot application.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.batchservicedemo;

import javax.sql.DataSource;
import org.springframework.batch.core.Job;
import org.springframework.batch.core.Step;

import org.springframework.batch.core.configuration.annotation.EnableBatchProcessing;
import org.springframework.batch.core.configuration.annotation.JobBuilderFactory;
import org.springframework.batch.core.configuration.annotation.StepBuilderFactory;
import org.springframework.batch.core.launch.support.RunIdIncrementer;
import org.springframework.batch.item.database.BeanPropertyItemSqlParameterSourceProvider;
import org.springframework.batch.item.database.JdbcBatchItemWriter;
import org.springframework.batch.item.file.FlatFileItemReader;
import org.springframework.batch.item.file.mapping.BeanWrapperFieldSetMapper;
import org.springframework.batch.item.file.mapping.DefaultLineMapper;
import org.springframework.batch.item.file.transform.DelimitedLineTokenizer;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.core.io.ClassPathResource;

@Configuration
@EnableBatchProcessing
public class BatchConfiguration {
   @Autowired
   public JobBuilderFactory jobBuilderFactory;

   @Autowired
   public StepBuilderFactory stepBuilderFactory;

   @Autowired
   public DataSource dataSource;

   @Bean
   public FlatFileItemReader&lt;User&gt; reader() {
      FlatFileItemReader&lt;User&gt; reader = new FlatFileItemReader&lt;User&gt;();
      reader.setResource(new ClassPathResource("file.csv"));
      reader.setLineMapper(new DefaultLineMapper&lt;User&gt;() {
         {
            setLineTokenizer(new DelimitedLineTokenizer() {
               {
                  setNames(new String[] { "firstName", "lastName" });
               }
            });
            setFieldSetMapper(new BeanWrapperFieldSetMapper&lt;User&gt;() {
               {
                  setTargetType(User.class);
               }
            });
         }
      });
      return reader;
   }
   @Bean
   public UserItemProcessor processor() {
      return new UserItemProcessor();
   }
   @Bean
   public JdbcBatchItemWriter&lt;User&gt; writer() {
      JdbcBatchItemWriter&lt;User&gt; writer = new JdbcBatchItemWriter&lt;User&gt;();
      writer.setItemSqlParameterSourceProvider(new BeanPropertyItemSqlParameterSourceProvider&lt;User&gt;());
      writer.setSql("INSERT INTO USERS (first_name, last_name) VALUES (:firstName, :lastName)");
      writer.setDataSource(dataSource);
      return writer;
   }
   @Bean
   public Job importUserJob(JobCompletionNotificationListener listener) {
      return jobBuilderFactory.get("importUserJob").incrementer(
         new RunIdIncrementer()).listener(listener).flow(step1()).end().build();
   }
   @Bean
   public Step step1() {
      return stepBuilderFactory.get("step1").&lt;User, User&gt;chunk(10).reader(reader()).processor(processor()).writer(writer()).build();
   }
}
</pre>
<p>The <b>reader()</b> method is used to read the data from the CSV file and writer() method is used to write a data into the SQL.</p>
<p>Next, we will have to write a Job Completion Notification Listener class – used to notify after the Job completion.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.batchservicedemo;

import java.sql.ResultSet;
import java.sql.SQLException;
import java.util.List;

import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

import org.springframework.batch.core.BatchStatus;
import org.springframework.batch.core.JobExecution;
import org.springframework.batch.core.listener.JobExecutionListenerSupport;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.jdbc.core.JdbcTemplate;
import org.springframework.jdbc.core.RowMapper;
import org.springframework.stereotype.Component;

@Component
public class JobCompletionNotificationListener extends JobExecutionListenerSupport {
   private static final Logger log = LoggerFactory.getLogger(JobCompletionNotificationListener.class);
   private final JdbcTemplate jdbcTemplate;

   @Autowired
   public JobCompletionNotificationListener(JdbcTemplate jdbcTemplate) {
      this.jdbcTemplate = jdbcTemplate;
   }
   @Override
   public void afterJob(JobExecution jobExecution) {
      if (jobExecution.getStatus() == BatchStatus.COMPLETED) {
         log.info("!!! JOB FINISHED !! It's time to verify the results!!");

         List&lt;User&gt; results = jdbcTemplate.query(
            "SELECT first_name, last_name FROM USERS", new RowMapper&lt;User&gt;() {
            
            @Override
            public User mapRow(ResultSet rs, int row) throws SQLException {
               return new User(rs.getString(1), rs.getString(2));
            }
         });

         for (User person : results) {
            log.info("Found &lt;" + person + "&gt; in the database.");
         }
      }
   }
}
</pre>
<p>Now, create an executable JAR file, and run the Spring Boot application by using the following Maven or Gradle commands.</p>
<p>For Maven, use the command as shown &minus;</p>
<pre class="result notranslate">
mvn clean install
</pre>
<p>After “BUILD SUCCESS”, you can find the JAR file under the target directory.</p>
<p>For Gradle, you can use the command as shown &minus;</p>
<pre class="result notranslate">
gradle clean build
</pre>
<p>After “BUILD SUCCESSFUL”, you can find the JAR file under the build/libs directory.</p>
<p>Run the JAR file by using the command given here &minus;</p>
<pre class="result notranslate">
java –jar &lt;JARFILE&gt;
</pre>
<p>You can see the output in console window as shown &minus;</p>
<img src="/spring_boot/images/batch_service_output_in_console_window.jpg" alt="Batch Service Otput in Console Window" />
<h1>Spring Boot - Apache Kafka</h1>
<p>Apache Kafka is an open source project used to publish and subscribe the messages based on the fault-tolerant messaging system. It is fast, scalable and distributed by design. If you are a beginner to Kafka, or want to gain a better understanding on it, please refer to this link &minus; <a href="/apache_kafka/index.htm">www.tutorialspoint.com/apache_kafka/</a></p> 
<p>In this chapter, we are going to see how to implement the Apache Kafka in Spring Boot application.</p>
<p>First, we need to add the Spring Kafka dependency in our build configuration file. </p>
<p>Maven users can add the following dependency in the pom.xml file.</p>
<pre class="prettyprint notranslate">
&lt;dependency&gt;
   &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;
   &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;
   &lt;version&gt;2.1.0.RELEASE&lt;/version&gt;
&lt;/dependency&gt;
</pre>
<p>Gradle users can add the following dependency in the build.gradle file.</p>
<pre class="result notranslate">
compile group: 'org.springframework.kafka', name: 'spring-kafka', version: '2.1.0.RELEASE'
</pre>
<h2>Producing Messages</h2>
<p>To produce messages into Apache Kafka, we need to define the Configuration class for Producer configuration as shown &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.kafkademo;

import java.util.HashMap;
import java.util.Map;

import org.apache.kafka.clients.producer.ProducerConfig;
import org.apache.kafka.common.serialization.StringSerializer;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.kafka.core.DefaultKafkaProducerFactory;
import org.springframework.kafka.core.KafkaTemplate;
import org.springframework.kafka.core.ProducerFactory;

@Configuration
public class KafkaProducerConfig {
   @Bean
   public ProducerFactory&lt;String, String&gt; producerFactory() {
      Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();
      configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, "localhost:9092");
      configProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);
      configProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class);
      return new DefaultKafkaProducerFactory&lt;&gt;(configProps);
   }
   @Bean
   public KafkaTemplate&lt;String, String&gt; kafkaTemplate() {
      return new KafkaTemplate&lt;&gt;(producerFactory());
   }
}
</pre>
<p>To publish a message, auto wire the Kafka Template object and produce the message as shown.</p>
<pre class="prettyprint notranslate">
@Autowired
private KafkaTemplate&lt;String, String&gt; kafkaTemplate;
 
public void sendMessage(String msg) {
   kafkaTemplate.send(topicName, msg);
}   
</pre>
<h2>Consuming a Message</h2>
<p>To consume messages, we need to write a Consumer configuration class file as shown below.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.kafkademo;

import java.util.HashMap;
import java.util.Map;

import org.apache.kafka.clients.consumer.ConsumerConfig;
import org.apache.kafka.common.serialization.StringDeserializer;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.kafka.annotation.EnableKafka;
import org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory;
import org.springframework.kafka.core.ConsumerFactory;
import org.springframework.kafka.core.DefaultKafkaConsumerFactory;

@EnableKafka
@Configuration
public class KafkaConsumerConfig {
   @Bean
   public ConsumerFactory&lt;String, String&gt; consumerFactory() {
      Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();
      props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, "localhost:2181");
      props.put(ConsumerConfig.GROUP_ID_CONFIG, "group-id");
      props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);
      props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);
      return new DefaultKafkaConsumerFactory&lt;&gt;(props);
   }
   @Bean
   public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactory() {
      ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; 
      factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();
      factory.setConsumerFactory(consumerFactory());
      return factory;
   }
}      
</pre>
<p>Next, write a Listener to listen to the messages.</p>
<pre class="prettyprint notranslate">
@KafkaListener(topics = "tutorialspoint", groupId = "group-id")
public void listen(String message) {
   System.out.println("Received Messasge in group - group-id: " + message);
}
</pre>
<p>Let us call the sendMessage() method from ApplicationRunner class run method from the main Spring Boot application class file and consume the message from the same class file.</p>
<p>Your main Spring Boot application class file code is given below &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.kafkademo;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.ApplicationArguments;
import org.springframework.boot.ApplicationRunner;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.kafka.annotation.KafkaListener;
import org.springframework.kafka.core.KafkaTemplate;

@SpringBootApplication
public class KafkaDemoApplication implements ApplicationRunner {
   @Autowired
   private KafkaTemplate&lt;String, String&gt; kafkaTemplate;

   public void sendMessage(String msg) {
      kafkaTemplate.send("tutorialspoint", msg);
   }
   public static void main(String[] args) {
      SpringApplication.run(KafkaDemoApplication.class, args);
   }
   @KafkaListener(topics = "tutorialspoint", groupId = "group-id")
   public void listen(String message) {
      System.out.println("Received Messasge in group - group-id: " + message);
   }
   @Override
   public void run(ApplicationArguments args) throws Exception {
      sendMessage("Hi Welcome to Spring For Apache Kafka");
   }
}
</pre>
<p>The code for complete build configuration file is given below.</p>
<p><b>Maven – pom.xml</b></p>
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;project xmlns = "http://maven.apache.org/POM/4.0.0" 
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation = "http://maven.apache.org/POM/4.0.0 
   http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
   
   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
   &lt;groupId&gt;com.tutorialspoint&lt;/groupId&gt;
   &lt;artifactId&gt;kafka-demo&lt;/artifactId&gt;
   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
   &lt;packaging&gt;jar&lt;/packaging&gt;
   &lt;name&gt;kafka-demo&lt;/name&gt;
   &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;

   &lt;parent&gt;
      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
      &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;
      &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;
   &lt;/parent&gt;

   &lt;properties&gt;
      &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
      &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;
      &lt;java.version&gt;1.8&lt;/java.version&gt;
   &lt;/properties&gt;

   &lt;dependencies&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;
      &lt;/dependency&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;
         &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;
         &lt;version&gt;2.1.0.RELEASE&lt;/version&gt;
      &lt;/dependency&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
         &lt;scope&gt;test&lt;/scope&gt;
      &lt;/dependency&gt;
   &lt;/dependencies&gt;

   &lt;build&gt;
      &lt;plugins&gt;
         &lt;plugin&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
         &lt;/plugin&gt;
      &lt;/plugins&gt;
   &lt;/build&gt;
   
&lt;/project&gt;
</pre>
<p><b>Gradle – build.gradle</b></p>
<pre class="prettyprint notranslate">
buildscript {
   ext {
      springBootVersion = '1.5.9.RELEASE'
   }
   repositories {
      mavenCentral()
   }
   dependencies {
      classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}")
   }
}

apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'org.springframework.boot'

group = 'com.tutorialspoint'
version = '0.0.1-SNAPSHOT'
sourceCompatibility = 1.8

repositories {
   mavenCentral()
}
dependencies {
   compile('org.springframework.boot:spring-boot-starter')
   compile group: 'org.springframework.kafka', name: 'spring-kafka', version: '2.1.0.RELEASE'
   testCompile('org.springframework.boot:spring-boot-starter-test')
}   
</pre>
<p>Now, create an executable JAR file, and run the Spring Boot application by using the below Maven or Gradle commands as shown &minus;</p>
<p>For Maven, use the command as shown &minus;</p>
<pre class="result notranslate">
mvn clean install
</pre>
<p>After “BUILD SUCCESS”, you can find the JAR file under the target directory.</p>
<p>For Gradle, use the command as shown &minus;</p>
<pre class="result notranslate">
gradle clean build
</pre>
<p>After “BUILD SUCCESSFUL”, you can find the JAR file under the build/libs directory.</p>
<p>Run the JAR file by using the command given here &minus;</p>
<pre class="result notranslate">
java –jar &lt;JARFILE&gt; 
</pre>
<p>You can see the output in console window.</p>
<h1>Spring Boot - Twilio</h1>
<p>Twilio is a 3<sup>rd</sup> party application used to send SMS and make voice calls from our application. It allows us to send the SMS and make voice calls programmatically.</p>
<p>In this chapter, you are going to learn how to implement the SMS sending and making voice calls by using Spring Boot with Twilio.</p>
<p><b>Note</b> &minus; We used the Trail account in Twilio to send the SMS and making voice calls. You can learn more about Twilio at <a href="https://www.twilio.com/" rel="nofollow" target="_blank">www.twilio.com</a>.</p> 
<p>First, we need to add the Twilio dependency in our build configuration file.</p>
<p>Maven users can add the following dependency in the pom.xml file.</p>
<pre class="prettyprint notranslate">
&lt;dependency&gt;
   &lt;groupId&gt;com.twilio.sdk&lt;/groupId&gt;
   &lt;artifactId&gt;twilio&lt;/artifactId&gt;
   &lt;version&gt;7.16.1&lt;/version&gt;
&lt;/dependency&gt;
</pre>
<p>Gradle users can add the following dependency in the build.gradle file.</p>
<pre class="result notranslate">
compile group: "com.twilio.sdk", name:"twilio", version: "7.16.1"   
</pre>
<p>Now, initialize the Twilio account with ACCOUNT_SID and AUTH_ID in static block as shown &minus;</p>
<pre class="prettyprint notranslate">
static {
   Twilio.init(ACCOUNT_SID, AUTH_ID);
}
</pre>
<h2>Sending SMS</h2>
<p>To send the SMS, we need to provide a from-number and to-number to the Message.create() method. Message body content also we need to provide for the method Message.creator()as shown &minus;</p>
<pre class="result notranslate">
Message.creator(new PhoneNumber("to-number"), new PhoneNumber("from-number"),
   "Message from Spring Boot Application").create();
</pre>
<p>The main Spring Boot application class file looks below.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.smsdemo;

import org.springframework.boot.ApplicationArguments;
import org.springframework.boot.ApplicationRunner;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

import com.twilio.Twilio;
import com.twilio.rest.api.v2010.account.Message;
import com.twilio.type.PhoneNumber;

@SpringBootApplication
public class SmsdemoApplication implements ApplicationRunner {
   private final static String ACCOUNT_SID = "&lt;your-account-sid&gt;";
   private final static String AUTH_ID = "&lt;your-auth-id&gt;";

   static {
      Twilio.init(ACCOUNT_SID, AUTH_ID);
   }
   public static void main(String[] args) {
      SpringApplication.run(SmsdemoApplication.class, args);
   }
   @Override
   public void run(ApplicationArguments arg0) throws Exception {
      Message.creator(new PhoneNumber("to-number"), new PhoneNumber("from-number"),
         "Message from Spring Boot Application").create();
   }
}
</pre>
<p>The complete code to build configuration file is given below &minus;</p>
<p><b>Maven – pom.xml</b></p>
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;project xmlns = "http://maven.apache.org/POM/4.0.0" 
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation = "http://maven.apache.org/POM/4.0.0 
   http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
   
   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
   &lt;groupId&gt;com.tutorialspoint&lt;/groupId&gt;
   &lt;artifactId&gt;smsdemo&lt;/artifactId&gt;
   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
   &lt;packaging&gt;jar&lt;/packaging&gt;
   &lt;name&gt;smsdemo&lt;/name&gt;
   &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;

   &lt;parent&gt;
      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
      &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;
      &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;
   &lt;/parent&gt;

   &lt;properties&gt;
      &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
      &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;
      &lt;java.version&gt;1.8&lt;/java.version&gt;
   &lt;/properties&gt;

   &lt;dependencies&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;
      &lt;/dependency&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
         &lt;scope&gt;test&lt;/scope&gt;
      &lt;/dependency&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;com.twilio.sdk&lt;/groupId&gt;
         &lt;artifactId&gt;twilio&lt;/artifactId&gt;
         &lt;version&gt;7.16.1&lt;/version&gt;
      &lt;/dependency&gt;
   &lt;/dependencies&gt;

   &lt;build&gt;
      &lt;plugins&gt;
         &lt;plugin&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
         &lt;/plugin&gt;
      &lt;/plugins&gt;
   &lt;/build&gt;
   
&lt;/project&gt;
</pre>
<p><b>Gradle – build.gradle</b></p>
<pre class="prettyprint notranslate">
buildscript {
   ext {
      springBootVersion = '1.5.9.RELEASE'
   }
   repositories {
      mavenCentral()
   }
   dependencies {
      classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}")
   }
}
apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'org.springframework.boot'

group = 'com.tutorialspoint'
version = '0.0.1-SNAPSHOT'
sourceCompatibility = 1.8

repositories {
   mavenCentral()
}
dependencies {
   compile('org.springframework.boot:spring-boot-starter')
   testCompile('org.springframework.boot:spring-boot-starter-test')
   compile group: "com.twilio.sdk", name:"twilio", version: "7.11.+"   
}
</pre>
<p>You can create an executable JAR file, and run the spring boot application by using the following Maven or Gradle commands &minus;</p>
<p>For Maven, use the command as shown &minus;</p>
<pre class="result notranslate">
mvn clean install
</pre>
<p>After “BUILD SUCCESS”, you can find the JAR file under the target directory.</p>
<p>For Gradle, use the command as shown &minus;</p>
<pre class="result notranslate">
gradle clean build
</pre>
<p>After “BUILD SUCCESSFUL”, you can find the JAR file under the build/libs directory.</p>
<p>Run the JAR file by using the command as given below &minus;</p>
<pre class="result notranslate">
java –jar &lt;JARFILE&gt; 
</pre>
<p>Now, you will receive the SMS to your “to-number”.</p>
<p>Message received to “to-number”.</p>
<pre class="result notranslate">
Sent from your Twilio trail account
- Message from Spring Boot Application
</pre>
<p><b>Note</b> &minus; In this example, we used the Trail account. So, you should verify the numbers before sending the SMS.</p>
<h2>Voice Calls</h2>
<p>To make voice calls by using Twilio, we need to call the Call.creator() method. For this method, we need to provide a to-number, from-number, and voice-note as shown here.</p>
<pre class="result notranslate">
Call.creator(new PhoneNumber("&lt;to-number&gt;"), new PhoneNumber("&lt;from-number&gt;"),
   new URI("http://demo.twilio.com/docs/voice.xml")).create();
</pre>            
<p>The code for main Spring Boot application class file is given below.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.smsdemo; 

import java.net.URI;

import org.springframework.boot.ApplicationArguments;
import org.springframework.boot.ApplicationRunner;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

import com.twilio.Twilio;
import com.twilio.rest.api.v2010.account.Call;
import com.twilio.type.PhoneNumber;

@SpringBootApplication
public class SmsdemoApplication implements ApplicationRunner {
   private final static String ACCOUNT_SID = "&lt;ACCOUNT-SID&gt;";
   private final static String AUTH_ID = "AUTH-ID";

   static {
      Twilio.init(ACCOUNT_SID, AUTH_ID);
   }
   public static void main(String[] args) {
      SpringApplication.run(SmsdemoApplication.class, args);
   }
   @Override
   public void run(ApplicationArguments arg0) throws Exception {
      Call.creator(new PhoneNumber("&lt;to-number&gt;"), new PhoneNumber("&lt;from-number&gt;"),
         new URI("http://demo.twilio.com/docs/voice.xml")).create();
   }
}
</pre>
<p>The code for complete build configuration file is given below &minus;</p>
<p><b>Maven – pom.xml</b></p>
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;project xmlns = "http://maven.apache.org/POM/4.0.0" 
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation = "http://maven.apache.org/POM/4.0.0 
   http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
   
   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
   &lt;groupId&gt;com.tutorialspoint&lt;/groupId&gt;
   &lt;artifactId&gt;smsdemo&lt;/artifactId&gt;
   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
   &lt;packaging&gt;jar&lt;/packaging&gt;
   &lt;name&gt;smsdemo&lt;/name&gt;
   &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;

   &lt;parent&gt;
      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
      &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;
      &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;
   &lt;/parent&gt;

   &lt;properties&gt;
      &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
      &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;
      &lt;java.version&gt;1.8&lt;/java.version&gt;
   &lt;/properties&gt;

   &lt;dependencies&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;
      &lt;/dependency&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
         &lt;scope&gt;test&lt;/scope&gt;
      &lt;/dependency&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;com.twilio.sdk&lt;/groupId&gt;
         &lt;artifactId&gt;twilio&lt;/artifactId&gt;
         &lt;version&gt;7.16.1&lt;/version&gt;
      &lt;/dependency&gt;
   &lt;/dependencies&gt;

   &lt;build&gt;
      &lt;plugins&gt;
         &lt;plugin&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
         &lt;/plugin&gt;
      &lt;/plugins&gt;
   &lt;/build&gt;
   
&lt;/project&gt;
</pre>
<p><b>Gradle – build.gradle</b></p>
<pre class="prettyprint notranslate">
buildscript {
   ext {
      springBootVersion = '1.5.9.RELEASE'
   }
   repositories {
      mavenCentral()
   }
   dependencies {
      classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}")
   }
}

apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'org.springframework.boot'

group = 'com.tutorialspoint'
version = '0.0.1-SNAPSHOT'
sourceCompatibility = 1.8

repositories {
   mavenCentral()
}
dependencies {
   compile('org.springframework.boot:spring-boot-starter')
   testCompile('org.springframework.boot:spring-boot-starter-test')
   compile group: "com.twilio.sdk", name:"twilio", version: "7.11.+"   
}
</pre>
<p>You can create an executable JAR file, and run the Spring Boot application by using the following Maven or Gradle commands.</p>
<p>For Maven, use the command as shown &minus;</p>
<pre class="result notranslate">
 mvn clean install
</pre>
<p>After “BUILD SUCCESS”, you can find the JAR file under the target directory.</p>
<p>For Gradle, use the command as shown &minus;</p>
<pre class="result notranslate">
gradle clean build
</pre>
<p>After “BUILD SUCCESSFUL”, you can find the JAR file under the build/libs directory.</p>
<p>Now, run the JAR file by using the command given here &minus;</p>
<pre class="result notranslate">
java –jar &lt;JARFILE&gt; 
</pre>
<p>Now, you will receive call to your “to-number” from Twilio.</p>
<p>Press any key after attending the call, you will hear the voice note from <a href="https://demo.twilio.com/docs/voice.xml" target="_blank" rel="nofollow">https://demo.twilio.com/docs/voice.xml</a></p> 
<p><b>Note</b> &minus; In this example, we used the Trail account. So, you should verify the numbers before making calls.</p>
<h1>Spring Boot - Unit Test Cases</h1>
<p>Unit Testing is a one of the testing done by the developers to make sure individual unit or component functionalities are working fine.</p>
<p>In this tutorial, we are going to see how to write a unit test case by using Mockito and Web Controller.</p>
<h2>Mockito</h2>
<p>For injecting Mockito Mocks into Spring Beans, we need to add the Mockito-core dependency in our build configuration file.</p>
<p>Maven users can add the following dependency in your pom.xml file.</p>
<pre class="prettyprint notranslate">
&lt;dependency&gt;
   &lt;groupId&gt;org.mockito&lt;/groupId&gt;
   &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;
   &lt;version&gt;2.13.0&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
   &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
   &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;
</pre>
<p>Gradle users can add the following dependency in the build.gradle file.</p>
<pre class="prettyprint notranslate">
compile group: 'org.mockito', name: 'mockito-core', version: '2.13.0'
testCompile('org.springframework.boot:spring-boot-starter-test')
</pre>
<p>The code to write a Service class which contains a method that returns the String value is given here.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.mockitodemo;

import org.springframework.stereotype.Service;

@Service
public class ProductService {
   public String getProductName() {
      return "Honey";
   } 
}
</pre>
<p>Now, inject the ProductService class into another Service class file as shown.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.mockitodemo;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

@Service
public class OrderService {
   @Autowired
   ProductService productService;

   public OrderService(ProductService productService) {
      this.productService = productService;
   }
   public String getProductName() {
      return productService.getProductName();
   }
}
</pre>
<p>The main Spring Boot application class file is given below &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.mockitodemo;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class MockitoDemoApplication {
   public static void main(String[] args) {
      SpringApplication.run(MockitoDemoApplication.class, args);
   }
}
</pre>
<p>Then, configure the Application context for the tests. The @Profile(“test”) annotation is used to configure the class when the Test cases are running.</p> 
<pre class="prettyprint notranslate">
package com.tutorialspoint.mockitodemo;

import org.mockito.Mockito;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.context.annotation.Primary;
import org.springframework.context.annotation.Profile;

@Profile("test")
@Configuration
public class ProductServiceTestConfiguration {
   @Bean
   @Primary
   public ProductService productService() {
      return Mockito.mock(ProductService.class);
   }
}
</pre>
<p>Now, you can write a Unit Test case for Order Service under the <b>src/test/resources</b> package.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.mockitodemo;

import org.junit.Assert;
import org.junit.Test;
import org.junit.runner.RunWith;
import org.mockito.Mockito;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.test.context.ActiveProfiles;
import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;

@SpringBootTest
@ActiveProfiles("test")
@RunWith(SpringJUnit4ClassRunner.class)
public class MockitoDemoApplicationTests {
   @Autowired
   private OrderService orderService;
   
   @Autowired
   private ProductService productService;

   @Test
   public void whenUserIdIsProvided_thenRetrievedNameIsCorrect() {
      Mockito.when(productService.getProductName()).thenReturn("Mock Product Name");
      String testName = orderService.getProductName();
      Assert.assertEquals("Mock Product Name", testName);
   }
}
</pre>
<p>The complete code for build configuration file is given below.</p>
<p><b>Maven – pom.xml</b></p>
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;project xmlns = "http://maven.apache.org/POM/4.0.0" 
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation = "http://maven.apache.org/POM/4.0.0 
   http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
   
   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
   &lt;groupId&gt;com.tutorialspoint&lt;/groupId&gt;
   &lt;artifactId&gt;mockito-demo&lt;/artifactId&gt;
   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
   &lt;packaging&gt;jar&lt;/packaging&gt;

   &lt;name&gt;mockito-demo&lt;/name&gt;
   &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;

   &lt;parent&gt;
      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
      &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;
      &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;
   &lt;/parent&gt;

   &lt;properties&gt;
      &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
      &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;
      &lt;java.version&gt;1.8&lt;/java.version&gt;
   &lt;/properties&gt;

   &lt;dependencies&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;
      &lt;/dependency&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;org.mockito&lt;/groupId&gt;
         &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;
         &lt;version&gt;2.13.0&lt;/version&gt;
      &lt;/dependency&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
         &lt;scope&gt;test&lt;/scope&gt;
      &lt;/dependency&gt;
   &lt;/dependencies&gt;

   &lt;build&gt;
      &lt;plugins&gt;
         &lt;plugin&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
         &lt;/plugin&gt;
      &lt;/plugins&gt;
   &lt;/build&gt;
   
&lt;/project&gt;
</pre>
<p><b>Gradle – build.gradle</b></p>
<pre class="prettyprint notranslate">
buildscript {
   ext {
      springBootVersion = '1.5.9.RELEASE'
   }
   repositories {
      mavenCentral()
   }
   dependencies {
      classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}")
   }
}

apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'org.springframework.boot'

group = 'com.tutorialspoint'
version = '0.0.1-SNAPSHOT'
sourceCompatibility = 1.8

repositories {
   mavenCentral()
}
dependencies {
   compile('org.springframework.boot:spring-boot-starter')
   compile group: 'org.mockito', name: 'mockito-core', version: '2.13.0'
   testCompile('org.springframework.boot:spring-boot-starter-test')
}   
</pre>
<p>You can create an executable JAR file, and run the Spring Boot application by using the following Maven or Gradle1 commands.</p> 
<p>For Maven, you can use the command as shown &minus;</p>
<pre class="result notranslate">
mvn clean install 
</pre>
<p>You can see the test results in console window.</p>
<img src="/spring_boot/images/test_results_in_console_window.jpg" alt="Test Results in Console Window" />
<p>For Gradle, you can use the command as shown &minus;</p>
<pre class="result notranslate">
gradle clean build 
</pre>
<p>You can see the rest results in console window.</p>
<img src="/spring_boot/images/rest_results_in_console_window.jpg" alt="Rest Results in Console Window" />
<h1>Spring Boot - Rest Controller Unit Test</h1>
<p>Spring Boot provides an easy way to write a Unit Test for Rest Controller file. With the help of SpringJUnit4ClassRunner and MockMvc, we can create a web application context to write Unit Test for Rest Controller file.</p>
<p>Unit Tests should be written under the <b>src/test/java</b> directory and classpath resources for writing a test should be placed under the <b>src/test/resources</b> directory.</p>
<p>For Writing a Unit Test, we need to add the Spring Boot Starter Test dependency in your build configuration file as shown below.</p>
<pre class="prettyprint notranslate">
&lt;dependency&gt;
   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
   &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
   &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;
</pre>
<p>Gradle users can add the following dependency in your build.gradle file.</p>
<pre class="result notranslate">
testCompile('org.springframework.boot:spring-boot-starter-test')
</pre>
<p>Before writing a Test case, we should first build RESTful web services. For further information on building RESTful web services, please refer to the chapter on the same given in this tutorial.</p> 
<h2>Writing a Unit Test for REST Controller</h2>
<p>In this section, let us see how to write a Unit Test for the REST Controller.</p>
<p>First, we need to create Abstract class file used to create web application context by using MockMvc and define the mapToJson() and mapFromJson() methods to convert the Java object into JSON string and convert the JSON string into Java object.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.demo;

import java.io.IOException;
import org.junit.runner.RunWith;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;
import org.springframework.test.context.web.WebAppConfiguration;
import org.springframework.test.web.servlet.MockMvc;
import org.springframework.test.web.servlet.setup.MockMvcBuilders;
import org.springframework.web.context.WebApplicationContext;

import com.fasterxml.jackson.core.JsonParseException;
import com.fasterxml.jackson.core.JsonProcessingException;
import com.fasterxml.jackson.databind.JsonMappingException;
import com.fasterxml.jackson.databind.ObjectMapper;

@RunWith(SpringJUnit4ClassRunner.class)
@SpringBootTest(classes = DemoApplication.class)
@WebAppConfiguration
public abstract class AbstractTest {
   protected MockMvc mvc;
   @Autowired
   WebApplicationContext webApplicationContext;

   protected void setUp() {
      mvc = MockMvcBuilders.webAppContextSetup(webApplicationContext).build();
   }
   protected String mapToJson(Object obj) throws JsonProcessingException {
      ObjectMapper objectMapper = new ObjectMapper();
      return objectMapper.writeValueAsString(obj);
   }
   protected &lt;T&gt; T mapFromJson(String json, Class&lt;T&gt; clazz)
      throws JsonParseException, JsonMappingException, IOException {
      
      ObjectMapper objectMapper = new ObjectMapper();
      return objectMapper.readValue(json, clazz);
   }
}
</pre>
<p>Next, write a class file that extends the AbstractTest class and write a Unit Test for each method such GET, POST, PUT and DELETE.</p>
<p>The code for GET API Test case is given below. This API is to view the list of products.</p>
<pre class="prettyprint notranslate">
@Test
public void getProductsList() throws Exception {
   String uri = "/products";
   MvcResult mvcResult = mvc.perform(MockMvcRequestBuilders.get(uri)
      .accept(MediaType.APPLICATION_JSON_VALUE)).andReturn();
   
   int status = mvcResult.getResponse().getStatus();
   assertEquals(200, status);
   String content = mvcResult.getResponse().getContentAsString();
   Product[] productlist = super.mapFromJson(content, Product[].class);
   assertTrue(productlist.length &gt; 0);
}
</pre>
<p>The code for POST API test case is given below. This API is to create a product.</p>
<pre class="prettyprint notranslate">
@Test
public void createProduct() throws Exception {
   String uri = "/products";
   Product product = new Product();
   product.setId("3");
   product.setName("Ginger");
   
   String inputJson = super.mapToJson(product);
   MvcResult mvcResult = mvc.perform(MockMvcRequestBuilders.post(uri)
      .contentType(MediaType.APPLICATION_JSON_VALUE).content(inputJson)).andReturn();
   
   int status = mvcResult.getResponse().getStatus();
   assertEquals(201, status);
   String content = mvcResult.getResponse().getContentAsString();
   assertEquals(content, "Product is created successfully");
}
</pre>
<p>The code for PUT API Test case is given below. This API is to update the existing product.</p>
<pre class="prettyprint notranslate">
@Test
public void updateProduct() throws Exception {
   String uri = "/products/2";
   Product product = new Product();
   product.setName("Lemon");
   
   String inputJson = super.mapToJson(product);
   MvcResult mvcResult = mvc.perform(MockMvcRequestBuilders.put(uri)
      .contentType(MediaType.APPLICATION_JSON_VALUE).content(inputJson)).andReturn();
   
   int status = mvcResult.getResponse().getStatus();
   assertEquals(200, status);
   String content = mvcResult.getResponse().getContentAsString();
   assertEquals(content, "Product is updated successsfully");
}
</pre>
<p>The code for Delete API Test case is given below. This API will delete the existing product.</p>
<pre class="prettyprint notranslate">
@Test
public void deleteProduct() throws Exception {
   String uri = "/products/2";
   MvcResult mvcResult = mvc.perform(MockMvcRequestBuilders.delete(uri)).andReturn();
   int status = mvcResult.getResponse().getStatus();
   assertEquals(200, status);
   String content = mvcResult.getResponse().getContentAsString();
   assertEquals(content, "Product is deleted successsfully");
}
</pre>
<p>The full Controller Test class file is given below &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.demo;

import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertTrue;

import org.junit.Before;
import org.junit.Test;
import org.springframework.http.MediaType;
import org.springframework.test.web.servlet.MvcResult;
import org.springframework.test.web.servlet.request.MockMvcRequestBuilders;

import com.tutorialspoint.demo.model.Product;

public class ProductServiceControllerTest extends AbstractTest {
   @Override
   @Before
   public void setUp() {
      super.setUp();
   }
   @Test
   public void getProductsList() throws Exception {
      String uri = "/products";
      MvcResult mvcResult = mvc.perform(MockMvcRequestBuilders.get(uri)
         .accept(MediaType.APPLICATION_JSON_VALUE)).andReturn();
      
      int status = mvcResult.getResponse().getStatus();
      assertEquals(200, status);
      String content = mvcResult.getResponse().getContentAsString();
      Product[] productlist = super.mapFromJson(content, Product[].class);
      assertTrue(productlist.length &gt; 0);
   }
   @Test
   public void createProduct() throws Exception {
      String uri = "/products";
      Product product = new Product();
      product.setId("3");
      product.setName("Ginger");
      String inputJson = super.mapToJson(product);
      MvcResult mvcResult = mvc.perform(MockMvcRequestBuilders.post(uri)
         .contentType(MediaType.APPLICATION_JSON_VALUE)
         .content(inputJson)).andReturn();
      
      int status = mvcResult.getResponse().getStatus();
      assertEquals(201, status);
      String content = mvcResult.getResponse().getContentAsString();
      assertEquals(content, "Product is created successfully");
   }
   @Test
   public void updateProduct() throws Exception {
      String uri = "/products/2";
      Product product = new Product();
      product.setName("Lemon");
      String inputJson = super.mapToJson(product);
      MvcResult mvcResult = mvc.perform(MockMvcRequestBuilders.put(uri)
         .contentType(MediaType.APPLICATION_JSON_VALUE)
         .content(inputJson)).andReturn();
      
      int status = mvcResult.getResponse().getStatus();
      assertEquals(200, status);
      String content = mvcResult.getResponse().getContentAsString();
      assertEquals(content, "Product is updated successsfully");
   }
   @Test
   public void deleteProduct() throws Exception {
      String uri = "/products/2";
      MvcResult mvcResult = mvc.perform(MockMvcRequestBuilders.delete(uri)).andReturn();
      int status = mvcResult.getResponse().getStatus();
      assertEquals(200, status);
      String content = mvcResult.getResponse().getContentAsString();
      assertEquals(content, "Product is deleted successsfully");
   }
}
</pre>
<p>You can create an executable JAR file, and run the Spring Boot application by using the Maven or Gradle commands given below &minus;</p>
<p>For Maven, you can use the command given below &minus;</p>
<pre class="result notranslate">
mvn clean install 
</pre>
<p>Now, you can see the test results in console window.</p>
<img src="/spring_boot/images/test_results_in_console_window.jpg" alt="Test Results in Console Window" />
<p>For Gradle, you can use the command as shown below &minus;</p>
<pre class="result notranslate">
gradle clean build
</pre>
<p>You can see the rest results in console window as shown below.</p>
<img src="/spring_boot/images/rest_results_in_console_window.jpg" alt="Rest Results in Console Window" />
<h1>Spring Boot - Database Handling</h1>
<p>Spring Boot provides a very good support to create a DataSource for Database. We need not write any extra code to create a DataSource in Spring Boot. Just adding the dependencies and doing the configuration details is enough to create a DataSource and connect the Database.</p>
<p>In this chapter, we are going to use Spring Boot JDBC driver connection to connect the database.</p>
<p>First, we need to add the Spring Boot Starter JDBC dependency in our build configuration file.</p>
<p>Maven users can add the following dependencies in the pom.xml file.</p>
<pre class="prettyprint notranslate">
&lt;dependency&gt;
   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
   &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;
&lt;/dependency&gt;
</pre>
<p>Gradle users can add the following dependencies in the build.gradle file.</p>
<pre class="result notranslate">
compile('org.springframework.boot:spring-boot-starter-jdbc')
</pre>
<h2>Connect to H2 database</h2>
<p>To connect the H2 database, we need to add the H2 database dependency in our build configuration file.</p>
<p>For Maven users, add the below dependency in your pom.xml file.</p>
<pre class="prettyprint notranslate">
&lt;dependency&gt;
   &lt;groupId&gt;com.h2database&lt;/groupId&gt;
   &lt;artifactId&gt;h2&lt;/artifactId&gt;
&lt;/dependency&gt;
</pre>
<p>For Gradle users, add the below dependency in your build.gradle file.</p>
<pre class="result notranslate">
compile('com.h2database:h2')
</pre>
<p>We need to create the schema.sql file and data.sql file under the classpath src/main/resources directory to connect the H2 database.</p> 
<p>The schema.sql file is given below.</p>
<pre class="result notranslate">
CREATE TABLE PRODUCT (ID INT PRIMARY KEY, PRODUCT_NAME VARCHAR(25));
</pre>
<p>The data.sql file is given below.</p>
<pre class="result notranslate">
INSERT INTO PRODUCT (ID,PRODUCT_NAME) VALUES (1,'Honey');
INSERT INTO PRODUCT (ID,PRODUCT_NAME) VALUES (2,'Almond');
</pre>
<h2>Connect MySQL</h2>
<p>To connect the MySQL database, we need to add the MySQL dependency into our build configuration file.</p>
<p>For Maven users, add the following dependency in your pom.xml file.</p>
<pre class="prettyprint notranslate">
&lt;dependency&gt;
   &lt;groupId&gt;mysql&lt;/groupId&gt;
   &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
&lt;/dependency&gt;
</pre>
<p>For Gradle users, add the following dependency in your build.gradle file.</p>
<pre class="result notranslate">
compile('mysql:mysql-connector-java')
</pre>
<p>Now, create database and tables in MySQL as shown &minus;</p>
<img src="/spring_boot/images/database_and_tables_in_mysql.jpg" alt="Database and Tables in MySQL" />
<p>For properties file users, add the following properties in the application.properties file.</p>
<pre class="prettyprint notranslate">
spring.datasource.driverClassName = com.mysql.jdbc.Driver
spring.datasource.url = jdbc:mysql://localhost:3306/PRODUCTSERVICE?autoreconnect = true
spring.datasource.username = root
spring.datasource.password = root
spring.datasource.testOnBorrow = true
spring.datasource.testWhileIdle = true
spring.datasource.timeBetweenEvictionRunsMillis = 60000
spring.datasource.minEvictableIdleTimeMillis = 30000
spring.datasource.validationQuery = SELECT 1
spring.datasource.max-active = 15
spring.datasource.max-idle = 10
spring.datasource.max-wait = 8000
</pre>
<p>For YAML users, add the following properties in the application.yml file.</p>
<pre class="prettyprint notranslate">
spring:
   datasource: 
      driverClassName: com.mysql.jdbc.Driver
      url: "jdbc:mysql://localhost:3306/PRODUCTSERVICE?autoreconnect=true"
      username: "root"
      password: "root"
      testOnBorrow: true
      testWhileIdle: true
      timeBetweenEvictionRunsMillis: 60000
      minEvictableIdleTimeMillis: 30000
      validationQuery: SELECT 1
      max-active: 15
      max-idle: 10
      max-wait: 8000
</pre>
<h2>Connect Redis</h2>
<p>Redis is an open source database used to store the in-memory data structure. To connect the Redis database in Spring Boot application, we need to add the Redis dependency in our build configuration file.</p>
<p>Maven users should add the following dependency in your pom.xml file.</p>
<pre class="prettyprint notranslate">
&lt;dependency&gt;
   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
   &lt;artifactId&gt;spring-boot-starter-redis&lt;/artifactId&gt;
&lt;/dependency&gt;
</pre>
<p>Gradle users should add the following dependency in your build.gradle file.</p>
<pre class="result notranslate">
compile('org.springframework.boot:spring-boot-starter-data-redis')
</pre>
<p>For Redis connection, we need to use RedisTemplate. For RedisTemplate we need to provide the JedisConnectionFactory details.</p>
<pre class="prettyprint notranslate">
@Bean
JedisConnectionFactory jedisConnectionFactory() {
   JedisConnectionFactory jedisConFactory = new JedisConnectionFactory();
   jedisConFactory.setHostName("localhost");
   jedisConFactory.setPort(6000);
   jedisConFactory.setUsePool(true);
   return jedisConFactory;
}
@Bean
public RedisTemplate&lt;String, Object&gt; redisTemplate() {
   RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;&gt;();
   template.setConnectionFactory(jedisConnectionFactory());
   template.setKeySerializer(new StringRedisSerializer());
   template.setHashKeySerializer(new StringRedisSerializer());
   template.setHashValueSerializer(new StringRedisSerializer());
   template.setValueSerializer(new StringRedisSerializer());
   return template;
}
</pre>
<p>Now auto wire the RedisTemplate class and access the data from Redis database.</p>
<pre class="prettyprint notranslate">
@Autowired

RedisTemplate&lt;String, Object&gt; redis;
Map&lt;Object,Object&gt; datalist = redis.opsForHash().entries(“Redis_code_index_key”);
</pre>
<h2>JDBCTemplate</h2>
<p>To access the Relational Database by using JdbcTemplate in Spring Boot application, we need to add the Spring Boot Starter JDBC dependency in our build configuration file.</p> 
<p>Then, if you @Autowired the JdbcTemplate class, Spring Boot automatically connects the Database and sets the Datasource for the JdbcTemplate object.</p>
<pre class="prettyprint notranslate">
@Autowired
JdbcTemplate jdbcTemplate;
Collection&lt;Map&lt;String, Object&gt;&gt; rows = jdbc.queryForList("SELECT QUERY");
</pre>
<p>The @Repository annotation should be added into the class file. The @Repository annotation is used to create database repository for your Spring Boot application.</p>
<pre class="prettyprint notranslate">
@Repository
public class ProductServiceDAO {
}
</pre>
<h2>Multiple DataSource</h2>
<p>We can keep ‘n’ number Datasources in a single Spring Boot application. The example given here shows how to create more than 1 data source in Spring Boot application. Now, add the two data source configuration details in the application properties file.</p>
<p>For properties file users, add the following properties into your application.properties file.</p>
<pre class="prettyprint notranslate">
spring.dbProductService.driverClassName = com.mysql.jdbc.Driver
spring.dbProductService.url = jdbc:mysql://localhost:3306/PRODUCTSERVICE?autoreconnect = true
spring.dbProductService.username = root
spring.dbProductService.password = root
spring.dbProductService.testOnBorrow = true
spring.dbProductService.testWhileIdle = true
spring.dbProductService.timeBetweenEvictionRunsMillis = 60000
spring.dbProductService.minEvictableIdleTimeMillis = 30000
spring.dbProductService.validationQuery = SELECT 1
spring.dbProductService.max-active = 15
spring.dbProductService.max-idle = 10
spring.dbProductService.max-wait = 8000

spring.dbUserService.driverClassName = com.mysql.jdbc.Driver
spring.dbUserService.url = jdbc:mysql://localhost:3306/USERSERVICE?autoreconnect = true
spring.dbUserService.username = root
spring.dbUserService.password = root
spring.dbUserService.testOnBorrow = true
spring.dbUserService.testWhileIdle = true
spring.dbUserService.timeBetweenEvictionRunsMillis = 60000
spring.dbUserService.minEvictableIdleTimeMillis = 30000
spring.dbUserService.validationQuery = SELECT 1
spring.dbUserService.max-active = 15
spring.dbUserService.max-idle = 10
spring.dbUserService.max-wait = 8000
</pre>
<p>Yaml users should add the following properties in your application.yml file.</p>
<pre class="prettyprint notranslate">
spring:
   dbProductService: 
      driverClassName: com.mysql.jdbc.Driver
      url: "jdbc:mysql://localhost:3306/PRODUCTSERVICE?autoreconnect=true"
      password: "root"
      username: "root"
      testOnBorrow: true
      testWhileIdle: true
      timeBetweenEvictionRunsMillis: 60000
      minEvictableIdleTimeMillis: 30000
      validationQuery: SELECT 1
      max-active: 15
      max-idle: 10
      max-wait: 8000
   dbUserService: 
      driverClassName: com.mysql.jdbc.Driver
      url: "jdbc:mysql://localhost:3306/USERSERVICE?autoreconnect=true"
      password: "root"
      username: "root"
      testOnBorrow: true
      testWhileIdle: true
      timeBetweenEvictionRunsMillis: 60000
      minEvictableIdleTimeMillis: 30000
      validationQuery: SELECT 1    
      max-active: 15
      max-idle: 10
      max-wait: 8000
</pre>
<p>Now, create a Configuration class to create a DataSource and JdbcTemplate for multiple data sources.</p>
<pre class="prettyprint notranslate">
import javax.sql.DataSource;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.beans.factory.annotation.Qualifier;
import org.springframework.boot.autoconfigure.jdbc.DataSourceBuilder;
import org.springframework.boot.context.properties.ConfigurationProperties;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.context.annotation.Primary;
import org.springframework.jdbc.core.JdbcTemplate;

@Configuration
public class DatabaseConfig {
   @Bean(name = "dbProductService")
   @ConfigurationProperties(prefix = "spring.dbProductService")
   @Primary
   public DataSource createProductServiceDataSource() {
      return DataSourceBuilder.create().build();
   }
   @Bean(name = "dbUserService")
   @ConfigurationProperties(prefix = "spring.dbUserService")
   public DataSource createUserServiceDataSource() {
      return DataSourceBuilder.create().build();
   }
   @Bean(name = "jdbcProductService")
   @Autowired
   public JdbcTemplate createJdbcTemplate_ProductService(@Qualifier("dbProductService") DataSource productServiceDS) {
      return new JdbcTemplate(productServiceDS);
   }
   @Bean(name = "jdbcUserService")
   @Autowired
   public JdbcTemplate createJdbcTemplate_UserService(@Qualifier("dbUserService") DataSource userServiceDS) {
      return new JdbcTemplate(userServiceDS);
   }
}
</pre>
<p>Then, auto wire the JDBCTemplate object by using @Qualifier annotation.</p>
<pre class="prettyprint notranslate">
@Qualifier("jdbcProductService")
@Autowired
JdbcTemplate jdbcTemplate;

@Qualifier("jdbcUserService")
@Autowired
JdbcTemplate jdbcTemplate;
</pre>
<h1>Spring Boot - Securing Web Applications</h1>
<p>If a Spring Boot Security dependency is added on the classpath, Spring Boot application automatically requires the Basic Authentication for all HTTP Endpoints. The Endpoint “/” and “/home” does not require any authentication. All other Endpoints require authentication.</p>
<p>For adding a Spring Boot Security to your Spring Boot application, we need to add the Spring Boot Starter Security dependency in our build configuration file.</p>
<p>Maven users can add the following dependency in the pom.xml file.</p>
<pre class="prettyprint notranslate">
&lt;dependency&gt;
   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
   &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;
&lt;/dependency&gt;
</pre>
<p>Gradle users can add the following dependency in the build.gradle file.</p>
<pre class="result notranslate">
compile("org.springframework.boot:spring-boot-starter-security")
</pre>
<h2>Securing a Web application</h2>
<p>First, create an unsecure web application by using Thymeleaf templates.</p>
<p>Then, create a home.html file under <b>src/main/resources/templates</b> directory.</p>
<pre class="prettyprint notranslate">
&lt;!DOCTYPE html&gt;
&lt;html xmlns = "http://www.w3.org/1999/xhtml" 
   xmlns:th = "http://www.thymeleaf.org" 
   xmlns:sec = "http://www.thymeleaf.org/thymeleaf-extras-springsecurity3"&gt;
   
   &lt;head&gt;
      &lt;title&gt;Spring Security Example&lt;/title&gt;
   &lt;/head&gt;
   &lt;body&gt;
      &lt;h1&gt;Welcome!&lt;/h1&gt;
      &lt;p&gt;Click &lt;a th:href = "@{/hello}"&gt;here&lt;/a&gt; to see a greeting.&lt;/p&gt;
   &lt;/body&gt;
   
&lt;/html&gt;
</pre>
<p>The simple view <b>/hello</b> defined in the HTML file by using Thymeleaf templates.</p>
<p>Now, create a hello.html under <b>src/main/resources/templates</b> directory.</p>
<pre class="prettyprint notranslate">
&lt;!DOCTYPE html&gt;
&lt;html xmlns = "http://www.w3.org/1999/xhtml" 
   xmlns:th = "http://www.thymeleaf.org" 
   xmlns:sec = "http://www.thymeleaf.org/thymeleaf-extras-springsecurity3"&gt;
   
   &lt;head&gt;
      &lt;title&gt;Hello World!&lt;/title&gt;
   &lt;/head&gt;
   &lt;body&gt;
      &lt;h1&gt;Hello world!&lt;/h1&gt;
   &lt;/body&gt;
   
&lt;/html&gt;
</pre>
<p>Now, we need to setup the Spring MVC – View controller for home and hello views.</p>
<p>For this, create a MVC configuration file that extends WebMvcConfigurerAdapter.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.websecuritydemo;

import org.springframework.context.annotation.Configuration;
import org.springframework.web.servlet.config.annotation.ViewControllerRegistry;
import org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter;

@Configuration
public class MvcConfig extends WebMvcConfigurerAdapter {
   @Override
   public void addViewControllers(ViewControllerRegistry registry) {
      registry.addViewController("/home").setViewName("home");
      registry.addViewController("/").setViewName("home");
      registry.addViewController("/hello").setViewName("hello");
      registry.addViewController("/login").setViewName("login");
   }
}
</pre>
<p>Now, add the Spring Boot Starter security dependency to your build configuration file.</p>
<p>Maven users can add the following dependency in your pom.xml file.</p>
<pre class="prettyprint notranslate">
&lt;dependency&gt;
   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
   &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;
&lt;/dependency&gt;
</pre>
<p>Gradle users can add the following dependency in the build.gradle file.</p>
<pre class="result notranslate">
compile("org.springframework.boot:spring-boot-starter-security")
</pre>
<p>Now, create a Web Security Configuration file, that is used to secure your application to access the HTTP Endpoints by using basic authentication.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.websecuritydemo;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.context.annotation.Configuration;
import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;
import org.springframework.security.config.annotation.web.builders.HttpSecurity;
import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;
import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;

@Configuration
@EnableWebSecurity
public class WebSecurityConfig extends WebSecurityConfigurerAdapter {
   @Override
   protected void configure(HttpSecurity http) throws Exception {
      http
         .authorizeRequests()
            .antMatchers("/", "/home").permitAll()
            .anyRequest().authenticated()
            .and()
         .formLogin()
            .loginPage("/login")
            .permitAll()
            .and()
            .logout()
            .permitAll();
   }
   @Autowired
   public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {
      auth
         .inMemoryAuthentication()
         .withUser("user").password("password").roles("USER");
   }
}
</pre>
<p>Now, create a login.html file under the <b>src/main/resources</b> directory to allow the user to access the HTTP Endpoint via login screen.</p>
<pre class="prettyprint notranslate">
&lt;!DOCTYPE html&gt;
&lt;html xmlns = "http://www.w3.org/1999/xhtml" xmlns:th = "http://www.thymeleaf.org"
   xmlns:sec = "http://www.thymeleaf.org/thymeleaf-extras-springsecurity3"&gt;
   
   &lt;head&gt;
      &lt;title&gt;Spring Security Example &lt;/title&gt;
   &lt;/head&gt;
   &lt;body&gt;
      &lt;div th:if = "${param.error}"&gt;
         Invalid username and password.
      &lt;/div&gt;
      &lt;div th:if = "${param.logout}"&gt;
         You have been logged out.
      &lt;/div&gt;
      
      &lt;form th:action = "@{/login}" method = "post"&gt;
         &lt;div&gt;
            &lt;label&gt; User Name : &lt;input type = "text" name = "username"/&gt; &lt;/label&gt;
         &lt;/div&gt;
         &lt;div&gt;
            &lt;label&gt; Password: &lt;input type = "password" name = "password"/&gt; &lt;/label&gt;
         &lt;/div&gt;
         &lt;div&gt;
            &lt;input type = "submit" value = "Sign In"/&gt;
         &lt;/div&gt;
      &lt;/form&gt;
      
   &lt;/body&gt;
&lt;/html&gt;
</pre>
<p>Finally, update the hello.html file – to allow the user to Sign-out from the application and display the current username as shown below &minus;</p>
<pre class="prettyprint notranslate">
&lt;!DOCTYPE html&gt;
&lt;html xmlns = "http://www.w3.org/1999/xhtml" xmlns:th = "http://www.thymeleaf.org" 
   xmlns:sec = "http://www.thymeleaf.org/thymeleaf-extras-springsecurity3"&gt;
   
   &lt;head&gt;
      &lt;title&gt;Hello World!&lt;/title&gt;
   &lt;/head&gt;
   &lt;body&gt;
      &lt;h1 th:inline = "text"&gt;Hello [[${#httpServletRequest.remoteUser}]]!&lt;/h1&gt;
      &lt;form th:action = "@{/logout}" method = "post"&gt;
         &lt;input type = "submit" value = "Sign Out"/&gt;
      &lt;/form&gt;
   &lt;/body&gt;
   
&lt;/html&gt;
</pre>
<p>The code for main Spring Boot application is given below &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.websecuritydemo;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class WebsecurityDemoApplication {
   public static void main(String[] args) {
      SpringApplication.run(WebsecurityDemoApplication.class, args);
   }
}
</pre>
<p>The complete code for build configuration file is given below.</p>
<p><b>Maven – pom.xml</b></p>
<pre class="prettyprint notranslate">
&lt;?xml version  =  "1.0" encoding  =  "UTF-8"?&gt;
&lt;project xmlns = "http://maven.apache.org/POM/4.0.0" 
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation = "http://maven.apache.org/POM/4.0.0 
   http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
   
   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
   &lt;groupId&gt;com.tutorialspoint&lt;/groupId&gt;
   &lt;artifactId&gt;websecurity-demo&lt;/artifactId&gt;
   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
   &lt;packaging&gt;jar&lt;/packaging&gt;
   &lt;name&gt;websecurity-demo&lt;/name&gt;
   &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;

   &lt;parent&gt;
      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
      &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;
      &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;
   &lt;/parent&gt;

   &lt;properties&gt;
      &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
      &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;
      &lt;java.version&gt;1.8&lt;/java.version&gt;
   &lt;/properties&gt;

   &lt;dependencies&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;
      &lt;/dependency&gt;
      
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;
      &lt;/dependency&gt;
      
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
      &lt;/dependency&gt;

      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
         &lt;scope&gt;test&lt;/scope&gt;
      &lt;/dependency&gt;
      
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;
         &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;
         &lt;scope&gt;test&lt;/scope&gt;
      &lt;/dependency&gt;
   &lt;/dependencies&gt;

   &lt;build&gt;
      &lt;plugins&gt;
         &lt;plugin&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
         &lt;/plugin&gt;
      &lt;/plugins&gt;
   &lt;/build&gt;
   
&lt;/project&gt;
</pre>
<p><b>Gradle – build.gradle</b></p>
<pre class="prettyprint notranslate">
buildscript {
   ext {
      springBootVersion = '1.5.9.RELEASE'
   }
   repositories {
      mavenCentral()
   }
   dependencies {
      classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}")
   }
}

apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'org.springframework.boot'

group = 'com.tutorialspoint'
version = '0.0.1-SNAPSHOT'
sourceCompatibility = 1.8

repositories {
   mavenCentral()
}
dependencies {
   compile('org.springframework.boot:spring-boot-starter-security')
   compile('org.springframework.boot:spring-boot-starter-thymeleaf')
   compile('org.springframework.boot:spring-boot-starter-web')
   
   testCompile('org.springframework.boot:spring-boot-starter-test')
   testCompile('org.springframework.security:spring-security-test')
}
</pre>
<p>Now, create an executable JAR file, and run the Spring Boot application by using the following Maven or Gradle commands.</p> 
<p>Maven users can use the command as given below &minus;</p>
<pre class="result notranslate">
mvn clean install
</pre>
<p>After “BUILD SUCCESS”, you can find the JAR file under target directory.</p>
<p>Gradle users can use the command as shown &minus;</p>
<pre class="result notranslate">
gradle clean build
</pre>
<p>After “BUILD SUCCESSFUL”, you can find the JAR file under the build/libs directory.</p>
<p>Now, run the JAR file by using the command shown below &minus;</p>
<pre class="result notranslate">
java –jar &lt;JARFILE&gt; 
</pre>
<p>Hit the URL <b>http://localhost:8080/</b> in your web browser. You can see the output as shown.</p>
<img src="/spring_boot/images/output_on_web_browser_click_link.jpg" alt="Output on Web Browser Click Link"/>
<p></p>
<img src="/spring_boot/images/output_login_page.jpg" alt="Output Login Page"/>
<p></p>
<img src="/spring_boot/images/output_signout_page.jpg" alt="Output Signout Page"/>
<p></p>
<img src="/spring_boot/images/output_logged_out.jpg" alt="Output Logged Out"/>
<p></p>
<img src="/spring_boot/images/invalid_username_password.jpg" alt="Invalid Username Password"/>
<h1>Spring Boot - OAuth2 with JWT</h1>
<p>In this chapter, you will learn in detail about Spring Boot Security mechanisms and OAuth2 with JWT.</p>
<h2>Authorization Server</h2>
<p>Authorization Server is a supreme architectural component for Web API Security. The Authorization Server acts a centralization authorization point that allows your apps and HTTP endpoints to identify the features of your application.</p>
<h2>Resource Server</h2>
<p>Resource Server is an application that provides the access token to the clients to access the Resource Server HTTP Endpoints. It is collection of libraries which contains the HTTP Endpoints, static resources, and Dynamic web pages.</p>
<h2>OAuth2</h2>
<p>OAuth2 is an authorization framework that enables the application Web Security to access the resources from the client. To build an OAuth2 application, we need to focus on the Grant Type (Authorization code), Client ID and Client secret.</p>    
<h2>JWT Token</h2>
<p>JWT Token is a JSON Web Token, used to represent the claims secured between two parties. You can learn more about the JWT token at <a href="https://jwt.io/" target="_blank" rel="nofollow">www.jwt.io/</a>.</p>
<p>Now, we are going to build an OAuth2 application that enables the use of Authorization Server, Resource Server with the help of a JWT Token.</p>
<p>You can use the following steps to implement the Spring Boot Security with JWT token by accessing the database.</p>
<p>First, we need to add the following dependencies in our build configuration file.</p>
<p>Maven users can add the following dependencies in your pom.xml file.</p>
<pre class="prettyprint notranslate">
&lt;dependency&gt;
   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
   &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
   &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
   &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
   &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;
   &lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
   &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;
   &lt;artifactId&gt;spring-security-jwt&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
   &lt;groupId&gt;com.h2database&lt;/groupId&gt;
   &lt;artifactId&gt;h2&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
   &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
   &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
   &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;
   &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;
   &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;
</pre>
<p>Gradle users can add the following dependencies in  the build.gradle file.</p>
<pre class="prettyprint notranslate">
compile('org.springframework.boot:spring-boot-starter-security')
compile('org.springframework.boot:spring-boot-starter-web')
testCompile('org.springframework.boot:spring-boot-starter-test')
testCompile('org.springframework.security:spring-security-test')

compile("org.springframework.security.oauth:spring-security-oauth2")
compile('org.springframework.security:spring-security-jwt')
compile("org.springframework.boot:spring-boot-starter-jdbc")
compile("com.h2database:h2:1.4.191")  
</pre>
<p>where,</p>
<ul class="list">
<li><p><b>Spring Boot Starter Security</b> &minus; Implements the Spring Security</p></li>
<li><p><b>Spring Security OAuth2</b> &minus; Implements the OAUTH2 structure to enable the Authorization Server and Resource Server.</p></li>
<li><p><b>Spring Security JWT</b> &minus; Generates the JWT Token for Web security</p></li>
<li><p><b>Spring Boot Starter JDBC</b> &minus; Accesses the database to ensure the user is available or not.</p></li>
<li><p><b>Spring Boot Starter Web</b> &minus; Writes HTTP endpoints.</p></li>
<li><p><b>H2 Database</b> &minus; Stores the user information for authentication and authorization.</p></li>
</ul>
<p>The complete build configuration file is given below.</p>
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;project xmlns = "http://maven.apache.org/POM/4.0.0" 
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation = "http://maven.apache.org/POM/4.0.0 
   http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
   
   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
   &lt;groupId&gt;com.tutorialspoint&lt;/groupId&gt;
   &lt;artifactId&gt;websecurityapp&lt;/artifactId&gt;
   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
   &lt;packaging&gt;jar&lt;/packaging&gt;
   &lt;name&gt;websecurityapp&lt;/name&gt;
   &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;

   &lt;parent&gt;
      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
      &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;
      &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;
   &lt;/parent&gt;

   &lt;properties&gt;
      &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
      &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;
      &lt;java.version&gt;1.8&lt;/java.version&gt;
   &lt;/properties&gt;

   &lt;dependencies&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;
      &lt;/dependency&gt;
      
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;
      &lt;/dependency&gt;
      
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
      &lt;/dependency&gt;
      
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;
         &lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;
      &lt;/dependency&gt;
      
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;
         &lt;artifactId&gt;spring-security-jwt&lt;/artifactId&gt;
      &lt;/dependency&gt;
      
      &lt;dependency&gt;
         &lt;groupId&gt;com.h2database&lt;/groupId&gt;
         &lt;artifactId&gt;h2&lt;/artifactId&gt;
      &lt;/dependency&gt;
      
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
         &lt;scope&gt;test&lt;/scope&gt;
      &lt;/dependency&gt;
      
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;
         &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;
         &lt;scope&gt;test&lt;/scope&gt;
      &lt;/dependency&gt;
   &lt;/dependencies&gt;

   &lt;build&gt;
      &lt;plugins&gt;
         &lt;plugin&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
         &lt;/plugin&gt;
      &lt;/plugins&gt;
   &lt;/build&gt;
   
&lt;/project&gt;
</pre>
<p><b>Gradle – build.gradle</b></p>
<pre class="prettyprint notranslate">
buildscript {
   ext {
      springBootVersion = '1.5.9.RELEASE'
   }
   repositories {
      mavenCentral()
   }
   dependencies {
      classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}")
   }
}
apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'org.springframework.boot'

group = 'com.tutorialspoint'
version = '0.0.1-SNAPSHOT'
sourceCompatibility = 1.8

repositories {
   mavenCentral()
}

dependencies {
   compile('org.springframework.boot:spring-boot-starter-security')
   compile('org.springframework.boot:spring-boot-starter-web')
   testCompile('org.springframework.boot:spring-boot-starter-test')
   testCompile('org.springframework.security:spring-security-test')
   compile("org.springframework.security.oauth:spring-security-oauth2")
   compile('org.springframework.security:spring-security-jwt')
   compile("org.springframework.boot:spring-boot-starter-jdbc")
   compile("com.h2database:h2:1.4.191")  
} 
</pre>
<p>Now, in the main Spring Boot application, add the @EnableAuthorizationServer and @EnableResourceServer annotation to act as an Auth server and Resource Server in the same application.</p>
<p>Also, you can use the following code to write a simple HTTP endpoint to access the API with Spring Security by using JWT Token.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.websecurityapp;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.security.oauth2.config.annotation.web.configuration.EnableAuthorizationServer;
import org.springframework.security.oauth2.config.annotation.web.configuration.EnableResourceServer;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

@SpringBootApplication
@EnableAuthorizationServer
@EnableResourceServer
@RestController
public class WebsecurityappApplication {
   public static void main(String[] args) {
      SpringApplication.run(WebsecurityappApplication.class, args);
   }
   @RequestMapping(value = "/products")
   public String getProductName() {
      return "Honey";   
   }
} 
</pre>
<p>Use the following code to define the POJO class to store the User information for authentication.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.websecurityapp;

import java.util.ArrayList;
import java.util.Collection;
import org.springframework.security.core.GrantedAuthority;

public class UserEntity {
   private String username;
   private String password;
   private Collection&lt;GrantedAuthority&gt; grantedAuthoritiesList = new ArrayList&lt;&gt;();
   
   public String getPassword() {
      return password;
   }
   public void setPassword(String password) {
      this.password = password;
   }
   public Collection&lt;GrantedAuthority&gt; getGrantedAuthoritiesList() {
      return grantedAuthoritiesList;
   }
   public void setGrantedAuthoritiesList(Collection&lt;GrantedAuthority&gt; grantedAuthoritiesList) {
      this.grantedAuthoritiesList = grantedAuthoritiesList;
   }
   public String getUsername() {
      return username;
   }
   public void setUsername(String username) {
      this.username = username;
   }
}
</pre>
<p>Now, use the following code and define the CustomUser class that extends the org.springframework.security.core.userdetails.User class for Spring Boot authentication.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.websecurityapp;

import org.springframework.security.core.userdetails.User;

public class CustomUser extends User {
   private static final long serialVersionUID = 1L;
   public CustomUser(UserEntity user) {
      super(user.getUsername(), user.getPassword(), user.getGrantedAuthoritiesList());
   }
} 
</pre>
<p>You can create the @Repository class to read the User information from the database and send it to the Custom user service and also add the granted authority “ROLE_SYSTEMADMIN”.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.websecurityapp;

import java.sql.ResultSet;
import java.util.ArrayList;
import java.util.Collection;
import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.jdbc.core.JdbcTemplate;
import org.springframework.security.core.GrantedAuthority;
import org.springframework.security.core.authority.SimpleGrantedAuthority;
import org.springframework.stereotype.Repository;

@Repository
public class OAuthDao {
   @Autowired
   private JdbcTemplate jdbcTemplate;

   public UserEntity getUserDetails(String username) {
      Collection&lt;GrantedAuthority&gt; grantedAuthoritiesList = new ArrayList&lt;&gt;();
      String userSQLQuery = "SELECT * FROM USERS WHERE USERNAME=?";
      List&lt;UserEntity&gt; list = jdbcTemplate.query(userSQLQuery, new String[] { username },
         (ResultSet rs, int rowNum) -&gt; {
         
         UserEntity user = new UserEntity();
         user.setUsername(username);
         user.setPassword(rs.getString("PASSWORD"));
         return user;
      });
      if (list.size() &gt; 0) {
         GrantedAuthority grantedAuthority = new SimpleGrantedAuthority("ROLE_SYSTEMADMIN");
         grantedAuthoritiesList.add(grantedAuthority);
         list.get(0).setGrantedAuthoritiesList(grantedAuthoritiesList);
         return list.get(0);
      }
      return null;
   }
} 
</pre>
<p>You can create a Custom User detail service class that extends the org.springframework.security.core.userdetails.UserDetailsService to call the DAO repository class as shown.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.websecurityapp;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.security.core.userdetails.UserDetailsService;
import org.springframework.security.core.userdetails.UsernameNotFoundException;
import org.springframework.stereotype.Service;

@Service
public class CustomDetailsService implements UserDetailsService {
   @Autowired
   OAuthDao oauthDao;

   @Override
   public CustomUser loadUserByUsername(final String username) throws UsernameNotFoundException {
      UserEntity userEntity = null;
      try {
         userEntity = oauthDao.getUserDetails(username);
         CustomUser customUser = new CustomUser(userEntity);
         return customUser;
      } catch (Exception e) {
         e.printStackTrace();
         throw new UsernameNotFoundException("User " + username + " was not found in the database");
      }
   }
} 
</pre>
<p>Next, create a @configuration class to enable the Web Security, defining the Password encoder (BCryptPasswordEncoder), and defining the AuthenticationManager bean. The Security configuration class should extend WebSecurityConfigurerAdapter class.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.websecurityapp;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;

import org.springframework.security.authentication.AuthenticationManager;
import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;
import org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;
import org.springframework.security.config.annotation.web.builders.HttpSecurity;
import org.springframework.security.config.annotation.web.builders.WebSecurity;
import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;
import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;
import org.springframework.security.config.http.SessionCreationPolicy;
import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;
import org.springframework.security.crypto.password.PasswordEncoder;

@Configuration
@EnableWebSecurity
@EnableGlobalMethodSecurity(prePostEnabled = true)
public class SecurityConfiguration extends WebSecurityConfigurerAdapter {
   @Autowired
   private CustomDetailsService customDetailsService;

   @Bean
   public PasswordEncoder encoder() {
      return new BCryptPasswordEncoder();
   }
   @Override
   @Autowired
   protected void configure(AuthenticationManagerBuilder auth) throws Exception {
      auth.userDetailsService(customDetailsService).passwordEncoder(encoder());
   }
   @Override
   protected void configure(HttpSecurity http) throws Exception {
      http.authorizeRequests().anyRequest().authenticated().and().sessionManagement()
         .sessionCreationPolicy(SessionCreationPolicy.NEVER);
   }
   @Override
   public void configure(WebSecurity web) throws Exception {
      web.ignoring();
   }
   @Override
   @Bean
   public AuthenticationManager authenticationManagerBean() throws Exception {
      return super.authenticationManagerBean();
   }
} 
</pre>
<p>Now, define the OAuth2 Configuration class to add the Client ID, Client Secret, Define the JwtAccessTokenConverter, Private key and Public key for token signer key and verifier key, and configure the ClientDetailsServiceConfigurer for the Token validity with scopes.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.websecurityapp;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.beans.factory.annotation.Qualifier;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;

import org.springframework.security.authentication.AuthenticationManager;
import org.springframework.security.oauth2.config.annotation.configurers.ClientDetailsServiceConfigurer;
import org.springframework.security.oauth2.config.annotation.web.configuration.AuthorizationServerConfigurerAdapter;
import org.springframework.security.oauth2.config.annotation.web.configurers.AuthorizationServerEndpointsConfigurer;
import org.springframework.security.oauth2.config.annotation.web.configurers.AuthorizationServerSecurityConfigurer;
import org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter;
import org.springframework.security.oauth2.provider.token.store.JwtTokenStore;

@Configuration
public class OAuth2Config extends AuthorizationServerConfigurerAdapter {
   private String clientid = "tutorialspoint";
   private String clientSecret = "my-secret-key";
   private String privateKey = "private key";
   private String publicKey = "public key";

   @Autowired
   @Qualifier("authenticationManagerBean")
   private AuthenticationManager authenticationManager;
   
   @Bean
   public JwtAccessTokenConverter tokenEnhancer() {
      JwtAccessTokenConverter converter = new JwtAccessTokenConverter();
      converter.setSigningKey(privateKey);
      converter.setVerifierKey(publicKey);
      return converter;
   }
   @Bean
   public JwtTokenStore tokenStore() {
      return new JwtTokenStore(tokenEnhancer());
   }
   @Override
   public void configure(AuthorizationServerEndpointsConfigurer endpoints) throws Exception {
      endpoints.authenticationManager(authenticationManager).tokenStore(tokenStore())
      .accessTokenConverter(tokenEnhancer());
   }
   @Override
   public void configure(AuthorizationServerSecurityConfigurer security) throws Exception {
      security.tokenKeyAccess("permitAll()").checkTokenAccess("isAuthenticated()");
   }
   @Override
   public void configure(ClientDetailsServiceConfigurer clients) throws Exception {
      clients.inMemory().withClient(clientid).secret(clientSecret).scopes("read", "write")
         .authorizedGrantTypes("password", "refresh_token").accessTokenValiditySeconds(20000)
         .refreshTokenValiditySeconds(20000);

   }
} 
</pre>
<p>Now, create a Private key and public key by using openssl.</p>
<p>You can use the following commands for generating private key.</p>
<pre class="result notranslate">
openssl genrsa -out jwt.pem 2048
openssl rsa -in jwt.pem 
</pre>
<p>You can use For public key generation use the below commands.</p>
<pre class="result notranslate">
openssl rsa -in jwt.pem -pubout 
</pre>
<p>For the version of Spring Boot latter than 1.5 release, add the below property in your application.properties file to define OAuth2 Resource filter order.</p>
<pre class="result notranslate">
security.oauth2.resource.filter-order=3 
</pre>
<p>YAML file users can add the below property in YAML file.</p>
<pre class="result notranslate">
security:
   oauth2:
      resource:
         filter-order: 3 
</pre>
<p>Now, create schema.sql and data.sql file under the classpath resources <b>src/main/resources/directory</b> to connect the application to H2 database.</p>
<p>The schema.sql file is as shown &minus;</p>
<pre class="result notranslate">
CREATE TABLE USERS (ID INT PRIMARY KEY, USERNAME VARCHAR(45), PASSWORD VARCHAR(60));
</pre> 
<p>The data.sql file is as shown &minus;</p>
<pre class="result notranslate">
INSERT INTO USERS (ID, USERNAME,PASSWORD) VALUES (
   1, 'tutorialspoint@gmail.com','$2a$08$fL7u5xcvsZl78su29x1ti.dxI.9rYO8t0q5wk2ROJ.1cdR53bmaVG');

INSERT INTO USERS (ID, USERNAME,PASSWORD) VALUES (
   2, 'myemail@gmail.com','$2a$08$fL7u5xcvsZl78su29x1ti.dxI.9rYO8t0q5wk2ROJ.1cdR53bmaVG'); 
</pre>
<p><b>Note</b> &minus; Password should be stored in the format of Bcrypt Encoder in the database table.</p>
<p>You can create an executable JAR file, and run the Spring Boot application by using the following Maven or Gradle commands.</p> 
<p>For Maven, you can use the command given below &minus;</p>
<pre class="result notranslate">
mvn clean install
</pre>
<p>After “BUILD SUCCESS”, you can find the JAR file under the target directory.</p>
<p>For Gradle, you can use the command as shown &minus;</p>
<pre class="result notranslate">
gradle clean build
</pre>
<p>After “BUILD SUCCESSFUL”, you can find the JAR file under the build/libs directory.</p>
<p>Now, run the JAR file by using the command shown here &minus;</p>
<pre class="result notranslate">
java –jar &lt;JARFILE&gt; 
</pre>
<p>The application is started on the Tomcat port 8080.</p>
<img src="/spring_boot/images/tomcat_port_8080_application_output.jpg" alt="Tomcat Port 8080 Application Output" />
<p>Now hit the POST method URL via POSTMAN to get the OAUTH2 token.</p>
<p><b>http://localhost:8080/oauth/token</b></p>
<p>Now, add the Request Headers as follows &minus;</p>
<ul class="">
<li><p><b>Authorization</b> &minus; Basic Auth with your Client Id and Client secret.</p></li>
<li><p><b>Content Type</b> &minus; application/x-www-form-urlencoded</p></li>
</ul>
<img src="/spring_boot/images/add_request_headers.jpg" alt="Add Request Headers" />
<p>Now, add the Request Parameters as follows &minus;</p>
<ul class="list">
<li>grant_type = password</li>
<li>username = your username</li>
<li>password = your password</li>
</ul>
<img src="/spring_boot/images/add_request_parameters.jpg" alt="Add Request Parameters" />
<p>Now, hit the API and get the access_token as shown &minus;</p>
<img src="/spring_boot/images/get_the_access_token.jpg" alt="Get the Access-Token" />
<p>Now, Hit the Resource Server API with Bearer access token in Request Header as shown.</p>
<img src="/spring_boot/images/resource_server_api_with_bearer_access_token.jpg" alt="Resource Server API with Bearer Access Token" />
<p>Then you can see the output as shown below &minus;</p>
<img src="/spring_boot/images/oauth2_with_jwt_output.jpg" alt="OAuth2 with JWT Output" />
<h1>Spring Boot - Google Cloud Platform</h1>
<p>Google Cloud Platform provides a cloud computing services that run the Spring Boot application in the cloud environment. In this chapter, we are going to see how to deploy the Spring Boot application in GCP app engine platform.</p>
<p>First, download the Gradle build Spring Boot application from Spring Initializer page <a href="https://start.spring.io/" target="_blank" rel="nofollow">www.start.spring.io</a>. Observe the following screenshot.</p>
<img src="/spring_boot/images/spring_initializer_page.jpg" alt="Spring Initializer Page" />
<p>Now, in build.gradle file, add the Google Cloud appengine plugin and appengine classpath dependency.</p>
<p>The code for build.gradle file is given below &minus;</p>
<pre class="prettyprint notranslate">
buildscript {
   ext {
      springBootVersion = '1.5.9.RELEASE'
   }
   repositories {
      mavenCentral()
   }
   dependencies {
      classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}")
      classpath 'com.google.cloud.tools:appengine-gradle-plugin:1.3.3'
   }
}

apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'org.springframework.boot'
apply plugin: 'com.google.cloud.tools.appengine'

group = 'com.tutorialspoint'
version = '0.0.1-SNAPSHOT'
sourceCompatibility = 1.8

repositories {
   mavenCentral()
}
dependencies {
   compile('org.springframework.boot:spring-boot-starter-web')
   testCompile('org.springframework.boot:spring-boot-starter-test')
} 
</pre>
<p>Now, write a simple HTTP Endpoint and it returns the String success as shown &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.appenginedemo;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

@SpringBootApplication
@RestController
public class AppengineDemoApplication {
   public static void main(String[] args) {
      SpringApplication.run(AppengineDemoApplication.class, args);
   }
   @RequestMapping(value = "/")
   public String success() {
      return "APP Engine deployment success";
   }
} 
</pre>
<p>Next, add the app.yml file under src/main/appengine directory as shown &minus;</p>
<pre class="prettyprint notranslate">
runtime: java
env: flex

handlers:
- url: /.*
   script: this field is required, but ignored 
</pre>
<p>Now, go to the Google Cloud console and click the Activate Google cloud shell at the top of the page.</p>
<img src="/spring_boot/images/activate_google_cloud_shell.jpg" alt="Activate Google Cloud Shell" />
<p>Now, move your source files and Gradle file into home directory of your google cloud machine by using google cloud shell.</p>
<img src="/spring_boot/images/moving_to_home_directory_using_google_cloud_shell.jpg" alt="Moving to Home Directory Using Google Cloud Shell" />
<p>Now, execute the command gradle appengineDeploy and it will deploy your application into the Google Cloud appengine.</p>
<p><b>Note</b> &minus; GCP should be billing enabled and before deploying your application into appengine, you should create appengine platform in GCP.</p>
<p>It will take few minutes to deploy your application into GCP appengine platform.</p>
<p>After build successful you can see the Service URL in console window.</p>
<img src="/spring_boot/images/spring_initializer_page.jpg" alt="Spring Initializer Page" />
<p>Now, hit the service URL and see the output.</p>
<img src="/spring_boot/images/app_engine_development_success.jpg" alt="App Engine Development Success" />
<h2>Google Cloud SQL</h2>
<p>To connect the Google Cloud SQL into your Spring Boot application, you should add the following properties into your application.properties file.</p>
<h3>JDBC URL Format</h3>
<pre class="result notranslate">
jdbc:mysql://google/&lt;DATABASE-NAME&gt;?cloudSqlInstance = &lt;GOOGLE_CLOUD_SQL_INSTANCE_NAME&gt; &socketFactory = com.google.cloud.sql.mysql.SocketFactory&user = &lt;USERNAME&gt;&amp;password = &lt;PASSWORD&gt;
</pre>
<p><b>Note</b> &minus; The Spring Boot application and Google Cloud SQL should be in same GCP project.</p>
<p>The application.properties file is given below.</p>
<pre class="prettyprint notranslate">
spring.dbProductService.driverClassName = com.mysql.jdbc.Driver
spring.dbProductService.url = jdbc:mysql://google/PRODUCTSERVICE?cloudSqlInstance = springboot-gcp-cloudsql:asia-northeast1:springboot-gcp-cloudsql-instance&amp;socketFactory = com.google.cloud.sql.mysql.SocketFactory&amp;user = root&amp;password = rootspring.dbProductService.username = root

spring.dbProductService.password = root
spring.dbProductService.testOnBorrow = true
spring.dbProductService.testWhileIdle = true
spring.dbProductService.timeBetweenEvictionRunsMillis = 60000
spring.dbProductService.minEvictableIdleTimeMillis = 30000
spring.dbProductService.validationQuery = SELECT 1
spring.dbProductService.max-active = 15
spring.dbProductService.max-idle = 10
spring.dbProductService.max-wait = 8000
</pre>
<p>YAML file users can add the below properties to your application.yml file.</p>
<pre class="prettyprint notranslate">
spring:
   datasource: 
      driverClassName: com.mysql.jdbc.Driver
      url: "jdbc:mysql://google/PRODUCTSERVICE?cloudSqlInstance=springboot-gcp-cloudsql:asia-northeast1:springboot-gcp-cloudsql-instance&socketFactory=com.google.cloud.sql.mysql.SocketFactory&user=root&password=root"
      password: "root"
      username: "root"
      testOnBorrow: true
      testWhileIdle: true
      validationQuery: SELECT 1
      
      max-active: 15
      max-idle: 10
      max-wait: 8000
</pre>
<h1>Spring Boot - Google OAuth2 Sign-In</h1>
<p>In this chapter, we are going to see how to add the Google OAuth2 Sign-In by using Spring Boot application with Gradle build.</p>
<p>First, add the Spring Boot OAuth2 security dependency in your build configuration file and your build configuration file is given below.</p>
<pre class="prettyprint notranslate">
buildscript {
   ext {
      springBootVersion = '1.5.8.RELEASE'
   }
   repositories {
      mavenCentral()
   }
   dependencies {
      classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}")
   }
}

apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'org.springframework.boot'

group = 'com.tutorialspoint.projects'
version = '0.0.1-SNAPSHOT'
sourceCompatibility = 1.8

repositories {
   mavenCentral()
}
dependencies {
   compile('org.springframework.boot:spring-boot-starter')
   testCompile('org.springframework.boot:spring-boot-starter-test')
   compile('org.springframework.security.oauth:spring-security-oauth2')
   compile('org.springframework.boot:spring-boot-starter-web')
   testCompile('org.springframework.boot:spring-boot-starter-test')
}  
</pre>
<p>Now, add the HTTP Endpoint to read the User Principal from the Google after authenticating via Spring Boot in main Spring Boot application class file as given below &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.projects.googleservice;

import java.security.Principal;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

@SpringBootApplication
@RestController
public class GoogleserviceApplication {
   public static void main(String[] args) {
      SpringApplication.run(GoogleserviceApplication.class, args);
   }
   @RequestMapping(value = "/user")
   public Principal user(Principal principal) {
      return principal;
   }
}
</pre>
<p>Now, write a Configuration file to enable the OAuth2SSO for web security and remove the authentication for index.html file as shown &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.projects.googleservice;

import org.springframework.boot.autoconfigure.security.oauth2.client.EnableOAuth2Sso;
import org.springframework.context.annotation.Configuration;
import org.springframework.security.config.annotation.web.builders.HttpSecurity;
import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;

@Configuration
@EnableOAuth2Sso
public class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {
   @Override
   protected void configure(HttpSecurity http) throws Exception {
      http
         .csrf()
         .disable()
         .antMatcher("/**")
         .authorizeRequests()
         .antMatchers("/", "/index.html")
         .permitAll()
         .anyRequest()
         .authenticated();
   }
}
</pre>
<p>Next, add the index.html file under static resources and add the link to redirect into user HTTP Endpoint to read the Google user Principal as shown below &minus;</p>
<pre class="prettyprint notranslate">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
   &lt;head&gt;
      &lt;meta charset = "ISO-8859-1"&gt;
      &lt;title&gt;Insert title here&lt;/title&gt;
   &lt;/head&gt;
   &lt;body&gt;
      &lt;a href = "user"&gt;Click here to Google Login&lt;/a&gt;
   &lt;/body&gt;
&lt;/html&gt; 
</pre>
<p><b>Note</b> &minus; In Google Cloud console - Enable the Gmail Services, Analytics Services and Google+ service API(s).</p>
<p>Then, go the Credentials section and create a credentials and choose OAuth Client ID.</p>
<img src="/spring_boot/images/credentials_section.jpg" alt="Credentials Section" />
<p>Next, provide a Product Name in OAuth2 consent screen.</p>
<img src="/spring_boot/images/product_name_in_oauth2_consent_screen.jpg" alt="Product Name in OAuth2 Consent Screen" />
<p>Next, choose the Application Type as “Web application”, provide the Authorized JavaScript origins and Authorized redirect URIs.</p>
<img src="/spring_boot/images/authorized_redirect_uris.jpg" alt="Authorized Redirect URIs" />
<p>Now, your OAuth2 Client Id and Client Secret is created.</p>
<img src="/spring_boot/images/oauth2_client_id_created.jpg" alt="OAuth2 Client Id Created" />
<p>Next, add the Client Id and Client Secret in your application properties file.</p>
<pre class="prettyprint notranslate">
security.oauth2.client.clientId = &lt;CLIENT_ID&gt;
security.oauth2.client.clientSecret = &lt;CLIENT_SECRET&gt;
security.oauth2.client.accessTokenUri  =  https://www.googleapis.com/oauth2/v3/token
security.oauth2.client.userAuthorizationUri  =  https://accounts.google.com/o/oauth2/auth
security.oauth2.client.tokenName = oauth_token
security.oauth2.client.authenticationScheme = query
security.oauth2.client.clientAuthenticationScheme = form
security.oauth2.client.scope = profile email

security.oauth2.resource.userInfoUri  =  https://www.googleapis.com/userinfo/v2/me
security.oauth2.resource.preferTokenInfo = false
</pre>  
<p>Now, you can create an executable JAR file, and run the Spring Boot application by using the following Gradle command.</p>
<p>For Gradle, you can use the command as shown &minus;</p>
<pre class="result notranslate">
gradle clean build
</pre>
<p>After “BUILD SUCCESSFUL”, you can find the JAR file under the build/libs directory.</p>
<p>Run the JAR file by using the command java –jar &lt;JARFILE&gt; and application is started on the Tomcat port 8080.</p>
<p>Now hit the URL <b>http://localhost:8080/</b> and click the Google Login link.</p>
<img src="/spring_boot/images/google_login_link.jpg" alt="Google Login link" />
<p>It will redirect to the Google login screen and provide a Gmail login details.</p>
<img src="/spring_boot/images/google_login_screen.jpg" alt="Google Login Screen" />
<p>If login success, we will receive the Principal object of the Gmail user.</p>
<img src="/spring_boot/images/principal_object_of_the_gmail_user.jpg" alt="Principal Object of The Gmail User" />
<div class="mui-container-fluid button-borders show">
<div class="pre-btn">
<a href="/spring_boot/spring_boot_google_oauth2_sign_in.htm"><i class="fal fa-chevron-circle-left"></i> Previous Page</a>
</div>
<div class="nxt-btn">
<a href="/spring_boot/spring_boot_useful_resources.htm">Next Page <i class="fal fa-chevron-circle-right"></i>&nbsp;</a>
</div>
</div>
<div class="google-bottom-ads">
<div>Advertisements</div>
<script><!--
var width = 580;
var height = 400;
var format = "580x400_as";
if( window.innerWidth < 468 ){
   width = 300;
   height = 250;
   format = "300x250_as";
}
google_ad_client = "pub-7133395778201029";
google_ad_width = width;
google_ad_height = height;
google_ad_format = format;
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
<div class="space-bottom"></div>
</div>
</div>
<!-- Tutorial Content Ends Here -->
<!-- Right Column Starts Here -->
<div class="mui-col-md-2 google-right-ads">
<div class="space-top"></div>
<div class="google-right-ad" style="margin: 0px auto !important;margin-top:5px;">
<script><!--
google_ad_client = "pub-2537027957187252";
google_ad_width = 300;
google_ad_height = 250;
google_ad_format = "300x250_as";
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>
<div class="google-right-ad">
<div class="adsbyvli" data-ad-slot="vi_9012177"></div>
<script>(vitag.Init = window.vitag.Init || []).push(function(){viAPItag.display("vi_9012177")})</script>
</div>
<div class="space-bottom"></div>
<div class="google-right-ad">
<div class="adsbyvli" data-ad-slot="vi_9013289"></div>
<script>(vitag.Init = window.vitag.Init || []).push(function(){viAPItag.display("vi_9013289")})</script>
</div>
<div class="space-bottom" style="margin-bottom:15px;"></div>
</div>
<!-- Right Column Ends Here -->
</div>
</div>
<div class="clear"></div>
<footer id="footer">
<div class="mui--text-center">
<div class="mui--text-caption mui--text-light">
<a href="/index.htm" class="logo"><img class="img-responsive" src="/images/logo-black.png" alt="Tutorials Point" title="Tutorials Point"></a>
</div>
<ul class="mui-list--inline mui--text-body2 mui--text-light">
<li><a href="/about/index.htm"><i class="fal fa-globe"></i> About us</a></li>
<li><a href="/about/about_terms_of_use.htm"><i class="fal fa-asterisk"></i> Terms of use</a></li>
<li><a href="/about/about_privacy.htm#cookies"> <i class="fal fa-shield-check"></i> Cookies Policy</a></li>
<li><a href="/about/faq.htm"><i class="fal fa-question-circle"></i> FAQ's</a></li>
<li><a href="/about/about_helping.htm"><i class="fal fa-hands-helping"></i> Helping</a></li>
<li><a href="/about/contact_us.htm"><i class="fal fa-map-marker-alt"></i> Contact</a></li>
</ul>
<div class="mui--text-caption mui--text-light bottom-copyright-text">&copy; Copyright 2019. All Rights Reserved.</div>
</div>
<div id="privacy-banner">
  <div>
    <p>
      We use cookies to provide and improve our services. By using our site, you consent to our Cookies Policy.
      <a id="banner-accept" href="#">Accept</a>
      <a id="banner-learn" href="/about/about_cookies.htm" target="_blank">Learn more</a>
    </p>
  </div>
</div>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-232293-17"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-232293-6');
</script>
</footer>
</body>
</html>
