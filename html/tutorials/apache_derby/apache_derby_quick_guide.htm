<!DOCTYPE html>
<html lang="en-US">
<head>
<title>Apache Derby - Quick Guide - Tutorialspoint</title>
<meta charset="utf-8">
<meta name="description" content="Apache Derby - Quick Guide - Apache Derby is a Relational Database Management System which is fully based on (written/implemented in) Java programming language. It is an open source databas"/>
<meta name="keywords" content="C, C++, Python, Java, HTML, CSS, JavaScript, SQL, PHP, jQuery, XML, DOM, Bootstrap, Tutorials, Articles, Programming, training, learning, quiz, preferences, examples, code"/>
<link rel="canonical" href="https://www.tutorialspoint.com/apache_derby/apache_derby_quick_guide.htm" />
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=yes">
<script src="/theme/js/script-min-v2.js?v=3"></script>
<link rel="stylesheet" href="/theme/css/style-min-v2.css?v=6">
<script src="//services.bilsyndication.com/adv1/?d=901" defer="" async=""></script>
<script> var vitag = vitag || {};</script>
<script> vitag.outStreamConfig = { enablePC: false, enableMobile: false };</script>  
<style>
.right-menu .mui-btn {
    background-color:#92284d;
}
a.demo {
    background:#92284d;
}
li.heading {
    background:#92284d;
}
.course-box{background:#92284d}
.home-intro-sub p{color:#92284d}
</style>
</head>
<body>
<header id="header">
<!-- Top sub-menu Starts Here -->
<div class="mui-appbar mui-container-fulid top-menu">
<div class="mui-container">
<div class="top-menu-item home">
<a href="https://www.tutorialspoint.com/index.htm" target="_blank" title="TutorialsPoint - Home"><i class="fal fa-home"></i> <span>Home</span></a>
</div>
<div class="top-menu-item qa">
<a href="https://www.tutorialspoint.com/about/about_careers.htm" target="_blank" title="Job @ Tutorials Point"><i class="fa fa-suitcase"></i> <span>Jobs</span></a>
</div>
<div class="top-menu-item tools">
<a href="https://www.tutorialspoint.com/online_dev_tools.htm" target="_blank" title="Tools - Online Development and Testing Tools"><i class="fal fa-cogs"></i> <span>Tools</span></a>
</div>
<div class="top-menu-item coding-ground">
<a href="https://www.tutorialspoint.com/codingground.htm" target="_blank" title="Coding Ground - Free Online IDE and Terminal"><i class="fal fa-code"></i> <span>Coding Ground </span></a> 
</div>
<div class="top-menu-item current-affairs">
<a href="https://www.tutorialspoint.com/current_affairs.htm" target="_blank" title="Daily Current Affairs"><i class="fal fa-layer-plus"></i> <span>Current Affairs</span></a>
</div>
<div class="top-menu-item upsc-notes">
<a href="https://www.tutorialspoint.com/upsc_ias_exams.htm" target="_blank" title="UPSC IAS Exams Notes - TutorialsPoint"><i class="fal fa-user-tie"></i> <span>UPSC Notes</span></a>
</div>      
<div class="top-menu-item online-tutoris">
<a href="https://www.tutorialspoint.com/tutor_connect/index.php" target="_blank" title="Top Online Tutors - Tutor Connect"><i class="fal fa-user"></i> <span>Online Tutors</span></a>
</div>
<div class="top-menu-item whiteboard">
<a href="https://www.tutorialspoint.com/whiteboard.htm" target="_blank" title="Free Online Whiteboard"><i class="fal fa-chalkboard"></i> <span>Whiteboard</span></a>
</div>
<div class="top-menu-item net-meeting">
<a href="https://www.tutorialspoint.com/netmeeting.php" target="_blank" title="A free tool for online video conferencing"><i class="fal fa-chalkboard-teacher"></i> <span>Net Meeting</span></a> 
</div>
<div class="top-menu-item articles">
<a href="https://www.tutorix.com" target="_blank" title="Tutorx - The Best Learning App" rel="nofollow"><i class="fal fa-video"></i> <span>Tutorix</span></a> 
</div>        
<div class="social-menu-item">
<a href="https://www.facebook.com/tutorialspointindia" target="_blank" rel="nofollow" data-placement="bottom" title="tutorialspoint @ Facebook"><i class="fab fa-facebook-f"></i></a> 
<a href="https://www.twitter.com/tutorialspoint" target="_blank" rel="nofollow" data-placement="bottom" title="tutorialspoint @ Twitter"><i class="fab fa-twitter"></i></a>
<a href="https://www.linkedin.com/company/tutorialspoint" target="_blank" rel="nofollow" data-placement="bottom" title="tutorialspoint @ Linkedin"><i class="fab fa-linkedin-in"></i></a>
<a href="https://www.youtube.com/channel/UCVLbzhxVTiTLiVKeGV7WEBg" target="_blank" rel="nofollow" data-placement="bottom" title="tutorialspoint YouTube"><i class="fab fa-youtube"></i></a>
</div>        
</div>
</div>
<!-- Top sub-menu Ends Here -->
<!-- Top main-menu Starts Here -->
<div class="mui-appbar mui-container-fulid mui--appbar-line-height mui--z1" id="logo-menu">
<div class="mui-container">
<div class="left-menu">
<a href="https://www.tutorialspoint.com/index.htm" title="Tutorialspoint">
<img class="tp-logo" alt="tutorialspoint" src="/apache_derby/images/logo.png">
</a>
<div class="mui-dropdown">
<a class="mui-btn mui-btn--primary categories" data-mui-toggle="dropdown"><i class="fa fa-th-large"></i> 
<span>Categories <span class="mui-caret"></span></span></a>            
<ul class="mui-dropdown__menu cat-menu">
<li>
<ul>
<li><a href="/academic_tutorials.htm"><i class="fa fa-caret-right"></i> Academic Tutorials</a></li>
<li><a href="/big_data_tutorials.htm"><i class="fa fa-caret-right"></i> Big Data &amp; Analytics </a></li>
<li><a href="/computer_programming_tutorials.htm"><i class="fa fa-caret-right"></i> Computer Programming </a></li>
<li><a href="/computer_science_tutorials.htm"><i class="fa fa-caret-right"></i> Computer Science </a></li>
<li><a href="/database_tutorials.htm"><i class="fa fa-caret-right"></i> Databases </a></li>
<li><a href="/devops_tutorials.htm"><i class="fa fa-caret-right"></i> DevOps </a></li>
<li><a href="/digital_marketing_tutorials.htm"><i class="fa fa-caret-right"></i> Digital Marketing </a></li>
<li><a href="/engineering_tutorials.htm"><i class="fa fa-caret-right"></i> Engineering Tutorials </a></li>
<li><a href="/upsc_ias_exams.htm"><i class="fa fa-caret-right"></i> Exams Syllabus </a></li>
<li><a href="/famous_monuments.htm"><i class="fa fa-caret-right"></i> Famous Monuments </a></li>
<li><a href="/gate_exams_tutorials.htm"><i class="fa fa-caret-right"></i> GATE Exams Tutorials</a></li>
<li><a href="/latest_technologies.htm"><i class="fa fa-caret-right"></i> Latest Technologies </a></li>
<li><a href="/machine_learning_tutorials.htm"><i class="fa fa-caret-right"></i> Machine Learning </a></li>
<li><a href="/mainframe_tutorials.htm"><i class="fa fa-caret-right"></i> Mainframe Development </a></li>
<li><a href="/management_tutorials.htm"><i class="fa fa-caret-right"></i> Management Tutorials </a></li>
<li><a href="/maths_tutorials.htm"><i class="fa fa-caret-right"></i> Mathematics Tutorials</a></li>
<li><a href="/microsoft_technologies_tutorials.htm"><i class="fa fa-caret-right"></i> Microsoft Technologies </a></li>
<li><a href="/misc_tutorials.htm"><i class="fa fa-caret-right"></i> Misc tutorials </a></li>
<li><a href="/mobile_development_tutorials.htm"><i class="fa fa-caret-right"></i> Mobile Development </a></li>
<li><a href="/java_technology_tutorials.htm"><i class="fa fa-caret-right"></i> Java Technologies </a></li>
<li><a href="/python_technologies_tutorials.htm"><i class="fa fa-caret-right"></i> Python Technologies </a></li>
<li><a href="/sap_tutorials.htm"><i class="fa fa-caret-right"></i> SAP Tutorials </a></li>
<li><a href="/scripting_lnaguage_tutorials.htm"><i class="fa fa-caret-right"></i>Programming Scripts </a></li>
<li><a href="/selected_reading.htm"><i class="fa fa-caret-right"></i> Selected Reading </a></li>
<li><a href="/software_quality_tutorials.htm"><i class="fa fa-caret-right"></i> Software Quality </a></li>
<li><a href="/soft_skill_tutorials.htm"><i class="fa fa-caret-right"></i> Soft Skills </a></li>
<li><a href="/telecom_tutorials.htm"><i class="fa fa-caret-right"></i> Telecom Tutorials </a></li>
<li><a href="/upsc_ias_exams.htm"><i class="fa fa-caret-right"></i> UPSC IAS Exams </a></li>
<li><a href="/web_development_tutorials.htm"><i class="fa fa-caret-right"></i> Web Development </a></li>
<li><a href="/sports_tutorials.htm"><i class="fa fa-caret-right"></i> Sports Tutorials </a></li>
<li><a href="/xml_technologies_tutorials.htm"><i class="fa fa-caret-right"></i> XML Technologies </a></li>
<li><a href="/multi_language_tutorials.htm"><i class="fa fa-caret-right"></i> Multi-Language Tutorials</a></li>
<li><a href="/questions_and_answers.htm"><i class="fa fa-caret-right"></i> Interview Questions</a></li>
</ul>
</li>
</ul>
<div class="clear"></div>
</div> 
</div>
<div class="right-menu">
<div class="toc-toggle">
<a href="javascript:void(0);"><i class="fa fa-bars"></i></a>
</div>
<div class="mobile-search-btn">
<a href="https://www.tutorialspoint.com/search.htm"><i class="fal fa-search"></i></a>
</div>
<div class="search-box">
<form method="get" class="" name="searchform" action="https://www.google.com/search" target="_blank" novalidate="">
<input type="hidden" name="sitesearch" value="www.tutorialspoint.com" class="user-valid valid">
<input class="header-search-box" type="text" id="search-string" name="q" placeholder="Search your favorite tutorials..." onfocus="if (this.value == 'Search your favorite tutorials...') {this.value = '';}" onblur="if (this.value == '') {this.value = 'Search your favorite tutorials...';}" autocomplete="off">
<button><i class="fal fa-search"></i></button>
</form>
</div>
<div class="menu-btn library-btn">
<a href="https://www.tutorialspoint.com/tutorialslibrary.htm"><i class="fal fa-cubes"></i> <span>Library</span></a>
</div>
<div class="menu-btn videos-btn">
<a href="https://www.tutorialspoint.com/videotutorials/index.htm"><i class="fal fa-video"></i> <span>Videos</span></a> 
</div>
<div class="menu-btn videos-btn">
<a href="https://www.tutorialspoint.com/questions/index.php"><i class="fa fa-location-arrow"></i> <span>Q/A</span></a>
</div>
<div class="menu-btn ebooks-btn">
<a href="https://store.tutorialspoint.com"><i class="fal fa-book"></i> <span>eBooks</span></a>
</div>
<div class="mui-dropdown">
<button class="mui-btn mui-btn--primary" data-mui-toggle="dropdown">
<span class="mui-caret"></span>
</button>
<ul class="mui-dropdown__menu">
<li><a href="https://www.tutorialspoint.com/tutorialslibrary.htm"><i class="fal fa-cubes"></i> <span>Library</span></a></li>
<li><a href="https://www.tutorialspoint.com/videotutorials/index.htm"><i class="fal fa-video"></i> <span>Videos</span></a></li>
<li><a href="https://store.tutorialspoint.com"><i class="fal fa-book"></i> <span>eBooks</span></a></li>
</ul>
</div>
</div>
</div>
</div>
<!-- Top main-menu Ends Here -->
</header>
<div class="mui-container-fluid content">
<div class="mui-container">
<!-- Tutorial ToC Starts Here -->
<div class="mui-col-md-3 tutorial-toc">
<div class="mini-logo">
<img src="/apache_derby/images/apache-derby-mini-logo.jpg" alt="Apache Derby Tutorial" />
</div>
<ul class="toc chapters">
<li class="heading">Apache Derby Tutorial</li>
<li><a href="/apache_derby/index.htm">Apache Derby - Home</a></li>
<li><a href="/apache_derby/apache_derby_introduction.htm">Apache Derby - Introduction</a></li>
<li><a href="/apache_derby/apache_derby_deployment_modes.htm">Apache Derby - Deployment Modes</a></li>
<li><a href="/apache_derby/apache_derby_environment_setup.htm">Apache Derby - Environment Setup</a></li>
<li><a href="/apache_derby/apache_derby_tools.htm">Apache Derby - Tools</a></li>
<li><a href="/apache_derby/apache_derby_syntax.htm">Apache Derby - Syntax</a></li>
<li><a href="/apache_derby/apache_derby_data_types.htm">Apache Derby - Data Types</a></li>
<li><a href="/apache_derby/apache_derby_create_table.htm">Apache Derby - Create Table</a></li>
<li><a href="/apache_derby/apache_derby_drop_table.htm">Apache Derby - Drop Table</a></li>
<li><a href="/apache_derby/apache_derby_insert_data.htm">Apache Derby - Insert Data</a></li>
<li><a href="/apache_derby/apache_derby_retrieve_data.htm">Apache Derby - Retrieve Data</a></li>
<li><a href="/apache_derby/apache_derby_update_data.htm">Apache Derby - Update Data</a></li>
<li><a href="/apache_derby/apache_derby_delete_data.htm">Apache Derby - Delete Data</a></li>
<li><a href="/apache_derby/apache_derby_where_clause.htm">Apache Derby - Where Clause</a></li>
<li><a href="/apache_derby/apache_derby_group_by_clause.htm">Apache Derby - GROUP BY Clause</a></li>
<li><a href="/apache_derby/apache_derby_order_by_clause.htm">Apache Derby - Order By Clause</a></li>
<li><a href="/apache_derby/apache_derby_having_clause.htm">Apache Derby - Having Clause</a></li>
<li><a href="/apache_derby/apache_derby_alter_table_statement.htm">Alter Table Statement</a></li>
<li><a href="/apache_derby/apache_derby_indexes.htm">Apache Derby - Derby Indexes</a></li>
<li><a href="/apache_derby/apache_derby_procedures.htm">Apache Derby - Procedures</a></li>
<li><a href="/apache_derby/apache_derby_schemas.htm">Apache Derby - Schemas</a></li>
<li><a href="/apache_derby/apache_derby_triggers.htm">Apache Derby - Triggers</a></li>
</ul>
<ul class="toc chapters">
<li class="heading">Apache Derby Useful Resources</li>
<li><a href="/apache_derby/apache_derby_quick_guide.htm">Apache Derby - Quick Guide</a></li>
<li><a href="/apache_derby/apache_derby_useful_resources.htm">Apache Derby - Useful Resources</a></li>
<li><a href="/apache_derby/apache_derby_discussion.htm">Apache Derby - Discussion</a></li>
</ul>
<ul class="toc reading">
<li class="sreading">Selected Reading</li>
<li><a target="_top" href="/upsc_ias_exams.htm">UPSC IAS Exams Notes</a></li>
<li><a target="_top" href="/developers_best_practices/index.htm">Developer's Best Practices</a></li>
<li><a target="_top" href="/questions_and_answers.htm">Questions and Answers</a></li>
<li><a target="_top" href="/effective_resume_writing.htm">Effective Resume Writing</a></li>
<li><a target="_top" href="/hr_interview_questions/index.htm">HR Interview Questions</a></li>
<li><a target="_top" href="/computer_glossary.htm">Computer Glossary</a></li>
<li><a target="_top" href="/computer_whoiswho.htm">Who is Who</a></li>
</ul>
</div>
<!-- Tutorial ToC Ends Here -->
<!-- Tutorial Content Starts Here -->
<div class="mui-col-md-6 tutorial-content">
<h1>Apache Derby - Quick Guide</h1>
<hr />
<div class="top-ad-heading">Advertisements</div>
<div style="text-align: center;">
<script><!--
google_ad_client = "pub-7133395778201029";
var width = document.getElementsByClassName("tutorial-content")[0].clientWidth - 40;
google_ad_width = width;
google_ad_height = 150;
google_ad_format = width + "x150_as";
google_ad_type = "image";
google_ad_channel = "";
//--></script>
<script src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>
<div class="mui-container-fluid button-borders">
<div class="pre-btn">
<a href="/apache_derby/apache_derby_triggers.htm"><i class="fal fa-chevron-circle-left"></i> Previous Page</a>
</div>
<div class="nxt-btn">
<a href="/apache_derby/apache_derby_useful_resources.htm">Next Page <i class="fal fa-chevron-circle-right"></i>&nbsp;</a>
</div>
</div>
<div class="clearer"></div>
<h1>Apache Derby - Introduction</h1>
<p>Apache Derby is a <b>R</b>elational <b>D</b>atabase <b>M</b>anagement <b>S</b>ystem which is fully based on (written/implemented in) Java programming language. It is an open source database developed by Apache Software Foundation.</p>
<p>Oracle released the equivalent of Apache Derby with the name JavaDB.</p>
<h2>Features of Apache Derby</h2>
<p>Following are the notable features of Derby database &minus;</p>
<ul class="list">
<li><p><b>Platform independent</b> &minus; Derby uses on-disc database format where the databases in it are stored in a file in the disc within the directory with the same name as the database.</p></li>
<li><p><b>No modifying data</b> &minus; Because of this, you can move derby databases to other machines without modifying the data.</p></li>
<li><p><b>Transactional support</b> &minus; Derby provides complete support for transactions ensuring data integrity.</p></li>
<li><p><b>Including databases</b> &minus; You can include pre-build/existing databases into your current derby applications.</p></li>
<li><p><b>Less space</b> &minus; Derby database has a small footprint, i.e., it occupies less space and
it is easy to use and deploy it.</p></li>
<li><p><b>Embed with Java Application</b> &minus; Derby provides an embedded database engine which can be embedded in to Java applications and it will be run in the same JVM as the application. Simply loading the driver starts the database and it stops with the applications.</p></li>
</ul>
<h2>Limitations of Apache Derby</h2>
<p>Following are the limitations of Apache Derby &minus;</p>
<ul class="list">
<li><p>Derby does not support indexes for datatypes such as BLOB and LONGVARCHAR.</p></li>
<li><p>If Derby does not have enough disc space, it will shut down immediately.</p></li>
</ul>
<h2>Data storage</h2>
<p>While storing data, Apache Derby follows a concept known as <b>conglomerate</b>. In this, data of a table will be stored in a separate file. In the same way, each index of a table is also stored in a separate file. Thus, there will be a separate file for every table or index in the database.</p>
<h2>Apache Derby Library/Components</h2>
<p>Apache Derby distribution provides various components. In the lib folder of the apache distribution you have downloaded, you can observe jar files representing various components.</p>
<table class="table table-bordered"> 
<tr>
<th>Jar file</th>
<th>Component</th>
<th>Description</th>
</tr>
<tr>
<td>derby.jar</td>
<td>Database Engine and JDBC driver</td>
<td><p>The Database engine of Apache Derby is an embedded relational database engine which supports JDBC and SQL API’s. </p>
<p>This also acts as embedded Driver, using which you can communicate to Derby using Java applications.</p></td>
</tr>
<tr>
<td>derbynet.jar derbyrun.jar</td>
<td>Network server</td>
<td><p>The Network Sever of Apache Derby provides the client server functionality, where the clients can connect to the Derby server through a network.</p></td>
</tr>
<tr>
<td>derbyclient.jar</td>
<td>Network client JDBC driver</td>
<td></td>
</tr>
<tr>
<td>derbytools.jar</td>
<td>Command line tools</td>
<td>This jar file holds tools such as <b>sysinfo, ij</b>, and <b>dblook</b>.</td>
</tr>
<tr>
<td>derbyoptionaltools.jar</td>
<td>Optional command line utilities (tools)</td>
<td><p>This jar file provides optional tools: databaseMetaData optional tool, foreignViews optional tool, luceneSupport optional tool, rawDBReader optional tool, simpleJson optional tool, etc</p></td>
</tr>
<tr>
<td>derbyLocale_XX.jar</td>
<td>Jar files to localize messages</td>
<td><p>In addition to the above mentioned jar files, you can see several derbyLocale_XX.jar (es, fr, hu, it, ja, etc.). Using these, you can localize the messages of Apache Derby.</p></td>
</tr>
</table>
<h1>Apache Derby - Deployment Modes</h1>
<p>You can deploy apache derby in two modes, namely embedded mode and server mode.</p>
<h2>Embedded mode</h2>
<p>You can run derby in embedded mode using Java application (using embedded driver). If you deploy Derby in embedded mode, the database engine will run in the same JVM as the Java application. It starts and stops with the application. You can access the database only with this application.</p>
<img src="/apache_derby/images/embedded_mode.jpg" alt="Embedded Mode" />
<h2>Server mode</h2>
<p>In the server mode, derby will be run in the JVM of an application server where you can
send a request to the server to access it. Unlike in embedded mode, multiple applications (java) can send a request to the server and access the database.</p>
<img src="/apache_derby/images/server_mode.jpg" alt="Server Mode" />
<h1>Apache Derby - Environment Setup</h1>
<p>Following chapter explains how to download and install Apache Derby.</p>
<h2>Downloading Apache Derby</h2>
<p>Visit the home page of Apache Derby home page <a target="_blank" rel="nofollow" href="https://db.apache.org/derby/">https://db.apache.org/derby/</a>. Click the Download tab.</p>
<img src="/apache_derby/images/home_page_of_apache_derby.jpg" alt="Home page of Apache Derby" />
<p>Select and click on the link of the latest version of Apache Derby.</p>
<img src="/apache_derby/images/latest_version_of_apache_derby.jpg" alt="Latest version of Apache Derby" />
<p>On clicking the selected link, you will be redirected to the <b>Distributions</b> page of apache derby. If you observe here, derby provides distributions namely, db-derby-bin, db-derbylib.zip, db-derby-lib-debug.zip, and db-derby-src.zip.</p>
<p>Download the <b>db-derby-bin</b> folder. Copy its contents to a separate folder where you wanted to install Apache Derby. (for example, say <b>C:\Derby</b>)</p>
<p>Now, to work with Derby,</p>
<ul class="list">
<li><p>Make sure that you already have set the <b>JAVA_HOME</b> variable by passing the location of bin folder of Java Installation folder, and include the <b>JAVA_HOME/bin</b> in the PATH variable.</p></li>
<li><p>Create a new environment variable, <b>DERBY_HOME</b> with value C:\Derby.</p></li>
<li><p>The bin folder of db-derby-bin distributions (we changed it as C:\Derby\bin) contains all the required jar files.</p></li>
</ul>
<p>As discussed, Apache Derby can be installed/deployed in two ways as follows &minus;</p>
<ul class="list">
<li><p><b>Embedded mode</b> &minus; In this, you need to access the database using Embedded Derby JDBC driver. You can start and stop derby through Java application. Both Database engine and your application will run on the same JVM.</p></li>
<li><p><b>Network Server mode</b> &minus; In this mode, you can access Derby in a typical clientserver fashion, where Derby is embedded in the server system. Then, the client machines running in different JVM’s (that of the Server) will send requests to the server, and the server responds to those requests.</p></li>
</ul>
<p>The client can be another JVM in the same system machine of the server or a Java application from a remote system.</p>
<h2>Installing Derby in Embedded Mode</h2>
<p>To install Apache Derby in embedded mode, include the jar file <b>derby.jar</b> in your CLASSPATH.</p>
<p>Or, you can set the classpath for required jar files by running the <b>setEmbeddedCP</b>
command. Browse through the <b>bin</b> directory of Apache Derby and run this file as shown
below &minus;</p>
<pre class="result notranslate">
C:\Users\MYUSER>cd %DERBY_HOME%/bin
C:\Derby\bin>setEmbeddedCP.bat
C:\Derby\bin>SET DERBY_HOME=C:\Derby
C:\Derby\bin>set
CLASSPATH=C:\Derby\lib\derby.jar;C:\Derby\lib\derbytools.jar;C:\Derby/lib/derby
optionaltools.jar;C:\Users\Tutorialspoint\Google
Drive\Office\Derby\derby_zip\New folder\db-derby-10.12.1.1-
bin\lib;C:\EXAMPLES_\Task\jars\*;C:\EXAMPLES\jars\mysql-connector-java-5.1.40-
bin.jar;C:\Users\Tutorialspoint\Google Drive\Office\37.Junit
Update\jars;C:\Program Files\Apache Software Foundation\Tomcat
8.5\lib\*;C:\Derby\lib\*;
</pre>
<p>After setting up Apache Derby, to access it, run Java programs using the embedded driver.</p>
<h3>Verification</h3>
<p>You can verify the setup using the <b>ij</b> tool as shown below &minus;</p>
<pre class="result notranslate">
C:\Derby\bin>ij
ij version 10.14
ij> connect 'jdbc:derby:SampleDB;create=true';
ij&gt;
</pre>
<h2>Installing Derby in Network Server Mode</h2>
<p>To install Apache Derby in network server mode, you need to include <b>derbynet.jar</b> and <b>derbytools.jar</b> files to the CLASSPATH.</p>
<p>Or, you can set the class path for required jar files by running the <b>setNetworkServerCP</b>
command. Browse through the <b>bin</b> directory of Apache Derby and run this file as shown below &minus;</p>
<pre class="result notranslate">
C:\Users\MYUSER>cd %DERBY_HOME%/bin
C:\Derby\bin>setNetworkServerCP.bat
C:\Derby\bin>SET DERBY_INSTALL=C:\Derby
C:\Derby\bin>set
CLASSPATH=C:\Derby\lib\derbynet.jar;C:\Derby\lib\derbytools.jar;C:\Derby/lib/de
rbyoptionaltools.jar;C:\Users\Tutorialspoint\Google
Drive\Office\Derby\derby_zip\New folder\db-derby-10.12.1.1-
bin\lib;C:\EXAMPLES_\Task\jars\*;C:\EXAMPLES\jars\mysql-connector-java-5.1.40-
bin.jar;C:\Users\Tutorialspoint\Google Drive\Office\37.Junit
Update\jars;C:\Program Files\Apache Software Foundation\Tomcat
8.5\lib\*;C:\Derby\lib\*;
</pre>
<h3>Starting Derby in Server Mode</h3>
<p>You can start Network Server by running the command <b>startNetworkServer</b>. Browse through the <b>bin</b> directory of Apache Derby and run this command as shown below &minus;</p>
<pre class="result notranslate">
C:\Derby\bin>startNetworkServer
Fri Jan 04 11:20:30 IST 2019 : Security manager installed using the Basic
server security policy.
Fri Jan 04 11:20:30 IST 2019 : Apache Derby Network Server - 10.14.2.0 -
(1828579) started and ready to accept connections on port 1527
</pre>
<p>Or, you can start the server using <b>derbyrun.jar</b> as shown below &minus;</p>
<pre class="result notranslate">
C:\Users\MYUSER>cd %DERBY_HOME%/lib
C:\Derby\lib>java -jar derbyrun.jar server start
Fri Jan 04 11:27:20 IST 2019: Security manager installed using the Basic server
security policy.
Fri Jan 04 11:27:21 IST 2019: Apache Derby Network Server - 10.14.2.0 -
(1828579) started and ready to accept connections on port 1527
</pre>
<h3>Network Client</h3>
<p>In client, add the jar files <b>derbyclient.jar</b> and <b>derbytools.jar</b> to the CLASSPATH. Or, run the <b>setNetworkClientCP</b> command as shown below &minus;</p>
<pre class="result notranslate">
C:\Users\MYUSER>cd %DERBY_HOME%/bin
C:\Derby\bin>setNetworkClientCP
C:\Derby\bin>SET DERBY_HOME=C:\Derby
C:\Derby\bin>set
CLASSPATH=C:\Derby\lib\derbyclient.jar;C:\Derby\lib\derbytools.jar;C:\Derby/lib
/derbyoptionaltools.jar;C:\Derby\lib\derby.jar;C:\Derby\lib\derbytools.jar;C:\D
erby/lib/derbyoptionaltools.jar;C:\Users\Tutorialspoint\Google
Drive\Office\Derby\derby_zip\New folder\db-derby-10.12.1.1-
bin\lib;C:\EXAMPLES_\Task\jars\*;C:\EXAMPLES\jars\mysql-connector-java-5.1.40-
bin.jar;C:\Users\Tutorialspoint\Google Drive\Office\37.Junit
Update\jars;C:\Program Files\Apache Software Foundation\Tomcat
8.5\lib\*;C:\Derby\lib\*;
</pre>
<p>Then from this client, you can send requests to the server.</p>
<h3>Verification</h3>
<p>You can verify the setup using the <b>ij</b> tool as shown below &minus;</p>
<pre class="result notranslate">
C:\Derby\bin>ij
ij version 10.14
ij> connect 'jdbc:derby://localhost:1527/SampleDB;create=true';
ij>
</pre>
<h2>Apache Derby Eclipse Environment</h2>
<p>While working with Eclipse, you need to set the build path for all the required jar files.</p>
<h3>Step 1: Create a project and set build path</h3>
<p>Open eclipse and create a sample project. Right click on the project and select the option
<b>Build Path -> Configure Build</b> Path as shown below &minus;</p>
<img src="/apache_derby/images/configure_build_path.jpg" alt="Configure Build Path" />
<p>In the <b>Java Build Path</b> frame in the <b>Libraries</b> tab, click on <b>Add External JARs</b>.</p>
<img src="/apache_derby/images/java_build_path.jpg" alt="Java Build Path" />
<p>And select the required <b>jar</b> files in the lib folder of the Derby installation folder and click on <b>Apply and  Close</b>.</p>
<h1>Apache Derby - Tools</h1>
<p>Apache Derby provides you tools such as <b>sysinfo, ij</b> and, <b>dblook</b>.</p>
<h2>sysinfo tool</h2>
<p>Using this tool, you can get information about Java and Derby environment.</p>
<p>Browse through the bin folder of Derby installation directory and execute the sysinfo command as shown below &minus;</p>
<pre class="result notranslate">
C:\Users\MY_USER>cd %DERBY_HOME%/bin
C:\Derby\bin>sysinfo
</pre>
<p>On executing, it gives you system information about java and derby as given below &minus;</p>
<pre class="result notranslate">
------------------ Java Information ------------------
Java Version: 1.8.0_101
Java Vendor: Oracle Corporation
Java home: C:\Program Files\Java\jdk1.8.0_101\jre
Java classpath: C:\Users\Tutorialspoint\Google
Drive\Office\Derby\derby_zip\New folder\db-derby-10.12.1.1-
bin\lib;C:\EXAMPLES_\Task\jars\*;C:\EXAMPLES\jars\mysql-connector-java-5.1.40-
bin.jar;C:\Users\Tutorialspoint\Google Drive\Office\37.Junit
Update\jars;C:\Program Files\Apache Software Foundation\Tomcat
8.5\lib\*;C:\Derby\lib\derby.jar;C:\Derby\lib\derbyclient.jar;C:\Derby\lib\derb
yLocale_cs.jar;C:\Derby\lib\derbyLocale_de_DE.jar;C:\Derby\lib\derbyLocale_es.j
ar;C:\Derby\lib\derbyLocale_fr.jar;C:\Derby\lib\derbyLocale_hu.jar;C:\Derby\lib
\derbyLocale_it.jar;C:\Derby\lib\derbyLocale_ja_JP.jar;C:\Derby\lib\derbyLocale
_ko_KR.jar;C:\Derby\lib\derbyLocale_pl.jar;C:\Derby\lib\derbyLocale_pt_BR.jar;C
:\Derby\lib\derbyLocale_ru.jar;C:\Derby\lib\derbyLocale_zh_CN.jar;C:\Derby\lib\
derbyLocale_zh_TW.jar;C:\Derby\lib\derbynet.jar;C:\Derby\lib\derbyoptionaltools
.jar;C:\Derby\lib\derbyrun.jar;C:\Derby\lib\derbytools.jar;;C:\Derby/lib/derby.
jar;C:\Derby/lib/derbynet.jar;C:\Derby/lib/derbyclient.jar;C:\Derby/lib/derbyto
ols.jar;C:\Derby/lib/derbyoptionaltools.jar
OS name: Windows 10
OS architecture: amd64
OS version: 10.0
Java user name: Tutorialspoint
Java user home: C:\Users\Tutorialspoint
Java user dir: C:\Derby\bin
java.specification.name: Java Platform API Specification
java.specification.version: 1.8
java.runtime.version: 1.8.0_101-b13
--------- Derby Information --------
[C:\Derby\lib\derby.jar] 10.14.2.0 - (1828579)
[C:\Derby\lib\derbytools.jar] 10.14.2.0 - (1828579)
[C:\Derby\lib\derbynet.jar] 10.14.2.0 - (1828579)
[C:\Derby\lib\derbyclient.jar] 10.14.2.0 - (1828579)
[C:\Derby\lib\derbyoptionaltools.jar] 10.14.2.0 - (1828579)
------------------------------------------------------
----------------- Locale Information -----------------
Current Locale : [English/United States [en_US]]
Found support for locale: [cs]
 version: 10.14.2.0 - (1828579)
Found support for locale: [de_DE]
 version: 10.14.2.0 - (1828579)
Found support for locale: [es]
 version: 10.14.2.0 - (1828579)
Found support for locale: [fr]
 version: 10.14.2.0 - (1828579)
Found support for locale: [hu]
 version: 10.14.2.0 - (1828579)
Found support for locale: [it]
 version: 10.14.2.0 - (1828579)
Found support for locale: [ja_JP]
 version: 10.14.2.0 - (1828579)
Found support for locale: [ko_KR]
 version: 10.14.2.0 - (1828579)
Found support for locale: [pl]
 version: 10.14.2.0 - (1828579)
Found support for locale: [pt_BR]
 version: 10.14.2.0 - (1828579)
Found support for locale: [ru]
 version: 10.14.2.0 - (1828579)
Found support for locale: [zh_CN]
 version: 10.14.2.0 - (1828579)
Found support for locale: [zh_TW]
 version: 10.14.2.0 - (1828579)
------------------------------------------------------
------------------------------------------------------
</pre>
<h2>ijtool</h2>
<p>Using this tool, you can run scripts and queries of apache Derby.</p>
<p>Browse through the bin folder of Derby installation directory and execute the ij command
as shown below &minus;</p>
<pre class="result notranslate">
C:\Users\MY_USER>cd %DERBY_HOME%/bin
C:\Derby\bin>ij
</pre>
<p>This will give you <b>ij shell</b> where you can execute derby command and scripts, as shown
below &minus;</p>
<pre class="result notranslate">
ij version 10.14
ij>
</pre>
<p>Using <b>help</b> command, you can get the list of commands supported by this shell.</p>
<pre class="result notranslate">
C:\Derby\bin>cd %DERBY_HOME%/bin
C:\Derby\bin>ij
ij version 10.14
ij> help;
Supported commands include:
 PROTOCOL 'JDBC protocol' [ AS ident ];
 -- sets a default or named protocol
 DRIVER 'class for driver'; -- loads the named class
 CONNECT 'url for database' [ PROTOCOL namedProtocol ] [ AS connectionName ];
 -- connects to database URL
 -- and may assign identifier
 SET CONNECTION connectionName; -- switches to the specified connection
 SHOW CONNECTIONS; -- lists all connections
 AUTOCOMMIT [ ON | OFF ]; -- sets autocommit mode for the connection
 DISCONNECT [ CURRENT | connectionName | ALL ];
 -- drop current, named, or all connections;
-- the default is CURRENT
 SHOW SCHEMAS; -- lists all schemas in the current database
 SHOW [ TABLES | VIEWS | PROCEDURES | FUNCTIONS | SYNONYMS ] { IN schema };
 -- lists tables, views, procedures, functions or
synonyms
 SHOW INDEXES { IN schema | FROM table };
 -- lists indexes in a schema, or for a table
 SHOW ROLES; -- lists all defined roles in the database,
sorted
 SHOW ENABLED_ROLES; -- lists the enabled roles for the current
 -- connection (to see current role use
 -- VALUES CURRENT_ROLE), sorted
 SHOW SETTABLE_ROLES; -- lists the roles which can be set for the
 -- current connection, sorted
 DESCRIBE name; -- lists columns in the named table
 COMMIT; -- commits the current transaction
 ROLLBACK; -- rolls back the current transaction
 PREPARE name AS 'SQL-J text'; -- prepares the SQL-J text
 EXECUTE { name | 'SQL-J text' } [ USING { name | 'SQL-J text' } ] ;
 -- executes the statement with parameter
-- values from the USING result set row
 REMOVE name; -- removes the named previously prepared
statement
 RUN 'filename'; -- run commands from the named file
 ELAPSEDTIME [ ON | OFF ]; -- sets elapsed time mode for ij
 MAXIMUMDISPLAYWIDTH integerValue;
 -- sets the maximum display width for
-- each column to integerValue
 ASYNC name 'SQL-J text'; -- run the command in another thread
 WAIT FOR name; -- wait for result of ASYNC'd command
 HOLDFORCONNECTION; -- sets holdability for a connection to HOLD
 -- (i.e. ResultSet.HOLD_CURSORS_OVER_COMMIT)
 NOHOLDFORCONNECTION; -- sets holdability for a connection to NO HOLD
 -- (i.e. ResultSet.CLOSE_CURSORS_AT_COMMIT)
 GET [SCROLL INSENSITIVE] [WITH { HOLD | NOHOLD }] CURSOR name AS 'SQL-J
query';
 -- gets a cursor (JDBC result set) on the query
-- the default is a forward-only cursor with
holdability
 NEXT name; -- gets the next row from the named cursor
 FIRST name; -- gets the first row from the named scroll
cursor
 LAST name; -- gets the last row from the named scroll
cursor
 PREVIOUS name; -- gets the previous row from the named scroll
cursor
 ABSOLUTE integer name; -- positions the named scroll cursor at the
absolute row number
 -- (A negative number denotes position from the
last row.)
 RELATIVE integer name; -- positions the named scroll cursor relative to
the current row
 -- (integer is number of rows)
 AFTER LAST name; -- positions the named scroll cursor after the
last row
 BEFORE FIRST name; -- positions the named scroll cursor before the
first row
 GETCURRENTROWNUMBER name; -- returns the row number for the current
position of the named scroll cursor
 -- (0 is returned when the cursor is not
positioned on a row.)
 CLOSE name; -- closes the named cursor
 LOCALIZEDDISPLAY [ ON | OFF ];
 -- controls locale sensitive data representation
 EXIT; -- exits ij
 HELP; -- shows this message
Any unrecognized commands are treated as potential SQL-J commands and executed
directly.
</pre>
<h2>dblooktool</h2>
<p>This tool is used to generate Data Definition Language.</p>
<p>Browse through the bin folder of Derby installation directory and execute the <b>dblook</b> command as shown below &minus;</p>
<pre class="result notranslate">
C:\Users\MY_USER>cd %DERBY_HOME%/bin
C:\Derby\bin>dblook -d myURL
</pre>
<p>Where, <b>myURL</b> is the connection URL of the database for which you need to generate DDL.</p>
<h1>Apache Derby - Syntax</h1>
<p>This chapter gives you the syntax of all the Apache Derby SQL statements.</p>
<p>All the statements start with any of the keywords like SELECT, INSERT, UPDATE, DELETE, ALTER, DROP, CREATE, USE, SHOW and all the statements end with a semicolon (;).</p>
<p>The SQL statements of Apache Derby are case in sensitives including table names.</p>
<h2>CREATE Statement</h2>
<pre class="result notranslate">
CREATE TABLE table_name (
   column_name1 column_data_type1 constraint (optional),
   column_name2 column_data_type2 constraint (optional),
   column_name3 column_data_type3 constraint (optional)
);
</pre>
<h2>DROP TABLE</h2>
<pre class="result notranslate">
DROP TABLE table_name;
</pre>
<h2>INSERT Statement</h2>
<pre class="result notranslate">
INSERT INTO table_name VALUES (column_name1, column_name2, ...);
</pre>
<h2>SELECT Statement</h2>
<pre class="result notranslate">
SELECT column_name, column_name, ... FROM table_name;
</pre>
<h2>UPDATE Statement</h2>
<pre class="result notranslate">
UPDATE table_name
   SET column_name = value, column_name = value, ...
   WHERE conditions;
</pre>
<h2>DELETE Statement</h2>
<pre class="result notranslate">
DELETE FROM table_name WHERE condition;
</pre>
<h2>DESCRIBE Statement</h2>
<pre class="result notranslate">
Describe table_name
</pre>
<h2>SQL TRUNCATE TABLE Statement</h2>
<pre class="result notranslate">
TRUNCATE TABLE table_name;
</pre>
<h2>ALTER Statement – Adding column</h2>
<pre class="result notranslate">
ALTER TABLE table_name ADD COLUMN column_name column_type;
</pre>
<h2>ALTER Statement – Adding constraint</h2>
<pre class="result notranslate">
ALTER TABLE table_name ADD CONSTRAINT constraint_name constraint (column_name);
</pre>
<h2>ALTER Statement – Dropping column</h2>
<pre class="result notranslate">
ALTER TABLE table_name DROP COLUMN column_name;
</pre>
<h2>ALTER Statement – Dropping constraint</h2>
<pre class="result notranslate">
ALTER TABLE table_name DROP CONSTRAINT constraint_name;
</pre>
<h2>WHERE Clause</h2>
<pre class="result notranslate">
SELECT * from table_name WHERE condition;
or,
DELETE from table_name WHERE condition;
or,
UPDATE table_name SET column_name = value WHERE condition;
</pre>
<h2>GROUP BY Clause</h2>
<pre class="result notranslate">
SELECT column1, column2, . . . table_name GROUP BY column1, column2, . . .;
</pre>
<h2>ORDER BY Clause</h2>
<pre class="result notranslate">
SELECT * FROM table_name ORDER BY column_name ASC|DESC.
</pre>
<h2>Having Clause</h2>
<pre class="result notranslate">
SELECT column1, column2 . . . from table_name GROUP BY column having
condition;
</pre>
<h2>Creating Index</h2>
<pre class="result notranslate">
CTREATE INDEX index_name on table_name (column_name);
</pre>
<h2>Creating an UNIQUE index</h2>
<pre class="result notranslate">
CREATE UNIQUE INDEX index_name on table_name (column_name);
</pre>
<h2>Creating a COMPOSITE index</h2>
<pre class="result notranslate">
CREATE INDEX index_name on table_name (column_name1, column_name2);
</pre>
<h2>Displaying the Indexes</h2>
<pre class="result notranslate">
SHOW INDEXES FROM table_name;
</pre>
<h2>Dropping Indexes</h2>
<pre class="result notranslate">
DROP INDEX index_name;
</pre>
<h1>Apache Derby - Data Types</h1>
<p>Data Type is an attribute that specifies the type of data of any object. Each column, variable and expression has a related data type. You can use these data types while creating your tables. You can choose a data type for a table column based on your requirement.</p>
<p>Derby Server offers several categories of data types for your use as listed below &minus;</p>
<h2>Integer Numeric Data Types</h2>
<p>Following is the list of integer numeric data types &minus;</p>
<table class="table table-bordered"> 
<tr>
<th>DATA TYPE</th>
<th>SIZE</th>
<th>FROM</th>
<th>TO</th>
</tr>
<tr>
<td>SMALLINT</td>
<td>2 bytes</td>
<td>-32768</td>
<td>32767</td>
</tr>
<tr>
<td>INTEGER</td>
<td>4 bytes</td>
<td>-2,147,483,648</td>
<td>2,147,483,647</td>
</tr>
<tr>
<td>BIGINT</td>
<td>8 bytes</td>
<td>-9223372036854775808</td>
<td>9223372036854775808</td>
</tr>
</table>
<h2>Approximate Numeric Data Types</h2>
<p>Following is the list of approximate numeric data types &minus;</p>
<table class="table table-bordered"> 
<tr>
<th>DATA TYPE</th>
<th>SIZE</th>
<th>FROM</th>
<th>TO</th>
</tr>
<tr>
<td>REAL</td>
<td>4 bytes</td>
<td>-3.40E + 38</td>
<td>3.40E + 38</td>
</tr>
<tr>
<td>DOUBLE PRECISION</td>
<td>8 bytes</td>
<td>-1.79E + 308</td>
<td>1.79E + 308</td>
</tr>
<tr>
<td>FLOAT</td>
<td></td>
<td>-1.79E + 308</td>
<td>1.79E + 308</td>
</tr>
</table>
<h2>Exact Numeric Data Types</h2>
<p>Following is the list of exact numeric data types &minus;</p>
<table class="table table-bordered"> 
<tr>
<th>DATA TYPE</th>
<th>FROM</th>
<th>TO</th>
</tr>
<tr>
<td>DECIMAL</td>
<td>-10^38 +1</td>
<td>10^38 -1</td>
</tr>
<tr>
<td>NUMERIC</td>
<td>-10^38 +1 </td>
<td>10^38 -1</td>
</tr>
</table>
<h1>Apache Derby - Create Table</h1>
<p>The CREATE TABLE statement is used for creating a new table in Derby database.</p>
<h2>Syntax</h2>
<p>Following is the syntax of the CREATE statement.</p>
<pre class="result notranslate">
CREATE TABLE table_name (
   column_name1 column_data_type1 constraint (optional),
   column_name2 column_data_type2 constraint (optional),
   column_name3 column_data_type3 constraint (optional)
);
</pre>
<p>Another way to create a table in Apache Derby is that you can specify the column names and data types using a query. The syntax for this is given below &minus;</p>
<pre class="result notranslate">
CREATE TABLE table_name AS SELECT * FROM desired_table WITH NO DATA;
</pre>
<h3>Example</h3>
<p>The following SQL statement creates a table named <b>Student</b> with four columns, where id is the primary key and it is auto generated.</p>
<pre class="result notranslate">
ij> CREATE TABLE Student (
   Id INT NOT NULL GENERATED ALWAYS AS IDENTITY,
   Age INT NOT NULL,
   First_Name VARCHAR(255),
   last_name VARCHAR(255),
   PRIMARY KEY (Id)
);
> > > > > > > 0 rows inserted/updated/deleted
</pre>
<p>The DESCRIBE command describes specified table by listing the columns and their details, if the table exists. You can use this command to verify if the table is created.</p>
<pre class="result notranslate">
ij> DESCRIBE Student;
COLUMN_NAME |TYPE_NAME |DEC&|NUM&|COLUM&|COLUMN_DEF|CHAR_OCTE&|IS_NULL&
------------------------------------------------------------------------------
ID |INTEGER |0 |10 |10 |AUTOINCRE&|NULL |NO
AGE |INTEGER |0 |10 |10 |NULL |NULL |NO
FIRST_NAME |VARCHAR |NULL|NULL|255 |NULL |510 |YES
LAST_NAME |VARCHAR |NULL|NULL|255 |NULL |510 |YES
4 rows selected
</pre>
<h2>Create a Table using JDBC Program</h2>
<p>This section teaches you how to create a table in Apache Derby database using JDBC application.</p>
<p>If you want to request the Derby network server using network client, make sure that the server is up and running. The class name for the Network client driver is <b>org.apache.derby.jdbc.ClientDriver</b> and the URL is jdbc:derby://localhost:1527/DATABASE_NAME;create=true;user=USER_NAME;passw
ord=PASSWORD".</p>
<p>Follow the steps given below to create a table in Apache Derby &minus;</p>
<h3>Step 1: Register the driver</h3>
<p>To communicate with the database, first of all, you need to register the driver. The <b>forName()</b> method of the class, <b>Class</b> accepts a String value representing a class name loads it in to the memory, which automatically registers it. Register the driver using this method.</p>
<h3>Step 2: Get the connection</h3>
<p>In general, the first step we do to communicate to the database is to connect with it. The <b>Connection</b> class represents the physical connection with a database server. You can create a connection object by invoking the <b>getConnection()</b> method of the <b>DriverManager</b> class. Create a connection using this method.</p>
<h3>Step 3: Create a statement object</h3>
<p>You need to create a <b>Statement</b> or <b>PreparedStatement or, CallableStatement</b> objects to send SQL statements to the database. You can create these using the methods <b>createStatement(), prepareStatement() and, prepareCall()</b> respectively. Create either of these objects using the appropriate method.</p>
<h3>Step 4: Execute the query</h3>
<p>After creating a statement, you need to execute it. The <b>Statement</b> class provides various methods to execute a query like the <b>execute()</b> method to execute a statement that returns more than one result set. The <b>executeUpdate()</b> method executes queries like INSERT, UPDATE, DELETE. The <b>executeQuery()</b> method to results that returns data etc. Use either of these methods and execute the statement created previously.
</p>
<h3>Example</h3>
<p>Following JDBC example demonstrates how to create a table in Apache Derby using JDBC program. Here, we are connecting to a database named sampleDB (will create if it does not exist) using the embedded driver.</p>
<pre class="prettyprint notranslate">
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.SQLException;
import java.sql.Statement;
public class CreateTable {
   public static void main(String args[]) throws Exception {
      //Registering the driver
      Class.forName("org.apache.derby.jdbc.EmbeddedDriver");
      //Getting the Connection object
      String URL = "jdbc:derby:sampleDB;create=true";
      Connection conn = DriverManager.getConnection(URL);

      //Creating the Statement object
      Statement stmt = conn.createStatement();
 
      //Executing the query
      String query = "CREATE TABLE Employees( "
         + "Id INT NOT NULL GENERATED ALWAYS AS IDENTITY, "
         + "Name VARCHAR(255), "
         + "Salary INT NOT NULL, "
         + "Location VARCHAR(255), "
         + "PRIMARY KEY (Id))";
         stmt.execute(query);
         System.out.println("Table created");
   }
}
</pre>
<h3>Output</h3>
<p>On executing the above program, you will get the following output</p>
<pre class="result notranslate">
Table created
</pre>
<h1>Apache Derby - Drop Table</h1>
<p>The DROP TABLE statement is used to remove an existing table including all its triggers, constraints, permissions.</p>
<h3>Syntax<h3>
<p>Following is the Syntax of the DROP TABLE statement.</p>
<pre class="result notranslate">
ij> DROP TABLE table_name;
</pre>
<h3>Example</h3>
<p>Suppose you have a table named Student in the database. The following SQL statement deletes a table named Student.</p>
<pre class="result notranslate">
ij> DROP TABLE Student;
0 rows inserted/updated/deleted
</pre>
<p>Since we have removed the table if we try to describe it, we will get an error as follows</p>
<pre class="result notranslate">
ij> DESCRIBE Student;
IJ ERROR: No table exists with the name STUDENT
</pre>
<h2>Drop Table using JDBC program</h2>
<p>This section teaches you how to drop a table in Apache Derby database using JDBC application.</p>
<p>If you want to request the Derby network server using network client, make sure that the server is up and running. The class name for the Network client driver is org.apache.derby.jdbc.ClientDriver and the URL is jdbc:derby://localhost:1527<b>/DATABASE_NAME;</b>create=true;user=<b>USER_NAME</b>;passw
ord=<b>PASSWORD</b>"</p>
<p>Follow the steps given below to drop a table in Apache Derby</p>
<h3>Step 1: Register the driver</h3>
<p>To communicate with the database, first of all, you need to register the driver. The <b>forName()</b> method of the class <b>Class</b> accepts a String value representing a class name loads it in to the memory, which automatically registers it. Register the driver using this method.</p>
<h3>Step 2: Get the connection</h3>
<p>In general, the first step we do to communicate to the database is to connect with it. The <b>Connection</b> class represents the physical connection with a database server. You can create a connection object by invoking the <b>getConnection()</b> method of the <b>DriverManager</b> class. Create a connection using this method.</p>
<h3>Step 3: Create a statement object</h3>
<p>You need to create a <b>Statement</b> or <b>PreparedStatement</b> or, <b>CallableStatement</b> objects to send SQL statements to the database. You can create these using the methods <b>createStatement(), prepareStatement() and, prepareCall()</b> respectively. Create either of these objects using the appropriate method.</p>
<h3>Step 4: Execute the query</h3>
<p>After creating a statement, you need to execute it. The <b>Statement</b> class provides various methods to execute a query like the <b>execute()</b> method to execute a statement that returns more than one result set. The <b>executeUpdate()</b> method execute queries like INSERT, UPDATE, DELETE. The <b>executeQuery()</b> method to results that returns data etc. Use either of these methods and execute the statement created previously.
<h3>Example</h3>
<p>Following JDBC example demonstrates how to drop a table in Apache Derby using JDBC program. Here, we are connecting to a database named sampleDB (will create if it does not exist) using the embedded driver.
</p>
<pre class="prettyprint notranslate">
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.Statement;
public class DropTable {
   public static void main(String args[]) throws Exception {
      //Registering the driver
      Class.forName("org.apache.derby.jdbc.EmbeddedDriver");

      //Getting the Connection object
      String URL = "jdbc:derby:sampleDB;create=true";
      Connection conn = DriverManager.getConnection(URL);

      //Creating the Statement object
      Statement stmt = conn.createStatement();

      //Executing the query
      String query = "DROP TABLE Employees";
      stmt.execute(query);
      System.out.println("Table dropped");
   }
}
</pre>
<h3>Output</h3>
<p>On executing the above program, you will get the following output &minus;</p>
<pre class="result notranslate">
Table dropped
</pre>
<h1>Apache Derby - Insert Data</h1>
<p>The insert query inserts data: <b>new records</b>, into the table.</p>
<h3>Syntax</h3>
<p>Following is the basic syntax of the INSERT statement &minus;</p>
<pre class="result notranslate">
ij>INSERT INTO table_name VALUES (column_name1, column_name2, ...);
</pre>
<p>where column1, column2 are the column values in the row that is to be inserted.</p>
<h3>Example</h3>
<p>The following SQL INSERT statement inserts a new row in the Student table, where it inserts values in the columns <b>id, age, first name</b> and, <b>last name</b>.</p>
<pre class="result notranslate">
SQL> INSERT INTO Student VALUES (101, 20, 'Zara', 'Ali');
</pre>
<h3>Syntax 2</h3>
<p>Or, you can insert two specific columns by mentioning the column names, as given below &minus;</p>
<pre class="result notranslate">
ij>INSERT INTO table_name VALUES (column_name1, column_name2, ...) VALUES
(value1, value2, ...);
</pre>
<p><b>Note</b> &minus; Apache Derby automatically calculates values for generated columns. For example, there is no need to pass values for the id column in the student table created earlier in this tutorial. In case your table has generated columns, use <b>syntax2</b>.</p>
<h3>Example</h3>
<pre class="result notranslate">
ij> INSERT INTO Student(Age, First_Name, Last_Name) VALUES (21, 'Sucharitha' , 'Tyagi');
1 row inserted/updated/deleted
</pre>
<p>And, you can also insert two rows using one statement as follows &minus;</p>
<pre class="result notranslate">
ij>INSERT INTO Student(Age, First_Name, Last_Name) VALUES (20, 'Amit',
'Bhattacharya'), (22, 'Rahul', 'Desai');
2 rows inserted/updated/deleted
</pre>
<p>You can verify the contents of the table using the SELECT command (we will discuss this command later in this tutorial).</p>
<h3>Syntax 3</h3>
<p>You can use another query in the insert statement as &minus;</p>
<pre class="result notranslate">
INSERT INTO table_Name Query 
</pre>
<h3>Example</h3>
<p>Suppose, we have a table named <b>First_Year</b> in the database as shown below with similar columns as in Student table &minus;</p>
<pre class="result notranslate">
ID |AGE |FIRST_NAME |LAST_NAME
-----------------------------------------------------------------
1 |20 |Raju |Pendyala
2 |21 |Bhargav |Prayaga
3 |22 |Deepthi |Yerramilli 
</pre>
<p>You can insert values in this table to the student table using the above syntax as &minus;</p>
<pre class="result notranslate">
ij> INSERT INTO Student (Age, First_Name, Last_Name)
 SELECT Age, First_Name, Last_Name FROM First_Year;
> 3 rows inserted/updated/deleted
</pre>
<p>After executing all the above insert statements, the Student table will be as follows &minus;</p>
<pre class="result notranslate">
ID |AGE |FIRST_NAME |LAST_NAME
-------------------------------------------------------------
1 |21 |Sucharitha |Tyagi
2 |20 |Amit |Bhattacharya
3 |22 |Rahul |Desai
4 |20 |Raju |Pendyala
5 |21 |Bhargav |Prayaga
6 |22 |Deepthi |Yerramilli 
</pre>
<h2>Insert Data using JDBC program</h2>
<p>This section teaches you how to insert data in to a table in Apache Derby database using JDBC application.</p>
<p>If you want to request the Derby network server using network client, make sure that the server is up and running. The class name for the Network client driver is org.apache.derby.jdbc.ClientDriver and the URL is jdbc:derby://localhost:1527/<b>DATABASE_NAME;</b>create=true;user=<b>USER_NAME;</b>passw
ord=<b>PASSWORD</b>"</p>
<p>Follow the steps given below to insert data into a table in Apache Derby &minus;</p>
<h3>Step 1: Register the driver</h3>
<p>To communicate with the database, first of all, you need to register the driver. The <b>forName()</b> method of the class, <b>Class</b> accepts a String value representing a class name loads it in to the memory, which automatically registers it. Register the driver using this method.</p>
<h3>Step 2: Get the connection</h3>
<p>In general, the first step we do to communicate to the database is to connect with it. The <b>Connection</b> class represents the physical connection with a database server. You can create a connection object by invoking the <b>getConnection()</b> method of the <b>DriverManager</b> class. Create a connection using this method.</p>
<h3>Step 3: Create a statement object</h3>
<p>You need to create a <b>Statement</b> or <b>PreparedStatement or, CallableStatement</b> objects to send SQL statements to the database. You can create these using the methods <b>createStatement(), prepareStatement()</b> and, <b>prepareCall()</b> respectively. Create any of these objects using the appropriate method.</p>
<h3>Step 4: Execute the query</h3>
<p>After creating a statement, you need to execute it. The <b>Statement</b> class provides various methods to execute a query like the <b>execute()</b> method to execute a statement that returns more than one result set.</p>
<p>The <b>executeUpdate()</b> method executes queries like INSERT, UPDATE, DELETE. The <b>executeQuery()</b> method to results that returns data etc. Use either of these methods and execute the statement created previously.</p>
<h3>Example</h3>
<p>Following JDBC example demonstrates how to insert data into a table in Apache Derby using JDBC program. Here, we are connecting to a database named sampleDB (will create if it does not exist) using the embedded driver.</p>
<pre class="prettyprint notranslate">
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.SQLException;
import java.sql.Statement;
public class InsertData {
   public static void main(String args[]) throws Exception {
      //Registering the driver
      Class.forName("org.apache.derby.jdbc.EmbeddedDriver");
      //Getting the Connection object
      String URL = "jdbc:derby:SampleDB;create=true";
      Connection conn = DriverManager.getConnection(URL);

      //Creating the Statement object
      Statement stmt = conn.createStatement();

      //Creating a table and populating
      String query = "CREATE TABLE Employees("
         + "Id INT NOT NULL GENERATED ALWAYS AS IDENTITY, "
         + "Name VARCHAR(255), Salary INT NOT NULL, "
         + "Location VARCHAR(255), "
         + "PRIMARY KEY (Id))";
      //Executing the query
      String query = "INSERT INTO Employees("
         + "Name, Salary, Location) VALUES "
         + "('Amit', 30000, 'Hyderabad'), "
         + "('Kalyan', 40000, 'Vishakhapatnam'), "
         + "('Renuka', 50000, 'Delhi'), "
         + "('Archana', 15000, 'Mumbai'), "
         + "('Trupthi', 45000, 'Kochin'), "
         + "('Suchatra', 33000, 'Pune'), "
         + "('Rahul', 39000, 'Lucknow'), "
         + "('Trupti', 45000, 'Kochin')";
      stmt.execute(query);
      System.out.println("Values inserted");
   }
}
</pre>
<h3>Output</h3>
<p>On executing the above program, you will get the following output &minus;</p>
<pre class="result notranslate">
Values inserted
</pre>
<h1>Apache Derby - Retrieve Data</h1>
<p>The SELECT statement is used to retrieve data from a table. This returns the data in the form of a table known as result set.</p>
<h3>Syntax</h3>
<p>Following is the syntax of the SELECT statement &minus;</p>
<pre class="result notranslate">
ij> SELECT column_name, column_name, ... FROM table_name;
Or,
Ij>SELECT * from table_name
</pre>
<h3>Example</h3>
<p>Let us suppose we have a table named Employees in the database as shown below &minus;</p>
<pre class="result notranslate">
ij> CREATE TABLE Employees (
   Id INT NOT NULL GENERATED ALWAYS AS IDENTITY,
   Name VARCHAR(255),
   Salary INT NOT NULL,
   Location VARCHAR(255),
   PRIMARY KEY (Id)
);
> > > > > > > 0 rows inserted/updated/deleted
</pre>
<p>And, inserted four records in it as shown below &minus;</p>
<pre class="result notranslate">
ij> INSERT INTO Employees (Name, Salary, Location) VALUES
 ('Amit', 30000, 'Hyderabad'),
 ('Kalyan', 40000, 'Vishakhapatnam'),
 ('Renuka', 50000, 'Delhi'),
 ('Archana', 15000, 'Mumbai');
> > > > 4 rows inserted/updated/deleted
</pre>
<p>The following SQL statement retrieves the name, age and salary details of all the employees in the table;</p>
<pre class="result notranslate">
ij> SELECT Id, Name, Salary FROM Employees;
</pre>
<p>The output of this query is &minus;</p>
<pre class="result notranslate">
ID |NAME |SALARY
------------------------------------------------------------------------
1 |Amit |30000
2 |Kalyan |40000
3 |Renuka |50000
4 |Archana |15000
4 rows selected
</pre>
<p>If you want to get all the records of this table at once, use * instead of the names of the columns.</p>
<pre class="result notranslate">
ij> select * from Employees;
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
ID |NAME |SALARY |LOCATION
------------------------------------------------------------------
1 |Amit |30000 |Hyderabad
2 |Kalyan |40000 |Vishakhapatnam
3 |Renuka |50000 |Delhi
4 |Archana |15000 |Mumbai
4 rows selected
</pre>
<h2>Retrieve Data using JDBC program</h2>
<p>This section teaches you how to Retrieve data from a table in Apache Derby database using JDBC application.</p>
<p>If you want to request the Derby network server using network client, make sure that the server is up and running. The class name for the Network client driver is org.apache.derby.jdbc.ClientDriver and the URL is jdbc:derby://localhost:1527/<b>DATABASE_NAME</b>;create=true;user=<b>USER_NAME</b>;passw ord=<B>PASSWORD</b>"</p>
<p>Follow the steps given below to Retrieve data from a table in Apache Derby &minus;</p>
<h3>Step 1: Register the driver</h3>
<p>To communicate with the database, first of all, you need to register the driver. The <b>forName()</b> method of the class <b>Class</b> accepts a String value representing a class name loads it in to the memory, which automatically registers it. Register the driver using this method.</p>
<h3>Step 2: Get the connection</h3>
<p>In general, the first step we do to communicate to the database is to connect with it. The <b>Connection</b> class represents the physical connection with a database server. You can create a connection object by invoking the <b>getConnection()</b> method of the <b>DriverManager</b> class. Create a connection using this method.</p>
<h3>Step 3: Create a statement object</h3>
<p>You need to create a <b>Statement</b> or <b>PreparedStatement</b> or, <b>CallableStatement</b> objects to send SQL statements to the database. You can create these using the methods <b>createStatement()</b>, <b>prepareStatement()</b> and, <b>prepareCall()</b> respectively. Create either of these objects using the appropriate method.</p>
<h3>Step 4: Execute the query</h3>
<p>After creating a statement, you need to execute it. The <b>Statement</b> class provides various methods to execute a query like the <b>execute()</b> method to execute a statement that returns more than one result set. The <b>executeUpdate()</b> method executes queries like INSERT, UPDATE, DELETE. The <b>executeQuery()</b> method to results that returns data etc. Use either of these methods and execute the statement created previously.</p>
<h3>Example</h3>
<p>Following JDBC example demonstrates how to Retrieve data from a table in Apache Derby using JDBC program. Here, we are connecting to a database named sampleDB (will create if it does not exist) using the embedded driver.</p>
<p>The <b>executeQuery()</b> method returns a <b>ResultSet</b> object which holds the result of the statement. Initially the result set pointer will be at the first record, you can print the contents of the ResultSet object using its <b>next()</b> and <b>getXXX()</b> methods.</p>
<pre class="result notranslate">
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;
public class RetrieveData {
   public static void main(String args[]) throws SQLException,
      ClassNotFoundException {
      //Registering the driver
      Class.forName("org.apache.derby.jdbc.EmbeddedDriver");
      //Getting the Connection object
      String URL = "jdbc:derby:sampleDB;create=true";
      Connection conn = DriverManager.getConnection(URL);

      //Creating the Statement object
      4Statement stmt = conn.createStatement();

      //Creating a table and populating it
      String query = "CREATE TABLE Employees("
         + "Id INT NOT NULL GENERATED ALWAYS AS IDENTITY, "
         + "Name VARCHAR(255), Salary INT NOT NULL, "
         + "Location VARCHAR(255), "
         + "PRIMARY KEY (Id))";
      String query = "INSERT INTO Employees("
         + "Name, Salary, Location) VALUES "
         + "('Amit', 30000, 'Hyderabad'), "
         + "('Kalyan', 40000, 'Vishakhapatnam'), "
         + "('Renuka', 50000, 'Delhi'), "
         + "('Archana', 15000, 'Mumbai'), "
         + "('Trupthi', 45000, 'Kochin'), "
         + "('Suchatra', 33000, 'Pune'), "
         + "('Rahul', 39000, 'Lucknow'), "
         + "('Trupti', 45000, 'Kochin')";
      //Executing the query
      String query = "SELECT Id, Name, Salary FROM Employees";
      ResultSet rs = stmt.executeQuery(query);
      while(rs.next()) {
         System.out.println("Id: "+rs.getString("Id"));
         System.out.println("Name: "+rs.getString("Name"));
         System.out.println("Salary: "+rs.getString("Salary"));
         System.out.println(" ");
      }
   }
}
</pre>
<h3>Output</h3>
<p>On executing the above program, you will get the following output</p>
<pre class="result notranslate">
Id: 1
Name: Amit
Salary: 30000

Id: 2
Name: Kalyan
Salary: 43000

Id: 3
Name: Renuka
Salary: 50000

Id: 4
Name: Archana
Salary: 15000

Id: 5
Name: Trupthi
Salary: 45000

Id: 6
Name: Suchatra
Salary: 33000

Id: 7
Name: Rahul
Salary: 39000 
</pre>
<h1>Apache Derby - Update Data</h1>
<p>The UPDATE statement is used to update data in a table. Apache Derby provides two types of updates (syntax) namely <b>searched</b> update and <b>positioned</b> update.</p>
<p>The searched UPDATE statement updates all the specified columns of a table.</p>
<h3>Syntax</h3>
<p>Following is the syntax of the UPDATE query &minus;</p>
<pre class="result notranslate">
ij> UPDATE table_name
 SET column_name = value, column_name = value, ...
 WHERE conditions;
</pre>
<p>The WHERE clause can use the comparison operators such as =, !=, <, >, <=, and >=, as well as the BETWEEN and LIKE operators.</p>
<h3>Example</h3>
<p>Suppose you have a table Employee in the database with the 4 records as shown below &minus;</p>
<pre class="result notranslate">
ID |NAME |SALARY |LOCATION
----------------------------------------------------------
1 |Amit |30000 |Hyderabad
2 |Kalyan |40000 |Vishakhapatnam
3 |Renuka |50000 |Delhi
4 |Archana |15000 |Mumbai 
</pre>
<p>The following SQL UPDATE statement updates the location and salary of an employee whose name is Kaylan.</p>
<pre class="result notranslate">
ij> UPDATE Employees SET Location = 'Chennai', Salary = 43000 WHERE Name =
'Kalyan';
1 rows inserted/updated/deleted
</pre>
<p>If you get the contents of the Employees table, you can observe the changes done by the UPDATE query.</p>
<pre class="result notranslate">
ij> select * from Employees;
ID |NAME |SALARY |LOCATION
----------------------------------------------------------
1 |Amit |30000 |Hyderabad 
2 |Kalyan |43000 |Chennai
3 |Renuka |50000 |Delhi
4 |Archana |15000 |Mumbai
4 rows selected
</pre>
<h2>Update Data using JDBC program</h2>
<p>This section explains how to update the existing records of a table in the Apache Derby database using JDBC application.</p>
<p>If you want to request the Derby network server using network client, make sure that the server is up and running. The class name for the Network client driver is org.apache.derby.jdbc.ClientDriver and the URL is jdbc:derby://localhost:1527/<b>DATABASE_NAME</b>;create=true;user=<b>USER_NAME</b>;passw
ord=<b>PASSWORD</b>"</p>
<p>Follow the steps given below to update the existing records of a table in Apache Derby.</p>
<h3>Step 1: Register the driver</h3>
<p>To communicate with the database, first of all, you need to register the driver. The <b>forName()</b> method of the class <b>Class</b> accepts a String value representing a class name loads it in to the memory, which automatically registers it. Register the driver using this method.</p>
<h3>Step 2: Get the connection</h3>
<p>In general, the first step we do to communicate to the database is to connect with it. The Connection class represents the physical connection with a database server. You can create a connection object by invoking the <b>getConnection()</b> method of the <b>DriverManager</b> class. Create a connection using this method.</p>
<h3>Step 3: Create a statement object</h3>
<p>You need to create a <b>Statement</b> or <b>PreparedStatement or, CallableStatement</b> objects to send SQL statements to the database. You can create these using the methods <b>createStatement()</b>, <b>prepareStatement()</b> and, <b>prepareCall()</b> respectively. Create either of these objects using the appropriate method.</p>
<h3>Step 4: Execute the query</h3>
<p>After creating a statement, you need to execute it. The <b>Statement</b> class provides various methods to execute a query like the <b>execute()</b> method to execute a statement that returns more than one result set. The <b>executeUpdate()</b> method executes queries like INSERT, UPDATE, DELETE. The <b>executeQuery()</b> method returns data. Use either of these methods and execute the statement created previously.</p>
<h3>Example</h3>
<p>Following JDBC example demonstrates how to update the existing records of a table in Apache Derby using JDBC program. Here, we are connecting to a database named sampleDB (will create if it does not exist) using the embedded driver.</p>
<pre class="result notranslate">
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.SQLException;
import java.sql.Statement;
public class UpdateData {
   public static void main(String args[]) throws Exception {
      //Registering the driver
      Class.forName("org.apache.derby.jdbc.EmbeddedDriver");
      //Getting the Connection object
      String URL = "jdbc:derby:sampleDB;create=true";
      Connection conn = DriverManager.getConnection(URL);

      //Creating the Statement object
      Statement stmt = conn.createStatement();

      //Creating a table and populating it
      String query = "CREATE TABLE Employees("
         + "Id INT NOT NULL GENERATED ALWAYS AS IDENTITY, "
         + "Name VARCHAR(255), Salary INT NOT NULL, "
         + "Location VARCHAR(255), "
         + "PRIMARY KEY (Id))";
      String query = "INSERT INTO Employees("
         + "Name, Salary, Location) VALUES "
         + "('Amit', 30000, 'Hyderabad'), "
         + "('Kalyan', 40000, 'Vishakhapatnam'), "
         + "('Renuka', 50000, 'Delhi'), "
         + "('Archana', 15000, 'Mumbai'), "
         + "('Trupthi', 45000, 'Kochin'), "
         + "('Suchatra', 33000, 'Pune'), "
         + "('Rahul', 39000, 'Lucknow'), "
         + "('Trupti', 45000, 'Kochin')";
      //Executing the query
      String query = "UPDATE Employees SET Location = 'Chennai', Salary = 43000 WHERE
         Name = 'Kalyan'";
      int num = stmt.executeUpdate(query);
      System.out.println("Number of records updated are: "+num);
   }
}
</pre>
<h3>Output</h3>
<p>On executing the above program, you will get the following output &minus;</p>
<pre class="result notranslate">
Number of records updated are: 1 
</pre>
<h1>Apache Derby - Delete Data</h1>
<p>The DELETE statement is used to delete rows of a table. Just like the UPDATE statement, Apache Derby provides two types of Delete (syntax): <b>searched</b> delete and <b>positioned</b> delete.</p>
<p>The searched delete statement deletes all the specified columns of a table.</p>
<h3>Syntax</h3>
<p>The syntax of the DELETE statement is as follows &minus;</p>
<pre class="result notranslate">
ij> DELETE FROM table_name WHERE condition;
</pre>
<h3>Example</h3>
<p>Let us suppose we have a table named employee with 5 records as shown below &minus;</p>
<pre class="result notranslate">
ID |NAME |SALARY |LOCATION
----------------------------------------------------------------------------
1 |Amit |30000 |Hyderabad
2 |Kalyan |40000 |Vishakhapatnam
3 |Renuka |50000 |Delhi
4 |Archana |15000 |Mumbai
5 |Trupti |45000 |Kochin
5 rows selected
</pre>
<p>The following SQL DELETE statement deletes the record with name Trupti.</p>
<pre class="result notranslate">
ij> DELETE FROM Employees WHERE Name = 'Trupti';
1 row inserted/updated/deleted
</pre>
<p>If you get the contents of the Employees table, you can see only four records as shown below &minus;</p>
<pre class="result notranslate">
ID |NAME |SALARY |LOCATION
----------------------------------------------------------------------------
1 |Amit |30000 |Hyderabad
2 |Kalyan |40000 |Vishakhapatnam
3 |Renuka |50000 |Delhi
4 |Archana |15000 |Mumbai 
4 rows selected
</pre>
<p>To delete all the records in the table, execute the same query without where clause.</p>
<pre class="result notranslate">
ij> DELETE FROM Employees;
4 rows inserted/updated/deleted 
</pre>
<p>Now, if you try to get the contents of the Employee table, you will get an empty table as given below &minus;</p>
<pre class="result notranslate">
ij> select * from employees;
ID |NAME |SALARY |LOCATION
--------------------------------------------------------
0 rows selected
</pre>
<h2>Delete Data using JDBC program</h2>
<p>This section explains how to delete the existing records of a table in Apache Derby database using JDBC application.</p>
<p>If you want to request the Derby network server using network client, make sure that the server is up and running. The class name for the Network client driver is org.apache.derby.jdbc.ClientDriver and the URL is jdbc:derby://localhost:1527/<b>DATABASE_NAME;</b>create=true;user=<b>USER_NAME;</b>passw
ord=<b>PASSWORD</b>".</p>
<p>Follow the steps given below to delete the existing records of a table in Apache Derby:/p>
<h3>Step 1: Register the driver</h3>
<p>Firstly, you need to register the driver to communicate with the database. The <b>forName()</b> method of the class <b>Class</b> accepts a String value representing a class name loads it in to the memory, which automatically registers it. Register the driver using this method.</p>
<h3>Step 2: Get the connection</h3>
<p>In general, the first step we do to communicate to the database is to connect with it. The <b>Connection</b> class represents physical connection with a database server. You can create a connection object by invoking the <b>getConnection()</b> method of the <b>DriverManager</b> class. Create a connection using this method.</p>
<h3>Step 3: Create a statement object</h3>
<p>You need to create a <b>Statement</b> or <b>PreparedStatement or, CallableStatement</b> objects to send SQL statements to the database. You can create these using the methods <b>createStatement(), prepareStatement() and, prepareCall()</b> respectively. Create either of these objects using the appropriate method.</p>
<h3>Step 4: Execute the query</h3>
<p>After creating a statement, you need to execute it. The <b>Statement</b> class provides various methods to execute a query like the <b>execute()</b> method to execute a statement that returns more than one result set. The <b>executeUpdate()</b> method executes queries like INSERT, UPDATE, DELETE. The <b>executeQuery()</b> method results that returns data. Use either of these methods and execute the statement created previously.</p>
<h3>Example</h3>
<p>Following JDBC example demonstrates how to delete the existing records of a table in Apache Derby using JDBC program. Here, we are connecting to a database named sampleDB (will create if it does not exist) using the embedded driver.</p>
<pre class="result notranslate">
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.SQLException;
import java.sql.Statement;
public class DeleteData {
   public static void main(String args[]) throws Exception {
      //Registering the driver
      Class.forName("org.apache.derby.jdbc.EmbeddedDriver");
      //Getting the Connection object
      String URL = "jdbc:derby:sampleDB;create=true";
      Connection conn = DriverManager.getConnection(URL);

      //Creating the Statement object
      Statement stmt = conn.createStatement();
      //Creating a table and populating it
      String query = "CREATE TABLE Employees("
         + "Id INT NOT NULL GENERATED ALWAYS AS IDENTITY, "
         + "Name VARCHAR(255), Salary INT NOT NULL, "
         + "Location VARCHAR(255), "
         + "PRIMARY KEY (Id))";
      String query = "INSERT INTO Employees("
         + "Name, Salary, Location) VALUES "
         + "('Amit', 30000, 'Hyderabad'), "
         + "('Kalyan', 40000, 'Vishakhapatnam'), "
         + "('Renuka', 50000, 'Delhi'), "
         + "('Archana', 15000, 'Mumbai'), "
         + "('Trupthi', 45000, 'Kochin'), "
         + "('Suchatra', 33000, 'Pune'), "
         + "('Rahul', 39000, 'Lucknow'), "
         + "('Trupthi', 45000, 'Kochin')";
      //Executing the query
      String query = "DELETE FROM Employees WHERE Name = 'Trupthi'";
      int num = stmt.executeUpdate(query);
      System.out.println("Number of records deleted are: "+num);
   }
}
</pre>
<h3>Output</h3>
<p>On executing the above program, you will get the following output &minus;</p>
<pre class="result notranslate">
Number of records deleted are: 1
</pre>
<h1>Apache Derby - Where Clause</h1>
<p>The WHERE clause is used in the SELECT, DELETE or, UPDATE statements to specify the rows on which the operation needs to be carried out. Usually, this clause is followed by a condition or expression which returns a Boolean value, the Select, delete or, update operations are performed only on the rows which satisfy the given condition.</p>
<pre class="result notranslate">
ij> SELECT * from table_name WHERE condition;
or,
ij> DELETE from table_name WHERE condition;
or,
ij> UPDATE table_name SET column_name = value WHERE condition;
</pre>
<p>The WHERE clause can use the comparison operators such as =,!=, <, >, <=, and >=, as well as the BETWEEN and LIKE operators.</p>
<h3>Example</h3>
<p>Let us assume we have a table named Employees in the database with 7 records as shown below &minus;</p>
<pre class="result notranslate">
ID |NAME |SALARY |LOCATION
-----------------------------------------------------------------------------
1 |Amit |30000 |Hyderabad
2 |Kalyan |40000 |Vishakhapatnam
3 |Renuka |50000 |Delhi
4 |Archana |15000 |Mumbai
5 |Trupthi |45000 |Kochin
6 |Suchatra |33000 |Pune
7 |Rahul |39000 |Lucknow 
</pre>
<p>The following SQL DELETE statement fetches the records of the employees whose salary is more than 35000 &minus;</p>
<pre class="result notranslate">
ij> SELECT * FROM Employees WHERE Salary>35000;
</pre>
<p>This will produce the following output &minus;</p>
<pre class="result notranslate">
ID |NAME |SALARY |LOCATION 
---------------------------------------------------
2 |Kalyan |40000 |Vishakhapatnam
3 |Renuka |50000 |Delhi
5 |Trupthi |45000 |Kochin
7 |Rahul |39000 |Lucknow
4 rows selected
</pre>
<p>Similarly, you can also delete and update records using this clause.</p>
<p>Following example updates the location of those whose salary is less than 30000.</p>
<pre class="result notranslate">
ij> UPDATE Employees SET Location = 'Vijayawada' WHERE Salary&lt;35000;
3 rows inserted/updated/deleted
</pre>
<p>If you verify the contents of the table, you can see the updated table as shown below &minus;</p>
<pre class="result notranslate">
ij> SELECT * FROM Employees;
ID |NAME |SALARY |LOCATION
------------------------------------------------------------------------------
1 |Amit |30000 |Vijayawada
2 |Kalyan |40000 |Vishakhapatnam
3 |Renuka |50000 |Delhi
4 |Archana |15000 |Vijayawada
5 |Trupthi |45000 |Kochin
6 |Suchatra |33000 |Vijayawada
7 |Rahul |39000 |Lucknow
7 rows selected
</pre>
<h2>Where clause JDBC example</h2>
<p>This section teaches you how to use WHERE clause and perform CURD operations on a table in Apache Derby database using JDBC application.</p>
<p>If you want to request the Derby network server using network client, make sure that the server is up and running. The class name for the Network client driver is org.apache.derby.jdbc.ClientDriver and the URL is jdbc:derby://localhost:1527/<b>DATABASE_NAME</b>;create=true;user=<b>USER_NAME;</b>passw
ord=<b>PASSWORD</b>".</p>
<p>Follow the steps given below to use WHERE clause and perform CURD operations on a table in Apache Derby</p>
<h3>Step 1: Register the driver</h3>
<p>To communicate with the database, first of all, you need to register the driver. The <b>forName()</b> method of the class <b>Class</b> accepts a String value representing a class name loads it in to the memory, which automatically registers it. Register the driver using this method</p>
<h3>Step 2: Get the connection</h3>
<p>In general, the first step we do to communicate to the database is to connect with it. The <b>Connection</b> class represents the physical connection with a database server. You can create a connection object by invoking the <b>getConnection()</b> method of the <b>DriverManager</b> class. Create a connection using this method.</p>
<h3>Step 3: Create a statement object</h3>
<p>You need to create a <b>Statement</b> or <b>PreparedStatement</b> or, <b>CallableStatement</b> objects to send SQL statements to the database. You can create these using the methods <B>createStatement(), prepareStatement() and, prepareCall()</b> respectively. Create either of these objects using the appropriate method.</p>
<h3>Step 4: Execute the query</h3>
<p>After creating a statement, you need to execute it. The <b>Statement</b> class provides various methods to execute a query like the <b>execute()</b> method to execute a statement that returns more than one result set. The <b>executeUpdate()</b> method executes queries like INSERT, UPDATE, DELETE. The <b>executeQuery()</b> method results that returns data. Use either of these methods and execute the statement created previously.</p>
<h3>Example</h3>
<p>Following JDBC example demonstrates how to use WHERE clause and perform CURD operations on a table in Apache Derby using JDBC program. Here, we are connecting to a database named sampleDB (will create if it does not exist) using the embedded driver.</p>
<pre class="result notranslate">
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.Statement;
import java.sql.ResultSet;
public class WhereClauseExample {
   public static void main(String args[]) throws Exception {
      //Registering the driver
      Class.forName("org.apache.derby.jdbc.EmbeddedDriver");
      //Getting the Connection object
      String URL = "jdbc:derby:sampleDB;create=true";
      Connection conn = DriverManager.getConnection(URL);

      //Creating the Statement object
      Statement stmt = conn.createStatement();

      //Creating a table and populating it
      String query = "CREATE TABLE Employees("
         + "Id INT NOT NULL GENERATED ALWAYS AS IDENTITY, "
         + "Name VARCHAR(255), Salary INT NOT NULL, "
         + "Location VARCHAR(255), "
         + "PRIMARY KEY (Id))";
      String query = "INSERT INTO Employees("
         + "Name, Salary, Location) VALUES "
         + "('Amit', 30000, 'Hyderabad'), "
         + "('Kalyan', 40000, 'Vishakhapatnam'), "
         + "('Renuka', 50000, 'Delhi'), "
         + "('Archana', 15000, 'Mumbai'), "
         + "('Trupthi', 45000, 'Kochin'), "
         + "('Suchatra', 33000, 'Pune'), "
         + "('Rahul', 39000, 'Lucknow'), "
         + "('Trupti', 45000, 'Kochin')";
      //Executing the query
      String query = "SELECT * FROM Employees WHERE Salary>35000";
      ResultSet rs = stmt.executeQuery(query);
      while(rs.next()) {
         System.out.println("Id: "+rs.getString("Id"));
         System.out.println("Name: "+rs.getString("Name"));
         System.out.println("Salary: "+rs.getString("Salary"));
         System.out.println("Location: "+rs.getString("Location"));
         System.out.println(" ");
      }
   }
}
</pre>
<h3>Output</h3>
<p>On executing the above program, you will get the following output &minus;</p>
<pre class="result notranslate">
Id: 2
Name: Kalyan
Salary: 43000
Location: Chennai

Id: 3
Name: Renuka
Salary: 50000
Location: Delhi

Id: 5
Name: Trupthi
Salary: 45000
Location: Kochin

Id: 7
Name: Rahul
Salary: 39000
Location: Lucknow
</pre>
<h1>Apache Derby - GROUP BY Clause</h1>
<p>The GROUP BY clause is used with SELECT statements. It is used to form subsets in case of identical data. Usually, this clause is followed by ORDER BY clause and placed after the WHERE clause.</p>
<h3>Syntax</h3>
<p>Following is the syntax of GROUP BY clause &minus;</p>
<pre class="result notranslate">
ij>SELECT column1, column2, . . . table_name GROUP BY column1, column2, . . .;
</pre>
<h3>Example</h3>
<p>Suppose we have a table named Employees in the database with the following records &minus;</p>
<pre class="result notranslate">
ID |NAME |SALARY |LOCATION
------------------------------------------------------------------
1 |Amit |30000 |Hyderabad
2 |Rahul |39000 |Lucknow
3 |Renuka |50000 |Hyderabad
4 |Archana |15000 |Vishakhapatnam
5 |Kalyan |40000 |Hyderabad
6 |Trupthi |45000 |Vishakhapatnam
7 |Raghav |12000 |Lucknow
8 |Suchatra |33000 |Vishakhapatnam
9 |Rizwan |20000 |Lucknow 
</pre>
<p>The following SELECT statement with GROUP BY clause groups the table based on location. It displays the total amount of salary given to employees at a location.</p>
<pre class="result notranslate">
ij> SELECT Location, SUM(Salary) from Employees GROUP BY Location;
</pre>
<p>This will generate the following output &minus;</p>
<pre class="result notranslate">
LOCATION |2
-------------------------------------------------------
Hyderabad |120000
Lucknow |71000
Vishakhapatnam |93000
3 rows selected
</pre>
<p>In the same way, following query finds the average amount spent on the employees as salary in a location.</p>
<pre class="result notranslate">
ij> SELECT Location, AVG(Salary) from Employees GROUP BY Location;
</pre>
<p>This will generate the following output &minus;</p>
<pre class="result notranslate">
LOCATION |2
-----------------------------------------------------
Hyderabad |40000
Lucknow |23666
Vishakhapatnam |31000
3 rows selected
</pre>
<h2>Group By clause JDBC example</h2>
<p>This section teaches you how to use Group By clause and perform CURD operations on a table in Apache Derby database using JDBC application.</p>
<p>If you want to request the Derby network server using network client, make sure that the server is up and running. The class name for the Network client driver is org.apache.derby.jdbc.ClientDriver and the URL is jdbc:derby://localhost:1527/<b>DATABASE_NAME;</b>create=true;user=<b>USER_NAME;</b>passw
ord=<b>PASSWORD</b>"</p>
<p>Follow the steps given below to use Group By clause and perform CURD operations on a table in Apache Derby</p>
<h3>Step 1: Register the driver</h3>
<p>To communicate with the database, first of all, you need to register the driver. The <b>forName()</b> method of the class <b>Class</b> accepts a String value representing a class name loads it in to the memory, which automatically registers it. Register the driver using this method.</p>
<h3>Step 2: Get the connection</h3>
<p>In general, the first step we do to communicate to the database is to connect with it. The <b>Connection</b> class represents the physical connection with a database server. You can create a connection object by invoking the <b>getConnection()</b> method of the <b>DriverManager</b> class. Create a connection using this method.</p>
<h3>Step 3: Create a statement object</h3>
<p>You need to create a <b>Statement</b> or <b>PreparedStatement</b> or, <b>CallableStatement</b> objects to send SQL statements to the database. You can create these using the methods <b>createStatement(), prepareStatement() and, prepareCall()</b> respectively. Create either of these objects using the appropriate method.</p>
<h3>Step 4: Execute the query</h3>
<p>After creating a statement, you need to execute it. The <b>Statement</b> class provides various methods to execute a query like the <b>execute()</b> method to execute a statement that returns more than one result set. The <b>executeUpdate()</b> method is used to execute queries like INSERT, UPDATE, DELETE. The <b>executeQuery()</b> method returns data. Use either of these methods and execute the statement created previously.</p>
<h3>Example</h3>
<p>Following JDBC example demonstrates how to use <b>Group By</b> clause and perform CURD operations on a table in Apache Derby using JDBC program. Here, we are connecting to a database named sampleDB (will create if it does not exist) using the embedded driver.</p>
<pre class="result notranslate">
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.Statement;
import java.sql.ResultSet;
public class GroupByClauseExample {
   public static void main(String args[]) throws Exception {
      //Registering the driver
      Class.forName("org.apache.derby.jdbc.EmbeddedDriver");

      //Getting the Connection object
      String URL = "jdbc:derby:sampleDB;create=true";
      Connection conn = DriverManager.getConnection(URL);

      //Creating the Statement object
      Statement stmt = conn.createStatement();

      //Creating a table and populating it
      stmt.execute("CREATE TABLE EmployeesData( "
         + "Id INT NOT NULL GENERATED ALWAYS AS IDENTITY, "
         + "Name VARCHAR(255), "
         + "Salary INT NOT NULL, "
         + "Location VARCHAR(255), "
         + "PRIMARY KEY (Id))");
      stmt.execute("INSERT INTO EmployeesData(Name, Salary, Location) "
         + "VALUES ('Amit', 30000, 'Hyderabad'), "
         + "('Rahul', 39000, 'Lucknow'), "
         + "('Renuka', 50000, 'Hyderabad'), "
         + "('Archana', 15000, 'Vishakhapatnam'), "
         + "('Kalyan', 40000, 'Hyderabad'), "
         + "('Trupthi', 45000, 'Vishakhapatnam'), "
         + "('Raghav', 12000, 'Lucknow'), "
         + "('Suchatra', 33000, 'Vishakhapatnam'), "
         + "('Rizwan', 20000, 'Lucknow')");

      //Executing the query
      String query = "SELECT Location, SUM(Salary) from EmployeesData GROUP BY Location";
      ResultSet rs = stmt.executeQuery(query);
      while(rs.next()) {
         System.out.println("Location: "+rs.getString(1));
         System.out.println("Sum of salary: "+rs.getString(2));
         System.out.println(" ");
      }
   }
}
</pre>
<h3>Output</h3>
<p>On executing the above program, you will get the following output &minus;</p>
<pre class="result notranslate">
Location: Hyderabad
Sum of salary: 120000

Location: Lucknow
Sum of salary: 71000

Location: Vishakhapatnam
Sum of salary: 93000 
</pre>
<h1>Apache Derby - Order By Clause</h1>
<p>The ORDER BY clause is used to arrange the contents of the result set in the order it uses the keywords, ASC representing ascending order and DESC representing descending order. If you do not mention either of these, the contents will be arranged in ascending order by default.</p>
<h3>Syntax</h3>
<p>Following is the syntax of the ORDER BY clause &minus;</p>
<pre class="result notranslate">
SELECT * FROM table_name ORDER BY column_name ASC|DESC.
</pre>
<h3>Example</h3>
<p>Suppose we have a table named Employees in the database with the following records &minus;</p>
<pre class="result notranslate">
ID |NAME |SALARY |LOCATION
------------------------------------------------------------------------------
1 |Amit |30000 |Vijayawada
2 |Kalyan |40000 |Vishakhapatnam
3 |Renuka |50000 |Delhi
4 |Archana |15000 |Vijayawada
5 |Trupthi |45000 |Kochin
6 |Suchatra |33000 |Vijayawada
7 |Rahul |39000 |Lucknow 
</pre>
<p>The following query arranges the contents of the table in ascending order based on the name of the Employee.</p>
<pre class="result notranslate">
ij> SELECT * FROM Employees ORDER BY Name;
</pre>
<p>This will generate the following output &minus;</p>
<pre class="result notranslate">
ID |NAME |SALARY |LOCATION
---------------------------------------------------------------
1 |Amit |30000 |Hyderabad
4 |Archana |15000 |Mumbai
2 |Kalyan |40000 |Vishakhapatnam 
7 |Rahul |39000 |Lucknow
3 |Renuka |50000 |Delhi
6 |Suchatra |33000 |Pune
5 |Trupthi |45000 |Kochin
7 rows selected
</pre>
<p>Similarly, following query arranges the contents of the table in descending order based on the salary of the Employee &minus;</p>
<pre class="result notranslate">
ij> SELECT * FROM Employees ORDER BY Salary DESC;
</pre>
<p>This will generate the following output &minus;</p>
<pre class="result notranslate">
ID |NAME |SALARY |LOCATION
---------------------------------------------------------------
3 |Renuka |50000 |Delhi
5 |Trupthi |45000 |Kochin
2 |Kalyan |40000 |Vishakhapatnam
7 |Rahul |39000 |Lucknow
6 |Suchatra |33000 |Pune
1 |Amit |30000 |Hyderabad
4 |Archana |15000 |Mumbai
7 rows selected
</pre>
<h2>Sorting Data using JDBC program</h2>
<p>This section teaches you how to sort the contents of a table in Derby using JDBC. You can arrange records in order using the ORDER BY clause and the keywords ASC (denoting ascending order), and DSC (denoting descending order).</p>
<p>If you want to request the Derby network server using network client, make sure that the server is up and running. The class name for the Network client driver is org.apache.derby.jdbc.ClientDriver and the URL is jdbc:derby://localhost:1527/<b>DATABASE_NAME;</b>create=true;user=<b>USER_NAME;</b>passw
ord=<b>PASSWORD</b>".</p>
<p>Follow the steps given below to sort the records of a table in Apache Derby &minus;</p>
<h3>Step 1: Register the driver</h3>
<p>To communicate with the database, first of all, you need to register the driver. The <b>forName()</b> method of the class <b>Class</b> accepts a String value representing a class name loads it in to the memory, which automatically registers it. Register the driver using this method.</p>
<h3>Step 2: Get the connection</h3>
In general, the first step we do to communicate to the database is to connect with it. The <b>Connection</b> class represents the physical connection with a database server. You can create a connection object by invoking the <b>getConnection()</b> method of the <b>DriverManager</b> class. Create a connection using this method.</p>
<h3>Step 3: Create a statement object</h3>
<p>You need to create a <b>Statement</b> or <b>PreparedStatement</b> or, <b>CallableStatement</b> objects to send SQL statements to the database. You can create these using the methods <b>createStatement(), prepareStatement() and, prepareCall()</b> respectively. Create either of these objects using the appropriate method.</p>
<h3>Step 4: Execute the query</h3>
<p>After creating a statement, you need to execute it. The <b>Statement</b> class provides various methods to execute a query like the <b>execute()</b> method to execute a statement that returns more than one result set. The <b>executeUpdate()</b> method executes queries like INSERT, UPDATE, DELETE. The <b>executeQuery()</b> method returns data. Use either of these methods and execute the statement created previously.</p>
<h3>Example</h3>
<p>Following JDBC example demonstrates how to sort the records of a table in Apache Derby using JDBC program. Here, we are connecting to a database named sampleDB (will create if it does not exist) using the embedded driver.</p>
<pre class="result notranslate">
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;
public class SortData {
   public static void main(String args[]) throws SQLException, ClassNotFoundException {
      //Registering the driver
      Class.forName("org.apache.derby.jdbc.EmbeddedDriver");

      //Getting the Connection object
      String URL = "jdbc:derby:SampleDB;create=true";
      Connection conn = DriverManager.getConnection(URL);

      //Creating the Statement object
      Statement stmt = conn.createStatement();

      //Creating a table and populating it
      String query = "CREATE TABLE Employees("
         + "Id INT NOT NULL GENERATED ALWAYS AS IDENTITY, "
         + "Name VARCHAR(255), Salary INT NOT NULL, "
         + "Location VARCHAR(255), "
         + "PRIMARY KEY (Id))";
      String query = "INSERT INTO Employees("
         + "Name, Salary, Location) VALUES "
         + "('Amit', 30000, 'Hyderabad'), "
         + "('Kalyan', 40000, 'Vishakhapatnam'), "
         + "('Renuka', 50000, 'Delhi'), "
         + "('Archana', 15000, 'Mumbai'), "
         + "('Trupthi', 45000, 'Kochin'), "
         + "('Suchatra', 33000, 'Pune'), "
         + "('Rahul', 39000, 'Lucknow'), "
         + "('Trupti', 45000, 'Kochin')";
      //Executing the query
      String query = "SELECT Location, SUM(Salary) " + "from Employees GROUP BY Location";
      ResultSet rs = stmt.executeQuery(query);
      while(rs.next()) {
         System.out.println("Salary: "+rs.getString(1));
         System.out.println("Location: "+rs.getString(2));
         System.out.println(" ");
      }
   }
}
</pre>
<h3>Output</h3>
<p>On executing the above program, you will get the following output &minus;</p>
<pre class="result notranslate">
Salary: Chennai
Location: 43000

Salary: Delhi
Location: 50000

Salary: Hyderabad
Location: 30000

Salary: Kochin
Location: 45000

Salary: Lucknow
Location: 39000

Salary: Mumbai
Location: 15000

Salary: Pune
Location: 33000 
</pre>
<h1>Apache Derby - Having Clause</h1>
<p>The HAVING Clause enables you to specify conditions that filter which group results appear in the results.</p>
<p>The WHERE clause places conditions on the selected columns, whereas the HAVING clause places conditions on groups created by the GROUP BY clause.</p>
<h3>Syntax</h3>
<p>Following is the syntax of the HAVING clause &minus;</p>
<pre class="result notranslate">
ij> SELECT column1, column2 . . . from table_name GROUP BY column having
condition;
</pre>
<h3>Example</h3>
<p>Suppose, we have a table named Employees in the database with the 13 records as shown below &minus;</p>
<pre class="result notranslate">
ID |NAME |SALARY |LOCATION
------------------------------------------------------------------
1 |Amit |30000 |Hyderabad
2 |Rahul |39000 |Lucknow
3 |Kalyan |40000 |Vishakhapatnam
4 |Renuka |50000 |Hyderabad
5 |Archana |15000 |Vishakhapatnam
6 |Krishna |40000 |Hyderabad
7 |Trupthi |45000 |Vishakhapatnam
8 |Raghav |12000 |Lucknow
9 |Radha |50000 |Delhi
10 |Anirudh |15000 |Mumbai
11 |Tara |45000 |Kochin
12 |Sucharita |44000 |Kochin
13 |Rizwan |20000 |Lucknow 
</pre>
<p>The following query displays maximum salaries of the employees in the location which have at least 3 employees &minus;</p>
<pre class="result notranslate">
ij> SELECT Location, MAX(Salary) from Employees GROUP BY Location having
count(Location)>=3;
</pre>
<p>This generates the following output &minus;</p>
<pre class="result notranslate">
LOCATION |2
------------------------------------------------------------
Hyderabad |50000
Lucknow |39000
Vishakhapatnam |45000
3 rows selected
</pre>
<h2>Sorting Data using JDBC program</h2>
<p>This section teaches you how to use Having a clause in the Apache Derby database using JDBC application.</p>
<p>If you want to request the Derby network server using network client, make sure that the server is up and running. The class name for the Network client driver is org.apache.derby.jdbc.ClientDriver and the URL is jdbc:derby://localhost:1527/<b>DATABASE_NAME;</b>create=true;user=<b>USER_NAME;</b>passw ord=<b>PASSWORD</b>"</p>
<p>Follow the steps given below to sort the records of a table in Apache Derby</p>
<h3>Step 1: Register the driver</h3>
<p>To communicate with the database, first of all, you need to register the driver. The <b>forName()</b> method of the class <b>Class</b> accepts a String value representing a class name, and loads it in to the memory, which automatically registers it. Register the driver using this method.</p>
<h3>Step 2: Get the connection</h3>
<p>In general, the first step we do to communicate to the database is to connect with it. The <B>Connection</b> class represents the physical connection with a database server. You can create a connection object by invoking the <b>getConnection()</b> method of the <b>DriverManager</b> class. Create a connection using this method.</p>
<h3>Step 3: Create a statement object</h3>
<p>You need to create a <b>Statement</b> or <b>PreparedStatement or, CallableStatement</b> objects to send SQL statements to the database. You can create these using the methods <b>createStatement(), prepareStatement() and, prepareCall()</b> respectively. Create either of these objects using the appropriate method.</p>
<h3>Step 4: Execute the query</h3>
<p>After creating a statement, you need to execute it. The <b>Statement</b> class provides various methods to execute a query like the <b>execute()</b> method to execute a statement that returns more than one result set. The <b>executeUpdate()</b> method executes queries like INSERT, UPDATE, DELETE. The <b>executeQuery()</b> method returns data. Use either of these methods and execute the statement created previously.</p>
<h3>Example</h3>
<p>Following JDBC example demonstrates how to use Group By clause and perform CURD operations on a table in Apache Derby using JDBC program. Here, we are connecting to a database named sampleDB (will create if it does not exist) using the embedded driver.</p>
<pre class="result notranslate">
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.Statement;
import java.sql.ResultSet;
public class HavingClauseExample {
   public static void main(String args[]) throws Exception {
      //Registering the driver
      Class.forName("org.apache.derby.jdbc.EmbeddedDriver");

      //Getting the Connection object
      String URL = "jdbc:derby:sampleDB;create=true";
      Connection conn = DriverManager.getConnection(URL);

      //Creating the Statement object
      Statement stmt = conn.createStatement();

      //Creating a table and populating it
      stmt.execute("CREATE TABLE EmployeesData( "
         + "Id INT NOT NULL GENERATED ALWAYS AS IDENTITY, "
         + "Name VARCHAR(255), "
         + "Salary INT NOT NULL, "
         + "Location VARCHAR(255), "
         + "PRIMARY KEY (Id))");
      stmt.execute("INSERT INTO EmployeesData(Name, Salary, Location) "
         + "VALUES ('Amit', 30000, 'Hyderabad'), "
         + "('Rahul', 39000, 'Lucknow'), "
         + "('Renuka', 50000, 'Hyderabad'), "
         + "('Archana', 15000, 'Vishakhapatnam'), "
         + "('Kalyan', 40000, 'Hyderabad'), "
         + "('Trupthi', 45000, 'Vishakhapatnam'), "
         + "('Raghav', 12000, 'Lucknow'), "
         + "('Suchatra', 33000, 'Vishakhapatnam'), "
         + "('Rizwan', 20000, 'Lucknow')");
      //Executing the query
      String query = "SELECT Location, MAX(Salary) "
         + "from EmployeesData GROUP BY Location having "
         + "count(Location)&gt;=3";
      ResultSet rs = stmt.executeQuery(query);
      while(rs.next()) {
         System.out.println(rs.getString(1));
         System.out.println(rs.getString(2));
         System.out.println(" ");
      }
   }
}
</pre>
<h3>Output</h3>
<p>On executing the above program, you will get the following output &minus;</p>
<pre class="result notranslate">
Hyderabad
50000

Lucknow
39000

Vishakhapatnam
45000
</pre>
<h1>Apache Derby - Alter Table Statement</h1>
<p>The ALTER TABLE statement, allows you to alter an existing table. Using this you can do the following &minus;</p>
<ul class="list">
<li><p>Add a column, add a constraint</p></li>
<li><p>Drop a column, drop a constraint</p></li>
<li><p>Change the row level locking of a table</p></li>
</ul>
<p>Let us assume we have created a table named Employees as shown below &minus;</p>
<pre class="result notranslate">
ij> CREATE TABLE Employees (
   Id INT NOT NULL GENERATED ALWAYS AS IDENTITY,
   Name VARCHAR(255),
   Salary INT NOT NULL,
   Location VARCHAR(255),
   PRIMARY KEY (Id)
);
</pre>
<p>And, inserted four records using the insert statement as &minus;</p>
<pre class="result notranslate">
ij> INSERT INTO Employees (Name, Salary, Location) VALUES
 ('Amit', 30000, 'Hyderabad'),
 ('Kalyan', 40000, 'Vishakhapatnam'),
 ('Renuka', 50000, 'Delhi'),
 ('Archana', 15000, 'Mumbai');
</pre>
<h2>Adding a column to a Table</h2>
<p>Following is the syntax to add a column to a table using ALTER statement.</p>
<pre class="result notranslate">
ALTER TABLE table_name ADD COLUMN column_name column_type;
</pre>
<h3>Example</h3>
<p>Using ALTER statement, we are trying to add a new column named Age with the type integer.</p>
<pre class="result notranslate">
ALTER TABLE Employees ADD COLUMN Age INT;
0 rows inserted/updated/deleted
</pre>
<p>Add another column named Phone_No with the type integer.</p>
<pre class="result notranslate">
ALTER TABLE Employees ADD COLUMN Phone_No BIGINT;
0 rows inserted/updated/deleted
</pre>
<p>The DESCRIBE command describes specified table by listing the columns and their details, if the table exists. If you DESCRIBE, the table Employees you can observe the newly added columns as shown below &minus;</p>
<pre class="result notranslate">
ij> DESCRIBE Employees;
COLUMN_NAME |TYPE_NAME|DEC&|NUM&|COLUM&|COLUMN_DEF|CHAR_OCTE&|IS_NULL&
------------------------------------------------------------------------------
ID |INTEGER |0 |10 |10 |AUTOINCRE&|NULL |NO
NAME |VARCHAR |NULL|NULL|255 |NULL |510 |YES
SALARY |INTEGER |0 |10 |10 |NULL |NULL |NO
LOCATION |VARCHAR |NULL|NULL|255 |NULL |510 |YES
AGE |INTEGER |0 |10 |10 |NULL |NULL |YES
PHONE_NO |INTEGER |0 |10 |10 |NULL |NULL |YES
6 rows selected
</pre>
<h2>Adding a constraint to a table</h2>
<p>Following is the syntax to add a constraint to a column of a table using ALTER statement.</p>
<pre class="result notranslate">
ALTER TABLE table_name ADD CONSTRAINT constraint_name constraint (column_name);
</pre>
<p>Where <b>constraint</b> can be NOT NULL, NULL, PRIMARY KEY, UNIQUE, FOREIGN KEY, CHECK.</p>
<h3>Example</h3>
<p>Using ALTER statement, we are trying to add constraint <b>UNIQUE</b> to the Phone_No column.</p>
<pre class="result notranslate">
ij> ALTER TABLE Employees ADD CONSTRAINT New_Constraint UNIQUE(Phone_No);
0 rows inserted/updated/deleted
</pre>
<p>Once, you add a UNIQUE constraint to a column, it cannot have the same values for two rows, i.e., phone number should be unique for each employee.</p>
<p>If you try to add two columns with a same phone number, you will get an exception as shown below.</p>
<pre class="result notranslate">
ij> INSERT INTO Employees (Name, Salary, Location, Age, Phone_No) VALUES
('Amit', 30000, 'Hyderabad', 30, 9848022338);
1 row inserted/updated/deleted
ij> INSERT INTO Employees (Name, Salary, Location, Age, Phone_No) VALUES
('Sumit', 35000, 'Chennai', 25, 9848022338);
ERROR 23505: The statement was aborted because it would have caused a duplicate
key value in a unique or primary key constraint or unique index identified by
'NEW_CONSTRAINT' defined on 'EMPLOYEES'.
</pre>
<h2>Dropping a constraint from a table</h2>
<p>Following is the syntax to drop a constraint of a column &minus;</p>
<pre class="result notranslate">
ALTER TABLE table_name DROP CONSTRAINT constraint_name;
</pre>
<h3>Example</h3>
<p>The following query deletes the constraint name New_Constraint on the column Phone_No created above.</p>
<pre class="result notranslate">
ij> ALTER TABLE Employees DROP CONSTRAINT New_Constraint;
0 rows inserted/updated/deleted
</pre>
<p>Since we have removed the UNIQUE constraint on the column Phone_No, you can add columns with the same phone number.</p>
<pre class="result notranslate">
ij> INSERT INTO Employees (Name, Salary, Location, Age, Phone_No) VALUES
('Sumit', 35000, 'Chennai', 25, 9848022338);
1 row inserted/updated/deleted
</pre>
<p>You can verify the contents of the table ij> select * from Employees as follows &minus;</p>
<pre class="result notranslate">
ID |NAME |SALARY |LOCATION |AGE |PHONE_NO
-------------------------------------------------------------------------
1 |Amit |30000 |Hyderabad |30 |9848022338
2 |Sumit |35000 |Chennai |25 |9848022338
2 rows selected
</pre>
<h2>Dropping a column from a table</h2>
<p>Following is the syntax to drop a column of a column.</p>
<pre class="result notranslate">
ALTER TABLE table_name DROP COLUMN column_name;
</pre>
<h3>Example</h3>
<p>Following query deletes the column named <b>age of the employee</b> &minus;</p>
<pre class="result notranslate">
ij> ALTER TABLE Employees DROP COLUMN Age;
0 rows inserted/updated/deleted
</pre>
<p>If you describe the table, you can see only 4 columns.</p>
<pre class="result notranslate">
ij> DESCRIBE Employees;
COLUMN_NAME |TYPE_NAME|DEC&|NUM&|COLUM&|COLUMN_DEF|CHAR_OCTE&|IS_NULL&
------------------------------------------------------------------------------
ID |INTEGER |0 |10 |10 |AUTOINCRE&|NULL |NO
NAME |VARCHAR |NULL|NULL|255 |NULL |510 |YES
SALARY |INTEGER |0 |10 |10 |NULL |NULL |NO
LOCATION |VARCHAR |NULL|NULL|255 |NULL |510 |YES
PHONE_NO |BIGINT |0 |10 |19 |NULL |NULL |YES
</pre>
<h2>Altering table using JDBC program</h2>
<p>Following is the JDBC program to alter a table using the ALTER query &minus;</p>
<pre class="result notranslate">
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;
public class AlterTableExample {
   public static void main(String args[]) throws Exception {
      //Registering the driver
      Class.forName("org.apache.derby.jdbc.EmbeddedDriver");
      //Getting the Connection object
      String URL = "jdbc:derby:sampleDB;create=true";
      Connection conn = DriverManager.getConnection(URL);

      //Creating the Statement object
      Statement stmt = conn.createStatement();

      //Executing the query
      String createQuery = "CREATE TABLE Employees( "
         + "Id INT NOT NULL GENERATED ALWAYS AS IDENTITY, "
         + "Name VARCHAR(255), "
         + "Salary INT NOT NULL, "
         + "Location VARCHAR(255), "
         + "PRIMARY KEY (Id))";

      stmt.execute(createQuery);
      System.out.println("Table created");
      System.out.println(" ");

      //Executing the query
      String insertQuery = "INSERT INTO Employees("
         + "Name, Salary, Location) VALUES "
         + "('Amit', 30000, 'Hyderabad'), "
         + "('Kalyan', 40000, 'Vishakhapatnam'), "
         + "('Renuka', 50000, 'Delhi'), "
         + "('Archana', 15000, 'Mumbai'), "
         + "('Trupti', 45000, 'Kochin')";

      stmt.execute(insertQuery);
      System.out.println("Values inserted");
      System.out.println(" ");

      //Executing the query
      String selectQuery = "SELECT * FROM Employees";
      ResultSet rs = stmt.executeQuery(selectQuery);
      System.out.println("Contents of the table after inserting the table");
      while(rs.next()) {
         System.out.println("Id: "+rs.getString("Id"));
         System.out.println("Name: "+rs.getString("Name"));
         System.out.println("Salary: "+rs.getString("Salary"));
         System.out.println("Location: "+rs.getString("Location"));
      }
      System.out.println(" ");

      //Altering the table
      stmt.execute("ALTER TABLE Employees ADD COLUMN Age INT");
      stmt.execute("ALTER TABLE Employees ADD COLUMN Phone_No BigINT");
      stmt.execute("ALTER TABLE Employees " + "ADD CONSTRAINT New_Constraint UNIQUE(Phone_No)");

      stmt.execute("INSERT INTO Employees "
         + "(Name, Salary, Location, Age, Phone_No) "
         + "VALUES ('Amit', 30000, 'Hyderabad', 30, 9848022338)");
      ResultSet alterResult = stmt.executeQuery("Select * from Employees");
      System.out.println("Contents of the table after altering "
         + "the table and inserting values to it: ");
      while(alterResult.next()) {
         System.out.println("Id: "+alterResult.getString("Id"));
         System.out.println("Name: "+alterResult.getString("Name"));
         System.out.println("Salary: "+alterResult.getString("Salary"));
         System.out.println("Location: "+alterResult.getString("Location"));
         System.out.println("Age: "+alterResult.getString("Age"));
         System.out.println("Phone_No: "+alterResult.getString("Phone_No"));
      }
   }
}
</pre>
<h3>Output</h3>
<p>On executing the above program, the following output will be generated &minus;</p>
<pre class="result notranslate">
Table created

Values inserted

Contents of the table after inserting the table
Id: 1
Name: Amit
Salary: 30000
Location: Hyderabad
Id: 2
Name: Kalyan
Salary: 40000
Location: Vishakhapatnam
Id: 3
Name: Renuka
Salary: 50000
Location: Delhi
Id: 4
Name: Archana
Salary: 15000
Location: Mumbai
Id: 5
Name: Trupti
Salary: 45000
Location: Kochin

Contents of the table after altering the table and inserting values to it:
Id: 1
Name: Amit
Salary: 30000
Location: Hyderabad
Age: null
Phone_No: null
Id: 2
Name: Kalyan
Salary: 40000
Location: Vishakhapatnam
Age: null
Phone_No: null
Id: 3
Name: Renuka
Salary: 50000
Location: Delhi
Age: null
Phone_No: null
Id: 4
Name: Archana
Salary: 15000
Location: Mumbai
Age: null
Phone_No: null
Id: 5
Name: Trupti
Salary: 45000
Location: Kochin
Age: null
Phone_No: null
Id: 6
Name: Amit
Salary: 30000
Location: Hyderabad
Age: 30
Phone_No: 9848022338
</pre>
<h1>Apache Derby - Derby Indexes</h1>
<p>An index in a table is nothing but a pointer to its data. These are used to speed up the data retrieval from a table.</p>
<p>If we use indexes, the INSERT and UPDATE statements get executed in a slower phase. Whereas SELECT and WHERE get executed with in lesser time.</p>
<h2>Creating an Index</h2>
<p>The CREATE INDEX statement is used for creating a new Index in a table in Derby database.</p>
<h3>Syntax</h3>
<p>Following is the syntax of the CREATE INDEX statement &minus;</p>
<pre class="result notranslate">
CTREATE INDEX index_name on table_name (column_name);
</pre>
<h3>Example</h3>
<p>Suppose we have created a table named Employees in Apache Derby as shown below.</p>
<pre class="result notranslate">
CREATE TABLE Emp ( Id INT NOT NULL GENERATED ALWAYS AS IDENTITY,
   Name VARCHAR(255),
   Salary INT NOT NULL,
   Location VARCHAR(255),
   Phone_Number BIGINT
);
</pre>
<p>The following SQL statement creates an index on the column named Salary in the table Employees.</p>
<pre class="result notranslate">
ij> CREATE INDEX example_index on Emp (Salary);
0 rows inserted/updated/deleted
</pre>
<h2>Creating a UNIQUE index</h2>
<p>In Apache Derby, UNIQUE indexes are used for data integration. Once you create a UNIQUE index on a column in a table, it does not allow duplicate values.</p>
<h3>Syntax</h3>
<p>Following is the syntax of creating a unique index.</p>
<pre class="result notranslate">
CREATE UNIQUE INDEX index_name on table_name (column_name);
</pre>
<h3>Example</h3>
<p>Following example creates a UNIQUE index on the column Id of the table Employee.</p>
<pre class="result notranslate">
ij> CREATE UNIQUE INDEX unique_index on Emp (Phone_Number);
0 rows inserted/updated/deleted
</pre>
<p>Once you have created a unique index on a column, you cannot enter same values for that column in another row. In short, a column which is has a UNIQE index will not allow duplicate values.</p>
<p>Insert a row in the Emp table as shown below</p>
<pre class="result notranslate">
ij> INSERT INTO Emp(Name, Salary, Location, Phone_Number) VALUES ('Amit',
45000, 'Hyderabad', 9848022338);
1 row inserted/updated/deleted
</pre>
<p>Since we have created a unique index on the column Phone_No, if you ty to enter the same value as in the previous record, it shows an error.</p>
<pre class="result notranslate">
ij> INSERT INTO Emp(Name, Salary, Location, Phone_Number) VALUES ('Sumit',
35000, 'Chennai', 9848022338);
ERROR 23505: The statement was aborted because it would have caused a duplicate
key value in a unique or primary key constraint or unique index identified by
'UNIQUE_INDEX' defined on 'EMP'.
</pre>
<h2>Creating a COMPOSITE index</h2>
<p>You can create a single index on two rows and it is called Composite index.</p>
<h3>Syntax</h3>
<p>Following is the syntax of the composite index.</p>
<pre class="result notranslate">
CREATE INDEX index_name on table_name (column_name1, column_name2);
</pre>
<h3>Example</h3>
<p>Following index creates a composite index on the columns Name and Location.</p>
<pre class="result notranslate">
ij> CREATE INDEX composite_index on Emp (Name, Location);
0 rows inserted/updated/deleted
</pre>
<h2>Displaying the Indexes</h2>
<p>The SHOW INDEXES query displays the list of indexes on a table.</p>
<h3>Syntax</h3>
<p>Following is the syntax of the SHOW INDEXES statement &minus;</p>
<pre class="result notranslate">
SHOW INDEXES FROM table_name;
</pre>
<h3>Example</h3>
<p>Following example, i displays the indexes on the table Employees.</p>
<pre class="result notranslate">
ij> SHOW INDEXES FROM Emp;
</pre>
<p>This produces the following result.</p>
<pre class="result notranslate">
ij> SHOW INDEXES FROM Emp;
TABLE_NAME |COLUMN_NAME |NON_U&|TYPE|ASC&|CARDINA&|PAGES
----------------------------------------------------------------------------
EMP |PHONE_NUMBER |false |3 |A |NULL |NULL
EMP |NAME |true |3 |A |NULL |NULL
EMP |LOCATION |true |3 |A |NULL |NULL
EMP |SALARY |true |3 |A |NULL |NULL
4 rows selected
</pre>
<h2>Dropping Indexes</h2>
<p>The Drop Index statement deletes/drops the given index on a column.</p>
<h3>Syntax</h3>
<p>Following is the syntax of the DROP INDEX statement.</p>
<pre class="result notranslate">
DROP INDEX index_name;
</pre>
<h3>Example</h3>
<p>Following example drops an indexes named composite_index and unique_index created above.</p>
<pre class="result notranslate">
ij> DROP INDEX composite_index;
0 rows inserted/updated/deleted
ij>Drop INDEX unique_index;
0 rows inserted/updated/deleted
</pre>
<p>Now, if you verify the list of indexes you can see index on one column since we have deleted the remaining.</p>
<pre class="result notranslate">
ij> SHOW INDEXES FROM Emp;
TABLE_NAME |COLUMN_NAME |NON_U&|TYPE|ASC&|CARDINA&|PAGES
----------------------------------------------------------------------------
EMP |SALARY |true |3 |A |NULL |NULL
1 row selected
</pre>
<h2>Handling Indexes using JDBC program</h2>
<p>Following JDBC program demonstrates how to create drop indexes on a column in a table.</p>
<pre class="result notranslate">
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.SQLException;
import java.sql.Statement;
public class IndexesExample {
   public static void main(String args[]) throws Exception {

      //Registering the driver
      Class.forName("org.apache.derby.jdbc.EmbeddedDriver");
      //Getting the Connection object
      String URL = "jdbc:derby:MYDATABASE;create=true";
      Connection conn = DriverManager.getConnection(URL);

      //Creating the Statement object
      Statement stmt = conn.createStatement();

      //Creating the Emp table
      String createQuery = "CREATE TABLE Emp( "
         + "Id INT NOT NULL GENERATED ALWAYS AS IDENTITY, "
         + "Name VARCHAR(255), "
         + "Salary INT NOT NULL, "
         + "Location VARCHAR(255), "
         + "Phone_Number BIGINT )";
      stmt.execute(createQuery);
      System.out.println("Table created");
      System.out.println(" ");

      //Creating an Index on the column Salary
      stmt.execute("CREATE INDEX example_index on Emp (Salary)");
      System.out.println("Index example_index inserted");
      System.out.println(" ");

      //Creating an Unique index on the column Phone_Number
      stmt.execute("CREATE UNIQUE INDEX unique_index on Emp (Phone_Number)");
      System.out.println("Index unique_index inserted");
      System.out.println(" ");

      //Creating a Composite Index on the columns Name and Location
      stmt.execute("CREATE INDEX composite_index on Emp (Name, Location)");
      System.out.println("Index composite_index inserted");
      System.out.println(" ");

      //listing all the indexes
      System.out.println("Listing all the columns with indexes");

      //Dropping indexes
      System.out.println("Dropping indexes unique_index and, composite_index ");
      stmt.execute("Drop INDEX unique_index");
      stmt.execute("DROP INDEX composite_index");
   }
}
</pre>
<h3>Output</h3>
<p>On executing, this generates the following result</p>
<pre class="result notranslate">
Table created
Index example_index inserted

Index unique_index inserted

Index composite_index inserted

Listing all the columns with indexes
Dropping indexes unique_index and, composite_index 
</pre>
<h1>Apache Derby - Procedures</h1>
<p>This chapter teaches you how to create and drop procedures in Derby.</p>
<h2>Creating a procedure</h2>
<p>You can create a procedure using the CREATE PROCEDURE statement.</p>
<h3>Syntax</h3>
<p>Following is the syntax of the CREATE PROCEDURE statement.</p>
<pre class="result notranslate">
CREATE PROCEDURE procedure_name (parameter_type parameter_name1, parameter_type
parameter_name2 . . . .) parameter_style;
</pre>
<h3>Example</h3>
<p>Suppose, we have created a table in Derby as shown below.</p>
<pre class="result notranslate">
CREATE TABLE Emp ( Id INT NOT NULL GENERATED ALWAYS AS IDENTITY,
   Name VARCHAR(255),
   Salary INT NOT NULL,
   Location VARCHAR(255),
   Phone_Number BIGINT
);
</pre>
<p>And inserted values in it as follows &minus;</p>
<pre class="result notranslate">
INSERT INTO Employees(Name, Salary, Location) VALUES
('Amit', 30000, 'Hyderabad'),
('Kalyan', 40000, 'Vishakhapatnam'),
('Renuka', 50000, 'Delhi'),
('Archana', 15000, 'Mumbai'),
('Trupthi', 45000, 'Kochin')";
</pre>
<p>Following example creates a procedure named Update_Procedure which accepts JAVA parameters.</p>
<pre class="result notranslate">
ij> CREATE PROCEDURE Update_Procedure(IN id INTEGER, IN name VARCHAR(10))
PARAMETER STYLE JAVA READS SQL DATA LANGUAGE JAVA EXTERNAL NAME
'ProcedureExample.testProc';
> 0 rows inserted/updated/deleted
</pre>
<p>Where ProcedureExample class looks like &minus;</p>
<pre class="result notranslate">
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
public class ProcedureExample {
   public static void testProc(int salary, String name) throws Exception {
      String connectionURL = "jdbc:derby:MYDATABASE;create=true";
      Connection conn = DriverManager.getConnection(connectionURL);
      String query = "UPDATE Employees SET SALARY = ? WHERE NAME = ?";
      PreparedStatement pstmt = conn.prepareStatement(query);
      pstmt.setInt(1, salary);
      pstmt.setString (2, name);
      pstmt.executeUpdate();
   }
}
</pre>
<p>You can verify the list of procedures using <b>SHOW PROCEDURES</b> query.</p>
<pre class="result notranslate">
ij> SHOW PROCEDURES;
PROCEDURE_SCHEM |PROCEDURE_NAME |REMARKS
------------------------------------------------------------------------
APP |UPDATE_PROCEDURE |ProcedureExample.te&
SALES |EXAMPLE_ PROCEDURE |com.example.sales.c&
SQLJ |INSTALL_JAR |org.apache.derby.ca&
SQLJ |REMOVE_JAR |org.apache.derby.ca&
SQLJ |REPLACE_JAR |org.apache.derby.ca&
SYSCS_UTIL |SYSCS_BACKUP_DATABASE |org.apache.derby.ca&
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
</pre>
<p>Here you can observe the newly created procedure.</p>
<h2>Dropping a procedure</h2>
<p>You can drop a procedure using the DROP PROCEDURE statement.</p>
<h3>Syntax</h3>
<p>Following is the syntax of the DROP PROCEDURE statement.</p>
<pre class="result notranslate">
DROP PROCEDURE procedure_name;
</pre>
<h3>Example</h3>
<p>Following example drops a procedure named Update_Procedure created above.</p>
<pre class="result notranslate">
ij> DROP PROCEDURE Update_Procedure;
> 0 rows inserted/updated/deleted
</pre>
<h1>Apache Derby - Schemas</h1>
<p>A database schema is the skeleton structure that represents the logical view of the entire database. It defines how the data is organized and how the relations among them are associated. It formulates all the constraints that are to be applied to the data.</p>
<h2>Creating a Schema</h2>
<p>You can create a schema in Apache Derby using the CREATE SCHEMA statement.</p>
<h3>Syntax</h3>
<p>Following is the syntax to the CREATE SCHEMA statement.</p>
<pre class="result notranslate">
CREATE SCHEMA schema_name AUTHORIZATION id
</pre>
<h3>Example</h3>
<p>Following example creates a schema named my_schema in Derby database.</p>
<pre class="result notranslate">
ij> CREATE SCHEMA AUTHORIZATION my_schema;
0 rows inserted/updated/deleted
</pre>
<p>Then, you can create a table in this schema as shown below.</p>
<pre class="result notranslate">
ij> CREATE TABLE my_schema.Emp ( Id INT NOT NULL GENERATED ALWAYS AS IDENTITY,
   Name VARCHAR(255),
   Salary INT NOT NULL,
   Location VARCHAR(255),
   Phone_Number BIGINT
);
> > > > > 0 rows inserted/updated/deleted
</pre>
<p>You can verify the list of schemas using the SHOW SCHEMAS query here you can find the list of schemas created.</p>
<pre class="result notranslate">
ij> show schemas;
TABLE_SCHEM
------------------------------
APP
MY_SCHEMA
NULLID
SQLJ
SYS
SYSCAT
SYSCS_DIAG
SYSCS_UTIL
SYSFUN
SYSIBM
SYSPROC
SYSSTAT
12 rows selected
</pre>
<h2>Dropping a Schema</h2>
<p>You can drop an existing schema using the DROP SCHEMA statement.</p>
<h3>Syntax</h3>
<p>Following is the syntax of DROPS SCHEMA statement.</p>
<pre class="result notranslate">
DROP SCHEMA my_schema RESTRICT;
</pre>
<h3>Example</h3>
<p>You can delete a schema only if does not have any objects in it. To delete the schema, delete all the tables in it and delete the schema.</p>
<pre class="result notranslate">
ij> DROP TABLE my_schema.Emp;
0 rows inserted/updated/deleted
</pre>
<p>Following example drops the above created schema.</p>
<pre class="result notranslate">
ij> DROP SCHEMA my_schema RESTRICT;
0 rows inserted/updated/deleted
</pre>
<h2>JDBC Example</h2>
<p>Following JDBC example creates and drops a schema named my_schema.</p>
<pre class="result notranslate">
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.SQLException;
import java.sql.Statement;
public class CreateSchemaExample {
   public static void main(String args[]) throws Exception {
      //Registering the driver
      Class.forName("org.apache.derby.jdbc.EmbeddedDriver");
      //Getting the Connection object
      String URL = "jdbc:derby:sampleDB;create=true";
      Connection conn = DriverManager.getConnection(URL);

      //Creating the Statement object
      Statement stmt = conn.createStatement();

      stmt.execute("CREATE SCHEMA AUTHORIZATION my_schema");
      //Executing the query
      String query = "CREATE TABLE my_schema.Employees( "
         + "Id INT NOT NULL GENERATED ALWAYS AS IDENTITY, "
         + "Name VARCHAR(255), "
         + "Salary INT NOT NULL, "
         + "Location VARCHAR(255), "
         + "PRIMARY KEY (Id))";
      stmt.execute(query);
      System.out.println("Table created in schema");
      stmt.execute("DROP TABLE my_schema.Employees");
      stmt.execute("DROP SCHEMA my_schema RESTRICT");
      System.out.println("Schema dropped");
   }
}
</pre>
<h3>Output</h3>
<p>On executing, the above program generates the following example.</p>
<pre class="result notranslate">
Table created in schema
Schema dropped
</pre>
<h1>Apache Derby - Triggers</h1>
<p>In databases, triggers are the statements/code which gets executed whenever an event occurred. Once you create a trigger to a particular event on a table, the code specified in the trigger gets executed each time the event occurs. You can create multiple triggers on a single table.</p>
<p>This chapter teaches you how to create and drop triggers using Apache Derby.</p>
<h2>Creating a trigger</h2>
<p>You can create a trigger in Derby using the CREATE TRIGGER statement.</p>
<h3>Syntax</h3>
<p>Following is the syntax of the CREATE TRIGGER query.</p>
<pre class="result notranslate">
CREATE TRIGGER trigger_name
{ NO CASCADE BEFORE | AFTER }
{INSERT [OR] | UPDATE [OR] | DELETE}[OF col_name]
ON table_name
[REFERENCING OLD AS o NEW AS n]
[FOR EACH ROW]
Statement
</pre>
<h3>Example</h3>
<p>Suppose, we have created a table named Emp in Derby as shown below.</p>
<pre class="result notranslate">
CREATE TABLE Emp (
   Id INT NOT NULL,
   Name VARCHAR(255),
   Salary INT NOT NULL,
   Location VARCHAR(255) );
</pre>
<p>And inserted 5 rows in it.</p>
<pre class="result notranslate">
INSERT INTO Emp(Id, Name, Salary, Location) VALUES
(1, 'Amit', 30000, 'Hyderabad'), (2, 'Kalyan', 40000, 'Vishakhapatnam'),
(3,'Renuka', 50000, 'Delhi'), (4, 'Archana', 15000, 'Mumbai'), (5, 'Trupthi',
45000, 'Kochin');
</pre>
<p>If we have another table named BackUp and our intention is to store deleted rows from Emp table in this.</p>
<pre class="result notranslate">
CREATE TABLE BackUp (
   Id INT NOT NULL,
   Name VARCHAR(255),
   Salary INT NOT NULL,
   Location VARCHAR(255)
);
</pre>
<p>The following query creates a trigger on the DELETE query table named <b>Emp</b>. It stores the deleted rows of <b>Emp</b> to the table Backup.</p>
<pre class="result notranslate">
ij> CREATE TRIGGER my_trigger
AFTER DELETE ON Emp
REFERENCING OLD AS oldRow
FOR EACH ROW MODE DB2SQL
INSERT INTO BackUp
VALUES (oldRow.Id, oldRow.Name, oldRow.Salary, oldRow.Location);
</pre>
<p>Now, delete a row from Emp table as &minus;</p>
<pre class="result notranslate">
ij> Delete From Emp where Name = 'Kalyan';
1 row inserted/updated/deleted
ij> Delete From Emp where Name = 'Amit';
1 row inserted/updated/deleted
</pre>
<p>If you verify the BackUp table, you can observe the deleted rows in it.</p>
<pre class="result notranslate">
ij> select * from BackUp;
ID |NAME |SALARY |LOCATION
-------------------------------------------------------------------------
2 |Kalyan |40000 |Vishakhapatnam
1 |Amit |30000 |Hyderabad

2 rows selected
</pre>
<h2>Deleting a trigger</h2>
<p>You can delete a trigger in Derby using the DROP TRIGGER statement.</p>
<h3>Syntax</h3>
<p>Following is the syntax of the DROP TRIGGER query &minus;</p>
<pre class="result notranslate">
ij> Drop trigger tigger_name;
</pre>
<h3>Example</h3>
<p>Following example deletes the trigger my_trigger created above &minus;</p>
<pre class="result notranslate">
ij> Drop trigger my_trigger;
0 rows inserted/updated/deleted
</pre>
<h2>JDBC example</h2>
<p>Following JDBC program creates and deletes triggers in Derby.</p>
<pre class="result notranslate">
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;
public class Triggers_Example {
   public static void main(String args[]) throws SQLException, ClassNotFoundException {
      //Registering the driver
      Class.forName("org.apache.derby.jdbc.EmbeddedDriver");
      //Getting the Connection object
      String URL = "jdbc:derby:TestDataBase;create=true";
      Connection conn = DriverManager.getConnection(URL);

      //Creating the Statement object
      Statement stmt = conn.createStatement();

      //Creating the Emp table
      stmt.execute("CREATE TABLE Emp ( "
         + "Id INT NOT NULL, "
         + "Name VARCHAR(255), "
         + "Salary INT NOT NULL, "
         + "Location VARCHAR(255))");

      //Insert values in to the EMp table
      String query = "INSERT INTO Emp(Id, Name, Salary, Location) VALUES \r\n"
         +"(1, 'Amit', 30000, 'Hyderabad'), "
         + "(2, 'Kalyan', 40000, 'Vishakhapatnam'), "
         + "(3,'Renuka', 50000, 'Delhi'), "
         + "(4, 'Archana', 15000, 'Mumbai'), "
         + "(5, 'Trupthi', 45000, 'Kochin')";
         stmt.execute(query);

      //Creating the BackUp table
      stmt.execute("CREATE TABLE BackUp ( "
         + "Id INT NOT NULL, "
         + "Name VARCHAR(255), "
         + "Salary INT NOT NULL, "
         + "Location VARCHAR(255))");

      //Creating a trigger
      String createTrigger = "CREATE TRIGGER my_trigger "
         + "AFTER DELETE ON Emp "
         + "REFERENCING OLD AS oldRow "
         + "FOR EACH ROW MODE DB2SQL "
         + "INSERT INTO BackUp "
         + "VALUES (oldRow.Id, oldRow.Name, oldRow.Salary, oldRow.Location)";
      stmt.execute(createTrigger);
      System.out.println("Trigger created");

      //Deleting records from Emp table
      stmt.executeUpdate("Delete From Emp where Name = 'Kalyan'");
      stmt.executeUpdate("Delete From Emp where Name = 'Amit'");
      //Getting the contents of BackUp table
      ResultSet rs = stmt.executeQuery("SELECT * from BackUp");
      while(rs.next()){
         System.out.println(rs.getInt("Id"));
         System.out.println(rs.getString("Name"));
         System.out.println(rs.getString("Salary"));
         System.out.println(rs.getString("Location"));
         System.out.println(" ");
      }
   }
}
</pre>
<h3>Output</h3>
<p>On executing the above program, the following output is generated &minus;</p>
<pre class="result notranslate">
Trigger created
2
Kalyan
40000
Vishakhapatnam
1
Amit
30000
Hyderabad
</pre>
<h1></h1>
<div class="mui-container-fluid button-borders show">
<div class="pre-btn">
<a href="/apache_derby/apache_derby_triggers.htm"><i class="fal fa-chevron-circle-left"></i> Previous Page</a>
</div>
<div class="nxt-btn">
<a href="/apache_derby/apache_derby_useful_resources.htm">Next Page <i class="fal fa-chevron-circle-right"></i>&nbsp;</a>
</div>
</div>
<div class="google-bottom-ads">
<div>Advertisements</div>
<script><!--
var width = 580;
var height = 400;
var format = "580x400_as";
if( window.innerWidth < 468 ){
   width = 300;
   height = 250;
   format = "300x250_as";
}
google_ad_client = "pub-7133395778201029";
google_ad_width = width;
google_ad_height = height;
google_ad_format = format;
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
<div class="space-bottom"></div>
</div>
</div>
<!-- Tutorial Content Ends Here -->
<!-- Right Column Starts Here -->
<div class="mui-col-md-2 google-right-ads">
<div class="space-top"></div>
<div class="google-right-ad" style="margin: 0px auto !important;margin-top:5px;">
<script><!--
google_ad_client = "pub-2537027957187252";
google_ad_width = 300;
google_ad_height = 250;
google_ad_format = "300x250_as";
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>
<div class="google-right-ad">
<div class="adsbyvli" data-ad-slot="vi_9012177"></div>
<script>(vitag.Init = window.vitag.Init || []).push(function(){viAPItag.display("vi_9012177")})</script>
</div>
<div class="space-bottom"></div>
<div class="google-right-ad">
<div class="adsbyvli" data-ad-slot="vi_9013289"></div>
<script>(vitag.Init = window.vitag.Init || []).push(function(){viAPItag.display("vi_9013289")})</script>
</div>
<div class="space-bottom" style="margin-bottom:15px;"></div>
</div>
<!-- Right Column Ends Here -->
</div>
</div>
<div class="clear"></div>
<footer id="footer">
<div class="mui--text-center">
<div class="mui--text-caption mui--text-light">
<a href="/index.htm" class="logo"><img class="img-responsive" src="/images/logo-black.png" alt="Tutorials Point" title="Tutorials Point"></a>
</div>
<ul class="mui-list--inline mui--text-body2 mui--text-light">
<li><a href="/about/index.htm"><i class="fal fa-globe"></i> About us</a></li>
<li><a href="/about/about_terms_of_use.htm"><i class="fal fa-asterisk"></i> Terms of use</a></li>
<li><a href="/about/about_privacy.htm#cookies"> <i class="fal fa-shield-check"></i> Cookies Policy</a></li>
<li><a href="/about/faq.htm"><i class="fal fa-question-circle"></i> FAQ's</a></li>
<li><a href="/about/about_helping.htm"><i class="fal fa-hands-helping"></i> Helping</a></li>
<li><a href="/about/contact_us.htm"><i class="fal fa-map-marker-alt"></i> Contact</a></li>
</ul>
<div class="mui--text-caption mui--text-light bottom-copyright-text">&copy; Copyright 2019. All Rights Reserved.</div>
</div>
<div id="privacy-banner">
  <div>
    <p>
      We use cookies to provide and improve our services. By using our site, you consent to our Cookies Policy.
      <a id="banner-accept" href="#">Accept</a>
      <a id="banner-learn" href="/about/about_cookies.htm" target="_blank">Learn more</a>
    </p>
  </div>
</div>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-232293-17"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-232293-6');
</script>
</footer>
</body>
</html>
