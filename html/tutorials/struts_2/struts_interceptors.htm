<!DOCTYPE html>
<html lang="en-US">
<head>
<title>Struts 2 - Interceptors</title>
<meta charset="utf-8">
<meta name="description" content="Struts 2 - Interceptors - Interceptors are conceptually the same as servlet filters or the JDKs Proxy class. Interceptors allow for crosscutting functionality to be implemented separatel"/>
<meta name="keywords" content="C, C++, Python, Java, HTML, CSS, JavaScript, SQL, PHP, jQuery, XML, DOM, Bootstrap, Tutorials, Articles, Programming, training, learning, quiz, preferences, examples, code"/>
<link rel="canonical" href="https://www.tutorialspoint.com/struts_2/struts_interceptors.htm" />
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=yes">
<script src="/theme/js/script-min-v2.js?v=3"></script>
<link rel="stylesheet" href="/theme/css/style-min-v2.css?v=6">
<script src="//services.bilsyndication.com/adv1/?d=901" defer="" async=""></script>
<script> var vitag = vitag || {};</script>
<script> vitag.outStreamConfig = { enablePC: false, enableMobile: false };</script>  
<style>
.right-menu .mui-btn {
    background-color:#0c2444;
}
a.demo {
    background:#0c2444;
}
li.heading {
    background:#0c2444;
}
.course-box{background:#0c2444}
.home-intro-sub p{color:#0c2444}
</style>
</head>
<body>
<header id="header">
<!-- Top sub-menu Starts Here -->
<div class="mui-appbar mui-container-fulid top-menu">
<div class="mui-container">
<div class="top-menu-item home">
<a href="https://www.tutorialspoint.com/index.htm" target="_blank" title="TutorialsPoint - Home"><i class="fal fa-home"></i> <span>Home</span></a>
</div>
<div class="top-menu-item qa">
<a href="https://www.tutorialspoint.com/about/about_careers.htm" target="_blank" title="Job @ Tutorials Point"><i class="fa fa-suitcase"></i> <span>Jobs</span></a>
</div>
<div class="top-menu-item tools">
<a href="https://www.tutorialspoint.com/online_dev_tools.htm" target="_blank" title="Tools - Online Development and Testing Tools"><i class="fal fa-cogs"></i> <span>Tools</span></a>
</div>
<div class="top-menu-item coding-ground">
<a href="https://www.tutorialspoint.com/codingground.htm" target="_blank" title="Coding Ground - Free Online IDE and Terminal"><i class="fal fa-code"></i> <span>Coding Ground </span></a> 
</div>
<div class="top-menu-item current-affairs">
<a href="https://www.tutorialspoint.com/current_affairs.htm" target="_blank" title="Daily Current Affairs"><i class="fal fa-layer-plus"></i> <span>Current Affairs</span></a>
</div>
<div class="top-menu-item upsc-notes">
<a href="https://www.tutorialspoint.com/upsc_ias_exams.htm" target="_blank" title="UPSC IAS Exams Notes - TutorialsPoint"><i class="fal fa-user-tie"></i> <span>UPSC Notes</span></a>
</div>      
<div class="top-menu-item online-tutoris">
<a href="https://www.tutorialspoint.com/tutor_connect/index.php" target="_blank" title="Top Online Tutors - Tutor Connect"><i class="fal fa-user"></i> <span>Online Tutors</span></a>
</div>
<div class="top-menu-item whiteboard">
<a href="https://www.tutorialspoint.com/whiteboard.htm" target="_blank" title="Free Online Whiteboard"><i class="fal fa-chalkboard"></i> <span>Whiteboard</span></a>
</div>
<div class="top-menu-item net-meeting">
<a href="https://www.tutorialspoint.com/netmeeting.php" target="_blank" title="A free tool for online video conferencing"><i class="fal fa-chalkboard-teacher"></i> <span>Net Meeting</span></a> 
</div>
<div class="top-menu-item articles">
<a href="https://www.tutorix.com" target="_blank" title="Tutorx - The Best Learning App" rel="nofollow"><i class="fal fa-video"></i> <span>Tutorix</span></a> 
</div>        
<div class="social-menu-item">
<a href="https://www.facebook.com/tutorialspointindia" target="_blank" rel="nofollow" data-placement="bottom" title="tutorialspoint @ Facebook"><i class="fab fa-facebook-f"></i></a> 
<a href="https://www.twitter.com/tutorialspoint" target="_blank" rel="nofollow" data-placement="bottom" title="tutorialspoint @ Twitter"><i class="fab fa-twitter"></i></a>
<a href="https://www.linkedin.com/company/tutorialspoint" target="_blank" rel="nofollow" data-placement="bottom" title="tutorialspoint @ Linkedin"><i class="fab fa-linkedin-in"></i></a>
<a href="https://www.youtube.com/channel/UCVLbzhxVTiTLiVKeGV7WEBg" target="_blank" rel="nofollow" data-placement="bottom" title="tutorialspoint YouTube"><i class="fab fa-youtube"></i></a>
</div>        
</div>
</div>
<!-- Top sub-menu Ends Here -->
<!-- Top main-menu Starts Here -->
<div class="mui-appbar mui-container-fulid mui--appbar-line-height mui--z1" id="logo-menu">
<div class="mui-container">
<div class="left-menu">
<a href="https://www.tutorialspoint.com/index.htm" title="Tutorialspoint">
<img class="tp-logo" alt="tutorialspoint" src="/struts_2/images/logo.png">
</a>
<div class="mui-dropdown">
<a class="mui-btn mui-btn--primary categories" data-mui-toggle="dropdown"><i class="fa fa-th-large"></i> 
<span>Categories <span class="mui-caret"></span></span></a>            
<ul class="mui-dropdown__menu cat-menu">
<li>
<ul>
<li><a href="/academic_tutorials.htm"><i class="fa fa-caret-right"></i> Academic Tutorials</a></li>
<li><a href="/big_data_tutorials.htm"><i class="fa fa-caret-right"></i> Big Data &amp; Analytics </a></li>
<li><a href="/computer_programming_tutorials.htm"><i class="fa fa-caret-right"></i> Computer Programming </a></li>
<li><a href="/computer_science_tutorials.htm"><i class="fa fa-caret-right"></i> Computer Science </a></li>
<li><a href="/database_tutorials.htm"><i class="fa fa-caret-right"></i> Databases </a></li>
<li><a href="/devops_tutorials.htm"><i class="fa fa-caret-right"></i> DevOps </a></li>
<li><a href="/digital_marketing_tutorials.htm"><i class="fa fa-caret-right"></i> Digital Marketing </a></li>
<li><a href="/engineering_tutorials.htm"><i class="fa fa-caret-right"></i> Engineering Tutorials </a></li>
<li><a href="/upsc_ias_exams.htm"><i class="fa fa-caret-right"></i> Exams Syllabus </a></li>
<li><a href="/famous_monuments.htm"><i class="fa fa-caret-right"></i> Famous Monuments </a></li>
<li><a href="/gate_exams_tutorials.htm"><i class="fa fa-caret-right"></i> GATE Exams Tutorials</a></li>
<li><a href="/latest_technologies.htm"><i class="fa fa-caret-right"></i> Latest Technologies </a></li>
<li><a href="/machine_learning_tutorials.htm"><i class="fa fa-caret-right"></i> Machine Learning </a></li>
<li><a href="/mainframe_tutorials.htm"><i class="fa fa-caret-right"></i> Mainframe Development </a></li>
<li><a href="/management_tutorials.htm"><i class="fa fa-caret-right"></i> Management Tutorials </a></li>
<li><a href="/maths_tutorials.htm"><i class="fa fa-caret-right"></i> Mathematics Tutorials</a></li>
<li><a href="/microsoft_technologies_tutorials.htm"><i class="fa fa-caret-right"></i> Microsoft Technologies </a></li>
<li><a href="/misc_tutorials.htm"><i class="fa fa-caret-right"></i> Misc tutorials </a></li>
<li><a href="/mobile_development_tutorials.htm"><i class="fa fa-caret-right"></i> Mobile Development </a></li>
<li><a href="/java_technology_tutorials.htm"><i class="fa fa-caret-right"></i> Java Technologies </a></li>
<li><a href="/python_technologies_tutorials.htm"><i class="fa fa-caret-right"></i> Python Technologies </a></li>
<li><a href="/sap_tutorials.htm"><i class="fa fa-caret-right"></i> SAP Tutorials </a></li>
<li><a href="/scripting_lnaguage_tutorials.htm"><i class="fa fa-caret-right"></i>Programming Scripts </a></li>
<li><a href="/selected_reading.htm"><i class="fa fa-caret-right"></i> Selected Reading </a></li>
<li><a href="/software_quality_tutorials.htm"><i class="fa fa-caret-right"></i> Software Quality </a></li>
<li><a href="/soft_skill_tutorials.htm"><i class="fa fa-caret-right"></i> Soft Skills </a></li>
<li><a href="/telecom_tutorials.htm"><i class="fa fa-caret-right"></i> Telecom Tutorials </a></li>
<li><a href="/upsc_ias_exams.htm"><i class="fa fa-caret-right"></i> UPSC IAS Exams </a></li>
<li><a href="/web_development_tutorials.htm"><i class="fa fa-caret-right"></i> Web Development </a></li>
<li><a href="/sports_tutorials.htm"><i class="fa fa-caret-right"></i> Sports Tutorials </a></li>
<li><a href="/xml_technologies_tutorials.htm"><i class="fa fa-caret-right"></i> XML Technologies </a></li>
<li><a href="/multi_language_tutorials.htm"><i class="fa fa-caret-right"></i> Multi-Language Tutorials</a></li>
<li><a href="/questions_and_answers.htm"><i class="fa fa-caret-right"></i> Interview Questions</a></li>
</ul>
</li>
</ul>
<div class="clear"></div>
</div> 
</div>
<div class="right-menu">
<div class="toc-toggle">
<a href="javascript:void(0);"><i class="fa fa-bars"></i></a>
</div>
<div class="mobile-search-btn">
<a href="https://www.tutorialspoint.com/search.htm"><i class="fal fa-search"></i></a>
</div>
<div class="search-box">
<form method="get" class="" name="searchform" action="https://www.google.com/search" target="_blank" novalidate="">
<input type="hidden" name="sitesearch" value="www.tutorialspoint.com" class="user-valid valid">
<input class="header-search-box" type="text" id="search-string" name="q" placeholder="Search your favorite tutorials..." onfocus="if (this.value == 'Search your favorite tutorials...') {this.value = '';}" onblur="if (this.value == '') {this.value = 'Search your favorite tutorials...';}" autocomplete="off">
<button><i class="fal fa-search"></i></button>
</form>
</div>
<div class="menu-btn library-btn">
<a href="https://www.tutorialspoint.com/tutorialslibrary.htm"><i class="fal fa-cubes"></i> <span>Library</span></a>
</div>
<div class="menu-btn videos-btn">
<a href="https://www.tutorialspoint.com/videotutorials/index.htm"><i class="fal fa-video"></i> <span>Videos</span></a> 
</div>
<div class="menu-btn videos-btn">
<a href="https://www.tutorialspoint.com/questions/index.php"><i class="fa fa-location-arrow"></i> <span>Q/A</span></a>
</div>
<div class="menu-btn ebooks-btn">
<a href="https://store.tutorialspoint.com"><i class="fal fa-book"></i> <span>eBooks</span></a>
</div>
<div class="mui-dropdown">
<button class="mui-btn mui-btn--primary" data-mui-toggle="dropdown">
<span class="mui-caret"></span>
</button>
<ul class="mui-dropdown__menu">
<li><a href="https://www.tutorialspoint.com/tutorialslibrary.htm"><i class="fal fa-cubes"></i> <span>Library</span></a></li>
<li><a href="https://www.tutorialspoint.com/videotutorials/index.htm"><i class="fal fa-video"></i> <span>Videos</span></a></li>
<li><a href="https://store.tutorialspoint.com"><i class="fal fa-book"></i> <span>eBooks</span></a></li>
</ul>
</div>
</div>
</div>
</div>
<!-- Top main-menu Ends Here -->
</header>
<div class="mui-container-fluid content">
<div class="mui-container">
<!-- Tutorial ToC Starts Here -->
<div class="mui-col-md-3 tutorial-toc">
<div class="mini-logo">
<img src="/struts_2/images/struts-mini-logo.jpg" alt="Struts2 Tutorial" />
</div>
<ul class="toc chapters">
<li class="heading">Struts 2 Tutorial</li>
<li><a href="/struts_2/index.htm">Struts2 - Home</a></li>
<li><a href="/struts_2/basic_mvc_architecture.htm">Struts2 - Basic MVC Architecture</a></li>
<li><a href="/struts_2/struts_overview.htm">Struts2 - Overview</a></li>
<li><a href="/struts_2/struts_environment_setup.htm">Struts2 - Environment Setup</a></li>
<li><a href="/struts_2/struts_architecture.htm">Struts2 - Architecture</a></li>
<li><a href="/struts_2/struts_examples.htm">Struts2 - Examples</a></li>
<li><a href="/struts_2/struts_configuration.htm">Struts2 - Configuration</a></li>
<li><a href="/struts_2/struts_actions.htm">Struts2 - Actions</a></li>
<li><a href="/struts_2/struts_interceptors.htm">Struts2 - Interceptors</a></li>
<li><a href="/struts_2/struts_result_types.htm">Struts2 - Result Types</a></li>
<li><a href="/struts_2/struts_value_stack_ognl.htm">Struts2 - Value Stack/OGNL</a></li>
<li><a href="/struts_2/struts_file_uploads.htm">Struts2 - File Uploads</a></li>
<li><a href="/struts_2/struts_database_access.htm">Struts2 - Database Access</a></li>
<li><a href="/struts_2/struts_sending_email.htm">Struts2 - Sending Email</a></li>
<li><a href="/struts_2/struts_validations.htm">Struts2 - Validations</a></li>
<li><a href="/struts_2/struts_localization.htm">Struts2 - Localization</a></li>
<li><a href="/struts_2/struts_type_conversion.htm">Struts2 - Type Conversion</a></li>
<li><a href="/struts_2/struts_themes_templates.htm">Struts2 - Themes/Templates</a></li>
<li><a href="/struts_2/struts_exception_handling.htm">Struts2 - Exception Handling</a></li>
<li><a href="/struts_2/struts_annotations.htm">Struts2 - Annotations</a></li>
</ul>
<ul class="toc chapters">
<li class="heading">Struts 2 Tags</li>
<li><a href="/struts_2/struts_control_tags.htm">Struts2 - Control Tags</a></li>
<li><a href="/struts_2/struts_data_tags.htm">Struts2 - Data Tags</a></li>
<li><a href="/struts_2/struts_form_tags.htm">Struts2 - Form Tags</a></li>
<li><a href="/struts_2/struts_ajax_tags.htm">Struts2 - Ajax Tags</a></li>
</ul>
<ul class="toc chapters">
<li class="heading">Struts 2 Integrations</li>
<li><a href="/struts_2/struts_spring.htm">Struts2 - Spring</a></li>
<li><a href="/struts_2/struts_tiles.htm">Struts2 - Tiles</a></li>
<li><a href="/struts_2/struts_hibernate.htm">Struts2 - Hibernate</a></li>
</ul>
<ul class="toc chapters">
<li class="heading">Struts 2 Useful Resources</li>
<li><a href="/struts_2/struts_questions_answers.htm">Struts2 - Questions and Answers</a></li>
<li><a href="/struts_2/struts_quick_guide.htm">Struts2 - Quick Guide</a></li>
<li><a href="/struts_2/struts_useful_resources.htm">Struts2 - Useful Resources</a></li>
<li><a href="/struts_2/struts_discussion.htm">Struts2 - Discussion</a></li>
</ul>
<ul class="toc reading">
<li class="sreading">Selected Reading</li>
<li><a target="_top" href="/upsc_ias_exams.htm">UPSC IAS Exams Notes</a></li>
<li><a target="_top" href="/developers_best_practices/index.htm">Developer's Best Practices</a></li>
<li><a target="_top" href="/questions_and_answers.htm">Questions and Answers</a></li>
<li><a target="_top" href="/effective_resume_writing.htm">Effective Resume Writing</a></li>
<li><a target="_top" href="/hr_interview_questions/index.htm">HR Interview Questions</a></li>
<li><a target="_top" href="/computer_glossary.htm">Computer Glossary</a></li>
<li><a target="_top" href="/computer_whoiswho.htm">Who is Who</a></li>
</ul>
</div>
<!-- Tutorial ToC Ends Here -->
<!-- Tutorial Content Starts Here -->
<div class="mui-col-md-6 tutorial-content">
<h1>Struts 2 - Interceptors</h1>
<hr />
<div class="top-ad-heading">Advertisements</div>
<div style="text-align: center;">
<script><!--
google_ad_client = "pub-7133395778201029";
var width = document.getElementsByClassName("tutorial-content")[0].clientWidth - 40;
google_ad_width = width;
google_ad_height = 150;
google_ad_format = width + "x150_as";
google_ad_type = "image";
google_ad_channel = "";
//--></script>
<script src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>
<div class="mui-container-fluid button-borders">
<div class="pre-btn">
<a href="/struts_2/struts_actions.htm"><i class="fal fa-chevron-circle-left"></i> Previous Page</a>
</div>
<div class="nxt-btn">
<a href="/struts_2/struts_result_types.htm">Next Page <i class="fal fa-chevron-circle-right"></i>&nbsp;</a>
</div>
</div>
<div class="clearer"></div>
<p>Interceptors are conceptually the same as servlet filters or the JDKs Proxy class. Interceptors allow for crosscutting functionality to be implemented separately from the action as well as the framework. You can achieve the following using interceptors &minus;</p>
<ul class="list">
<li><p>Providing preprocessing logic before the action is called.</p></li>
<li><p>Providing postprocessing logic after the action is called.</p></li>
<li><p>Catching exceptions so that alternate processing can be performed.</p></li>
</ul>
<p>Many of the features provided in the <b>Struts2</b> framework are implemented using interceptors;</p>
<p><b>Examples</b> include exception handling, file uploading, lifecycle callbacks, etc. In fact, as Struts2 emphasizes much of its functionality on interceptors, it is not likely to have 7 or 8 interceptors assigned per action.</p>
<h2>Struts2 Framework Interceptors</h2>
<p>Struts 2 framework provides a good list of out-of-the-box interceptors that come preconfigured and ready to use. Few of the important interceptors are listed below &minus;</p>
<table class="table table-bordered"> 
<tr>
<th style="width:10%">Sr.No</th>
<th style="text-align:center;">Interceptor &amp; Description</th>
</tr>
<tr>
<td class="ts">1</td>
<td><p><b>alias</b></p>
<p>Allows parameters to have different name aliases across requests.</p>
</td>
</tr> 
<tr>
<td class="ts">2</td>
<td><p><b>checkbox</b></p>
<p>Assists in managing check boxes by adding a parameter value of false for check boxes that are not checked.</p>
</td>
</tr> 
<tr>
<td class="ts">3</td>
<td><p><b>conversionError</b></p>
<p>Places error information from converting strings to parameter types into the action's field errors.</p>
</td>
</tr> 
<tr>
<td class="ts">4</td>
<td><p><b>createSession</b></p>
<p>Automatically creates an HTTP session if one does not already exist.</p>
</td>
</tr> 
<tr>
<td class="ts">5</td>
<td><p><b>debugging</b></p>
<p>Provides several different debugging screens to the developer.</p>
</td>
</tr> 
<tr>
<td class="ts">6</td>
<td><p><b>execAndWait</b></p>
<p>Sends the user to an intermediary waiting page while the action executes in the background.</p>
</td>
</tr> 
<tr>
<td class="ts">7</td>
<td><p><b>exception</b></p>
<p>Maps exceptions that are thrown from an action to a result, allowing automatic exception handling via redirection.</p>
</td>
</tr> 
<tr>
<td class="ts">8</td>
<td><p><b>fileUpload</b></p>
<p>Facilitates easy file uploading.</p>
</td>
</tr> 
<tr>
<td class="ts">9</td>
<td><p><b>i18n</b></p>
<p>Keeps track of the selected locale during a user's session.</p>
</td>
</tr> 
<tr>
<td class="ts">10</td>
<td><p><b>logger</b></p>
<p>Provides simple logging by outputting the name of the action being executed.</p>
</td>
</tr> 
<tr>
<td class="ts">11</td>
<td><p><b>params</b></p>
<p>Sets the request parameters on the action.</p>
</td>
</tr> 
<tr>
<td class="ts">12</td>
<td><p><b>prepare</b></p>
<p>This is typically used to do pre-processing work, such as setup database connections.</p>
</td>
</tr> 
<tr>
<td class="ts">13</td>
<td><p><b>profile</b></p>
<p>Allows simple profiling information to be logged for actions.</p>
</td>
</tr> 
<tr>
<td class="ts">14</td>
<td><p><b>scope</b></p>
<p>Stores and retrieves the action's state in the session or application scope.</p>
</td>
</tr> 
<tr>
<td class="ts">15</td>
<td><p><b>ServletConfig</b></p>
<p>Provides the action with access to various servlet-based information.</p>
</td>
</tr> 
<tr>
<td class="ts">16</td>
<td><p><b>timer</b></p>
<p>Provides simple profiling information in the form of how long the action takes to execute.</p>
</td>
</tr> 
<tr>
<td class="ts">17</td>
<td><p><b>token</b></p>
<p>Checks the action for a valid token to prevent duplicate formsubmission.</p>
</td>
</tr> 
<tr>
<td class="ts">18</td>
<td><p><b>validation</b></p>
<p>Provides validation support for actions</p>
</td>
</tr> 
</table>
<p>Please look into Struts 2 documentation for complete detail on the abovementioned interceptors. But I will show you how to use an interceptor in general in your Struts application.</p>
<h2>How to Use Interceptors?</h2> 
<p>Let us see how to use an already existing interceptor to our "Hello World" program. We will use the <b>timer</b> interceptor whose purpose is to measure how long it took to execute an action method. At the same time, I'm using <b>params</b> interceptor whose purpose is to send the request parameters to the action. You can try your example without using this interceptor and you will find that <b>name</b> property is not being set because parameter is not able to reach to the action.</p>
<p>We will keep HelloWorldAction.java, web.xml, HelloWorld.jsp and index.jsp files as they have been created in <b>Examples</b> chapter but let us modify the <b>struts.xml</b> file to add an interceptor as follows &minus;</p>
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" Encoding = "UTF-8"?&gt;
&lt;!DOCTYPE struts PUBLIC
   "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
   "http://struts.apache.org/dtds/struts-2.0.dtd"&gt;
&lt;struts&gt;
   &lt;constant name = "struts.devMode" value = "true" /&gt;
   
   &lt;package name = "helloworld" extends = "struts-default"&gt;
      &lt;action name = "hello" 
         class = "com.tutorialspoint.struts2.HelloWorldAction"
         method = "execute"&gt;
         &lt;interceptor-ref name = "params"/&gt;
         &lt;interceptor-ref name = "timer" /&gt;
         &lt;result name = "success"&gt;/HelloWorld.jsp&lt;/result&gt;
      &lt;/action&gt;
   &lt;/package&gt;
&lt;/struts&gt;
</pre>
<p>Right click on the project name and click <b>Export &gt; WAR File</b> to create a War file. Then deploy this WAR in the Tomcat's webapps directory. Finally, start Tomcat server and try to access URL <b>http://localhost:8080/HelloWorldStruts2/index.jsp</b>. This will produce the following screen &minus;</p>
<img src="/struts_2/images/helloworldstruts4.jpg" alt="Hello World Struts 4" />
<p>Now enter any word in the given text box and click Say Hello button to execute the defined action. Now if you will check the log generated, you will find the following text &minus;</p>
<pre class="prettyprint notranslate">
INFO: Server startup in 3539 ms
27/08/2011 8:40:53 PM 
com.opensymphony.xwork2.util.logging.commons.CommonsLogger info
INFO: Executed action [//hello!execute] took 109 ms.
</pre>
<p>Here bottom line is being generated because of <b>timer</b> interceptor which is telling that action took total 109ms to be executed.</p>
<h2>Create Custom Interceptors</h2>
<p>Using custom interceptors in your application is an elegant way to provide crosscutting application features. Creating a custom interceptor is easy; the interface that needs to be extended is the following <b>Interceptor</b> interface &minus;</p>
<pre class="prettyprint notranslate">
public interface Interceptor extends Serializable {
   void destroy();
   void init();
   String intercept(ActionInvocation invocation)
   throws Exception;
}
</pre>
<p>As the names suggest, the init() method provides a way to initialize the interceptor, and the destroy() method provides a facility for interceptor cleanup. Unlike actions, interceptors are reused across requests and need to be threadsafe, especially the intercept() method.</p>
<p>The <b>ActionInvocation</b> object provides access to the runtime environment. It allows access to the action itself and methods to invoke the action and determine whether the action has already been invoked.</p>
<p>If you have no need for initialization or cleanup code, the <b>AbstractInterceptor</b> class can be extended. This provides a default nooperation implementation of the init() and destroy() methods.</p>
<h2>Create Interceptor Class</h2>
<p>Let us create the following MyInterceptor.java in <b>Java Resources &gt; src</b> folder &minus;</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.struts2;

import java.util.*;
import com.opensymphony.xwork2.ActionInvocation;
import com.opensymphony.xwork2.interceptor.AbstractInterceptor;

public class MyInterceptor extends AbstractInterceptor {

   public String intercept(ActionInvocation invocation)throws Exception {

      /* let us do some pre-processing */
      String output = "Pre-Processing"; 
      System.out.println(output);

      /* let us call action or next interceptor */
      String result = invocation.invoke();

      /* let us do some post-processing */
      output = "Post-Processing"; 
      System.out.println(output);

      return result;
   }
}
</pre>
<p>As you notice, actual action will be executed using the interceptor by <b>invocation.invoke()</b>call. So you can do some pre-processing and some postprocessing based on your requirement.</p>
<p>The framework itself starts the process by making the first call to the ActionInvocation object's invoke(). Each time <b>invoke()</b> is called, ActionInvocation consults its state and executes whichever interceptor comes next. When all of the configured interceptors have been invoked, the invoke() method will cause the action itself to be executed.</p>
<p>The following diagram shows the same concept through a request flow &minus;</p>
<img src="/struts_2/images/actioninvocation.jpg" alt="ActionInvocation" />
<h2>Create Action Class</h2>
<p>Let us create a java file HelloWorldAction.java under <b>Java Resources &gt; src</b> with a package name <b>com.tutorialspoint.struts2</b> with the contents given below.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint.struts2;

import com.opensymphony.xwork2.ActionSupport;

public class HelloWorldAction extends ActionSupport {
   private String name;

   public String execute() throws Exception {
      System.out.println("Inside action....");
      return "success";
   }  

   public String getName() {
      return name;
   }

   public void setName(String name) {
      this.name = name;
   }
}
</pre>
<p>This is a same class which we have seen in previous examples. We have standard getters and setter methods for the "name" property and an execute method that returns the string "success".</p>
<h2>Create a View</h2>
<p>Let us create the below jsp file <b>HelloWorld.jsp</b> in the WebContent folder in your eclipse project.</p>
<pre class="prettyprint notranslate">
&lt;%@ page contentType = "text/html; charset = UTF-8" %&gt;
&lt;%@ taglib prefix = "s" uri = "/struts-tags" %&gt;

&lt;html&gt;
   &lt;head&gt;
      &lt;title&gt;Hello World&lt;/title&gt;
   &lt;/head&gt;
   
   &lt;body&gt;
      Hello World, &lt;s:property value = "name"/&gt;
   &lt;/body&gt;
&lt;/html&gt;
</pre>
<h2>Create Main Page</h2>
<p>We also need to create <b>index.jsp</b> in the WebContent folder. This file will serve as the initial action URL where a user can click to tell the Struts 2 framework to call the a defined method of the HelloWorldAction class and render the HelloWorld.jsp view.</p>
<pre class="prettyprint notranslate">
&lt;%@ page language = "java" contentType = "text/html; charset = ISO-8859-1"
   pageEncoding = "ISO-8859-1"%&gt;
&lt;%@ taglib prefix = "s" uri = "/struts-tags"%&gt;
   &lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" 
   "http://www.w3.org/TR/html4/loose.dtd"&gt;

&lt;html&gt;
   &lt;head&gt;
      &lt;title&gt;Hello World&lt;/title&gt;
   &lt;/head&gt;
   
   &lt;body&gt;
      &lt;h1&gt;Hello World From Struts2&lt;/h1&gt;
      &lt;form action = "hello"&gt;
         &lt;label for = "name"&gt;Please enter your name&lt;/label&gt;&lt;br/&gt;
         &lt;input type = "text" name = "name"/&gt;
         &lt;input type = "submit" value = "Say Hello"/&gt;
      &lt;/form&gt;
   &lt;/body&gt;
&lt;/html&gt;
</pre>
<p>The <b>hello</b> action defined in the above view file will be mapped to the HelloWorldAction class and its execute method using struts.xml file.</p>
<h2>Configuration Files</h2>
<p>Now, we need to register our interceptor and then call it as we had called default interceptor in previous example. To register a newly defined interceptor, the &lt;interceptors&gt;...&lt;/interceptors&gt; tags are placed directly under the &lt;package&gt; tag ins<b>struts.xml</b> file. You can skip this step for a default interceptors as we did in our previous example. But here let us register and use it as follows &minus;</p>
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" Encoding = "UTF-8"?&gt;
&lt;!DOCTYPE struts PUBLIC
   "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
   "http://struts.apache.org/dtds/struts-2.0.dtd"&gt;

&lt;struts&gt;
   &lt;constant name = "struts.devMode" value = "true" /&gt;
   &lt;package name = "helloworld" extends = "struts-default"&gt;

      &lt;interceptors&gt;
         &lt;interceptor name = "myinterceptor"
            class = "com.tutorialspoint.struts2.MyInterceptor" /&gt;
      &lt;/interceptors&gt;

      &lt;action name = "hello" 
         class = "com.tutorialspoint.struts2.HelloWorldAction" 
         method = "execute"&gt;
         &lt;interceptor-ref name = "params"/&gt;
         &lt;interceptor-ref name = "myinterceptor" /&gt;
         &lt;result name = "success"&gt;/HelloWorld.jsp&lt;/result&gt;
      &lt;/action&gt;

   &lt;/package&gt;
&lt;/struts&gt;
</pre>
<p>It should be noted that you can register more than one interceptors inside <b>&lt;package&gt;</b> tag and same time you can call more than one interceptors inside the <b>&lt;action&gt;</b> tag. You can call same interceptor with the different actions.</p>
<p>The web.xml file needs to be created under the WEB-INF folder under WebContent as follows &minus;</p>
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" Encoding = "UTF-8"?&gt;
&lt;web-app xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
   xmlns = "http://java.sun.com/xml/ns/javaee" 
   xmlns:web = "http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"
   xsi:schemaLocation = "http://java.sun.com/xml/ns/javaee 
   http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd"
   id = "WebApp_ID" version = "3.0"&gt;
   
   &lt;display-name&gt;Struts 2&lt;/display-name&gt;
   
   &lt;welcome-file-list&gt;
      &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;
   &lt;/welcome-file-list&gt;
   
   &lt;filter&gt;
      &lt;filter-name&gt;struts2&lt;/filter-name&gt;
      &lt;filter-class&gt;
         org.apache.struts2.dispatcher.FilterDispatcher
      &lt;/filter-class&gt;
   &lt;/filter&gt;

   &lt;filter-mapping&gt;
      &lt;filter-name&gt;struts2&lt;/filter-name&gt;
      &lt;url-pattern&gt;/*&lt;/url-pattern&gt;
   &lt;/filter-mapping&gt;
&lt;/web-app&gt;
</pre>
<p>Right click on the project name and click <b>Export &gt; WAR File</b> to create a War file. Then deploy this WAR in the Tomcat's webapps directory. Finally, start Tomcat server and try to access URL <b>http://localhost:8080/HelloWorldStruts2/index.jsp</b>. This will produce the following screen &minus;</p>
<img src="/struts_2/images/helloworldstruts4.jpg" alt="Hello World Struts 4" />
<p>Now enter any word in the given text box and click Say Hello button to execute the defined action. Now if you will check the log generated, you will find the following text at the bottom &minus;</p>
<pre class="prettyprint notranslate">
Pre-Processing
Inside action....
Post-Processing
</pre>
<h2>Stacking Multiple Interceptors</h2>
<p>As you can imagine, having to configure multiple interceptor for each action would quickly become extremely unmanageable. For this reason, interceptors are managed with interceptor stacks. Here is an example, directly from the strutsdefault.xml file &minus;</p>
<pre class="prettyprint notranslate">
&lt;interceptor-stack name = "basicStack"&gt;
   &lt;interceptor-ref name = "exception"/&gt;
   &lt;interceptor-ref name = "servlet-config"/&gt;
   &lt;interceptor-ref name = "prepare"/&gt;
   &lt;interceptor-ref name = "checkbox"/&gt;
   &lt;interceptor-ref name = "params"/&gt;
   &lt;interceptor-ref name = "conversionError"/&gt;
&lt;/interceptor-stack&gt;
</pre>
<p>The above stake is called <b>basicStack</b> and can be used in your configuration as shown below. This configuration node is placed under the &lt;package .../&gt; node. Each &lt;interceptor-ref .../&gt; tag references either an interceptor or an interceptor stack that has been configured before the current interceptor stack. It is therefore very important to ensure that the name is unique across all interceptor and interceptor stack configurations when configuring the initial interceptors and interceptor stacks.</p>
<p>We have already seen how to apply interceptor to the action, applying interceptor stacks is no different. In fact, we use exactly the same tag &minus;</p>
<pre class="prettyprint notranslate">
&lt;action name = "hello" class = "com.tutorialspoint.struts2.MyAction"&gt;
   &lt;interceptor-ref name = "basicStack"/&gt;
   &lt;result&gt;view.jsp&lt;/result&gt;
&lt;/action
</pre>
<p>The above registration of "basicStack" will register complete stake of all the six interceptors with hello action. This should be noted that interceptors are executed in the order, in which they have been configured. For example, in the above case, exception will be executed first, second would be servlet-config and so on.</p>
<div class="mui-container-fluid button-borders show">
<div class="pre-btn">
<a href="/struts_2/struts_actions.htm"><i class="fal fa-chevron-circle-left"></i> Previous Page</a>
</div>
<div class="nxt-btn">
<a href="/struts_2/struts_result_types.htm">Next Page <i class="fal fa-chevron-circle-right"></i>&nbsp;</a>
</div>
</div>
<div class="google-bottom-ads">
<div>Advertisements</div>
<script><!--
var width = 580;
var height = 400;
var format = "580x400_as";
if( window.innerWidth < 468 ){
   width = 300;
   height = 250;
   format = "300x250_as";
}
google_ad_client = "pub-7133395778201029";
google_ad_width = width;
google_ad_height = height;
google_ad_format = format;
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
<div class="space-bottom"></div>
</div>
</div>
<!-- Tutorial Content Ends Here -->
<!-- Right Column Starts Here -->
<div class="mui-col-md-2 google-right-ads">
<div class="space-top"></div>
<div class="google-right-ad" style="margin: 0px auto !important;margin-top:5px;">
<script><!--
google_ad_client = "pub-2537027957187252";
google_ad_width = 300;
google_ad_height = 250;
google_ad_format = "300x250_as";
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>
<div class="google-right-ad">
<div class="adsbyvli" data-ad-slot="vi_9012177"></div>
<script>(vitag.Init = window.vitag.Init || []).push(function(){viAPItag.display("vi_9012177")})</script>
</div>
<div class="space-bottom"></div>
<div class="google-right-ad">
<div class="adsbyvli" data-ad-slot="vi_9013289"></div>
<script>(vitag.Init = window.vitag.Init || []).push(function(){viAPItag.display("vi_9013289")})</script>
</div>
<div class="space-bottom" style="margin-bottom:15px;"></div>
</div>
<!-- Right Column Ends Here -->
</div>
</div>
<div class="clear"></div>
<footer id="footer">
<div class="mui--text-center">
<div class="mui--text-caption mui--text-light">
<a href="/index.htm" class="logo"><img class="img-responsive" src="/images/logo-black.png" alt="Tutorials Point" title="Tutorials Point"></a>
</div>
<ul class="mui-list--inline mui--text-body2 mui--text-light">
<li><a href="/about/index.htm"><i class="fal fa-globe"></i> About us</a></li>
<li><a href="/about/about_terms_of_use.htm"><i class="fal fa-asterisk"></i> Terms of use</a></li>
<li><a href="/about/about_privacy.htm#cookies"> <i class="fal fa-shield-check"></i> Cookies Policy</a></li>
<li><a href="/about/faq.htm"><i class="fal fa-question-circle"></i> FAQ's</a></li>
<li><a href="/about/about_helping.htm"><i class="fal fa-hands-helping"></i> Helping</a></li>
<li><a href="/about/contact_us.htm"><i class="fal fa-map-marker-alt"></i> Contact</a></li>
</ul>
<div class="mui--text-caption mui--text-light bottom-copyright-text">&copy; Copyright 2019. All Rights Reserved.</div>
</div>
<div id="privacy-banner">
  <div>
    <p>
      We use cookies to provide and improve our services. By using our site, you consent to our Cookies Policy.
      <a id="banner-accept" href="#">Accept</a>
      <a id="banner-learn" href="/about/about_cookies.htm" target="_blank">Learn more</a>
    </p>
  </div>
</div>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-232293-17"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-232293-6');
</script>
</footer>
</body>
</html>
