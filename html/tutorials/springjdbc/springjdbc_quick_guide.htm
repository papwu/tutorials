<!DOCTYPE html>
<html lang="en-US">
<head>
<title>Spring JDBC - Quick Guide - Tutorialspoint</title>
<meta charset="utf-8">
<meta name="description" content="Spring JDBC - Quick Guide - While working with database using plain old JDBC, it becomes cumbersome to write unnecessary code to handle exceptions, opening and closing database connections"/>
<meta name="keywords" content="C, C++, Python, Java, HTML, CSS, JavaScript, SQL, PHP, jQuery, XML, DOM, Bootstrap, Tutorials, Articles, Programming, training, learning, quiz, preferences, examples, code"/>
<link rel="canonical" href="https://www.tutorialspoint.com/springjdbc/springjdbc_quick_guide.htm" />
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=yes">
<script src="/theme/js/script-min-v2.js?v=3"></script>
<link rel="stylesheet" href="/theme/css/style-min-v2.css?v=6">
<script src="//services.bilsyndication.com/adv1/?d=901" defer="" async=""></script>
<script> var vitag = vitag || {};</script>
<script> vitag.outStreamConfig = { enablePC: false, enableMobile: false };</script>  
<style>
.right-menu .mui-btn {
    background-color:#6EB33F;
}
a.demo {
    background:#6EB33F;
}
li.heading {
    background:#6EB33F;
}
.course-box{background:#6EB33F}
.home-intro-sub p{color:#6EB33F}
</style>
</head>
<body>
<header id="header">
<!-- Top sub-menu Starts Here -->
<div class="mui-appbar mui-container-fulid top-menu">
<div class="mui-container">
<div class="top-menu-item home">
<a href="https://www.tutorialspoint.com/index.htm" target="_blank" title="TutorialsPoint - Home"><i class="fal fa-home"></i> <span>Home</span></a>
</div>
<div class="top-menu-item qa">
<a href="https://www.tutorialspoint.com/about/about_careers.htm" target="_blank" title="Job @ Tutorials Point"><i class="fa fa-suitcase"></i> <span>Jobs</span></a>
</div>
<div class="top-menu-item tools">
<a href="https://www.tutorialspoint.com/online_dev_tools.htm" target="_blank" title="Tools - Online Development and Testing Tools"><i class="fal fa-cogs"></i> <span>Tools</span></a>
</div>
<div class="top-menu-item coding-ground">
<a href="https://www.tutorialspoint.com/codingground.htm" target="_blank" title="Coding Ground - Free Online IDE and Terminal"><i class="fal fa-code"></i> <span>Coding Ground </span></a> 
</div>
<div class="top-menu-item current-affairs">
<a href="https://www.tutorialspoint.com/current_affairs.htm" target="_blank" title="Daily Current Affairs"><i class="fal fa-layer-plus"></i> <span>Current Affairs</span></a>
</div>
<div class="top-menu-item upsc-notes">
<a href="https://www.tutorialspoint.com/upsc_ias_exams.htm" target="_blank" title="UPSC IAS Exams Notes - TutorialsPoint"><i class="fal fa-user-tie"></i> <span>UPSC Notes</span></a>
</div>      
<div class="top-menu-item online-tutoris">
<a href="https://www.tutorialspoint.com/tutor_connect/index.php" target="_blank" title="Top Online Tutors - Tutor Connect"><i class="fal fa-user"></i> <span>Online Tutors</span></a>
</div>
<div class="top-menu-item whiteboard">
<a href="https://www.tutorialspoint.com/whiteboard.htm" target="_blank" title="Free Online Whiteboard"><i class="fal fa-chalkboard"></i> <span>Whiteboard</span></a>
</div>
<div class="top-menu-item net-meeting">
<a href="https://www.tutorialspoint.com/netmeeting.php" target="_blank" title="A free tool for online video conferencing"><i class="fal fa-chalkboard-teacher"></i> <span>Net Meeting</span></a> 
</div>
<div class="top-menu-item articles">
<a href="https://www.tutorix.com" target="_blank" title="Tutorx - The Best Learning App" rel="nofollow"><i class="fal fa-video"></i> <span>Tutorix</span></a> 
</div>        
<div class="social-menu-item">
<a href="https://www.facebook.com/tutorialspointindia" target="_blank" rel="nofollow" data-placement="bottom" title="tutorialspoint @ Facebook"><i class="fab fa-facebook-f"></i></a> 
<a href="https://www.twitter.com/tutorialspoint" target="_blank" rel="nofollow" data-placement="bottom" title="tutorialspoint @ Twitter"><i class="fab fa-twitter"></i></a>
<a href="https://www.linkedin.com/company/tutorialspoint" target="_blank" rel="nofollow" data-placement="bottom" title="tutorialspoint @ Linkedin"><i class="fab fa-linkedin-in"></i></a>
<a href="https://www.youtube.com/channel/UCVLbzhxVTiTLiVKeGV7WEBg" target="_blank" rel="nofollow" data-placement="bottom" title="tutorialspoint YouTube"><i class="fab fa-youtube"></i></a>
</div>        
</div>
</div>
<!-- Top sub-menu Ends Here -->
<!-- Top main-menu Starts Here -->
<div class="mui-appbar mui-container-fulid mui--appbar-line-height mui--z1" id="logo-menu">
<div class="mui-container">
<div class="left-menu">
<a href="https://www.tutorialspoint.com/index.htm" title="Tutorialspoint">
<img class="tp-logo" alt="tutorialspoint" src="/springjdbc/images/logo.png">
</a>
<div class="mui-dropdown">
<a class="mui-btn mui-btn--primary categories" data-mui-toggle="dropdown"><i class="fa fa-th-large"></i> 
<span>Categories <span class="mui-caret"></span></span></a>            
<ul class="mui-dropdown__menu cat-menu">
<li>
<ul>
<li><a href="/academic_tutorials.htm"><i class="fa fa-caret-right"></i> Academic Tutorials</a></li>
<li><a href="/big_data_tutorials.htm"><i class="fa fa-caret-right"></i> Big Data &amp; Analytics </a></li>
<li><a href="/computer_programming_tutorials.htm"><i class="fa fa-caret-right"></i> Computer Programming </a></li>
<li><a href="/computer_science_tutorials.htm"><i class="fa fa-caret-right"></i> Computer Science </a></li>
<li><a href="/database_tutorials.htm"><i class="fa fa-caret-right"></i> Databases </a></li>
<li><a href="/devops_tutorials.htm"><i class="fa fa-caret-right"></i> DevOps </a></li>
<li><a href="/digital_marketing_tutorials.htm"><i class="fa fa-caret-right"></i> Digital Marketing </a></li>
<li><a href="/engineering_tutorials.htm"><i class="fa fa-caret-right"></i> Engineering Tutorials </a></li>
<li><a href="/upsc_ias_exams.htm"><i class="fa fa-caret-right"></i> Exams Syllabus </a></li>
<li><a href="/famous_monuments.htm"><i class="fa fa-caret-right"></i> Famous Monuments </a></li>
<li><a href="/gate_exams_tutorials.htm"><i class="fa fa-caret-right"></i> GATE Exams Tutorials</a></li>
<li><a href="/latest_technologies.htm"><i class="fa fa-caret-right"></i> Latest Technologies </a></li>
<li><a href="/machine_learning_tutorials.htm"><i class="fa fa-caret-right"></i> Machine Learning </a></li>
<li><a href="/mainframe_tutorials.htm"><i class="fa fa-caret-right"></i> Mainframe Development </a></li>
<li><a href="/management_tutorials.htm"><i class="fa fa-caret-right"></i> Management Tutorials </a></li>
<li><a href="/maths_tutorials.htm"><i class="fa fa-caret-right"></i> Mathematics Tutorials</a></li>
<li><a href="/microsoft_technologies_tutorials.htm"><i class="fa fa-caret-right"></i> Microsoft Technologies </a></li>
<li><a href="/misc_tutorials.htm"><i class="fa fa-caret-right"></i> Misc tutorials </a></li>
<li><a href="/mobile_development_tutorials.htm"><i class="fa fa-caret-right"></i> Mobile Development </a></li>
<li><a href="/java_technology_tutorials.htm"><i class="fa fa-caret-right"></i> Java Technologies </a></li>
<li><a href="/python_technologies_tutorials.htm"><i class="fa fa-caret-right"></i> Python Technologies </a></li>
<li><a href="/sap_tutorials.htm"><i class="fa fa-caret-right"></i> SAP Tutorials </a></li>
<li><a href="/scripting_lnaguage_tutorials.htm"><i class="fa fa-caret-right"></i>Programming Scripts </a></li>
<li><a href="/selected_reading.htm"><i class="fa fa-caret-right"></i> Selected Reading </a></li>
<li><a href="/software_quality_tutorials.htm"><i class="fa fa-caret-right"></i> Software Quality </a></li>
<li><a href="/soft_skill_tutorials.htm"><i class="fa fa-caret-right"></i> Soft Skills </a></li>
<li><a href="/telecom_tutorials.htm"><i class="fa fa-caret-right"></i> Telecom Tutorials </a></li>
<li><a href="/upsc_ias_exams.htm"><i class="fa fa-caret-right"></i> UPSC IAS Exams </a></li>
<li><a href="/web_development_tutorials.htm"><i class="fa fa-caret-right"></i> Web Development </a></li>
<li><a href="/sports_tutorials.htm"><i class="fa fa-caret-right"></i> Sports Tutorials </a></li>
<li><a href="/xml_technologies_tutorials.htm"><i class="fa fa-caret-right"></i> XML Technologies </a></li>
<li><a href="/multi_language_tutorials.htm"><i class="fa fa-caret-right"></i> Multi-Language Tutorials</a></li>
<li><a href="/questions_and_answers.htm"><i class="fa fa-caret-right"></i> Interview Questions</a></li>
</ul>
</li>
</ul>
<div class="clear"></div>
</div> 
</div>
<div class="right-menu">
<div class="toc-toggle">
<a href="javascript:void(0);"><i class="fa fa-bars"></i></a>
</div>
<div class="mobile-search-btn">
<a href="https://www.tutorialspoint.com/search.htm"><i class="fal fa-search"></i></a>
</div>
<div class="search-box">
<form method="get" class="" name="searchform" action="https://www.google.com/search" target="_blank" novalidate="">
<input type="hidden" name="sitesearch" value="www.tutorialspoint.com" class="user-valid valid">
<input class="header-search-box" type="text" id="search-string" name="q" placeholder="Search your favorite tutorials..." onfocus="if (this.value == 'Search your favorite tutorials...') {this.value = '';}" onblur="if (this.value == '') {this.value = 'Search your favorite tutorials...';}" autocomplete="off">
<button><i class="fal fa-search"></i></button>
</form>
</div>
<div class="menu-btn library-btn">
<a href="https://www.tutorialspoint.com/tutorialslibrary.htm"><i class="fal fa-cubes"></i> <span>Library</span></a>
</div>
<div class="menu-btn videos-btn">
<a href="https://www.tutorialspoint.com/videotutorials/index.htm"><i class="fal fa-video"></i> <span>Videos</span></a> 
</div>
<div class="menu-btn videos-btn">
<a href="https://www.tutorialspoint.com/questions/index.php"><i class="fa fa-location-arrow"></i> <span>Q/A</span></a>
</div>
<div class="menu-btn ebooks-btn">
<a href="https://store.tutorialspoint.com"><i class="fal fa-book"></i> <span>eBooks</span></a>
</div>
<div class="mui-dropdown">
<button class="mui-btn mui-btn--primary" data-mui-toggle="dropdown">
<span class="mui-caret"></span>
</button>
<ul class="mui-dropdown__menu">
<li><a href="https://www.tutorialspoint.com/tutorialslibrary.htm"><i class="fal fa-cubes"></i> <span>Library</span></a></li>
<li><a href="https://www.tutorialspoint.com/videotutorials/index.htm"><i class="fal fa-video"></i> <span>Videos</span></a></li>
<li><a href="https://store.tutorialspoint.com"><i class="fal fa-book"></i> <span>eBooks</span></a></li>
</ul>
</div>
</div>
</div>
</div>
<!-- Top main-menu Ends Here -->
</header>
<div class="mui-container-fluid content">
<div class="mui-container">
<!-- Tutorial ToC Starts Here -->
<div class="mui-col-md-3 tutorial-toc">
<div class="mini-logo">
<img src="/springjdbc/images/springjdbc-mini-logo.jpg" alt="Spring JDBC Tutorial" />
</div>
<ul class="toc chapters">
<li class="heading">Spring JDBC Tutorial</li>
<li><a href="/springjdbc/index.htm">Spring JDBC - Home</a></li>
<li><a href="/springjdbc/springjdbc_overview.htm">Spring JDBC - Overview</a></li>
<li><a href="/springjdbc/springjdbc_environment.htm">Spring JDBC - Environment Setup</a></li>
<li><a href="/springjdbc/springjdbc_configure_datasource.htm">Spring JDBC - Configure Data Source</a></li>
<li><a href="/springjdbc/springjdbc_first_application.htm">Spring JDBC - First Application</a></li>
<li class="heading">Basic CRUD Examples</li>
<li><a href="/springjdbc/springjdbc_create_query.htm">Spring JDBC - Create Query</a></li>
<li><a href="/springjdbc/springjdbc_read_query.htm">Spring JDBC - Read Query</a></li>
<li><a href="/springjdbc/springjdbc_update_query.htm">Spring JDBC - Update Query</a></li>
<li><a href="/springjdbc/springjdbc_delete_query.htm">Spring JDBC - Delete Query</a></li>
<li class="heading">Advanced JDBC Examples</li>
<li><a href="/springjdbc/springjdbc_stored_procedure.htm">Calling Stored Procedure</a></li>
<li><a href="/springjdbc/springjdbc_stored_function.htm">Spring JDBC - Calling Stored Function</a></li>
<li><a href="/springjdbc/springjdbc_handling_blob.htm">Spring JDBC - Handling BLOB</a></li>
<li><a href="/springjdbc/springjdbc_handling_clob.htm">Spring JDBC - Handling CLOB</a></li>
<li class="heading">Spring JDBC Batch Examples</li>
<li><a href="/springjdbc/springjdbc_batch_operation.htm">Spring JDBC - Batch Operation</a></li>
<li><a href="/springjdbc/springjdbc_object_batch.htm">Objects Batch Operation</a></li>
<li><a href="/springjdbc/springjdbc_multiple_batches.htm">Multiple Batches Operation</a></li>
<li class="heading">Spring JDBC Objects</li>
<li><a href="/springjdbc/springjdbc_jdbctemplate.htm">Spring JDBC - JdbcTemplate</a></li>
<li><a href="/springjdbc/springjdbc_preparedstatementsetter.htm">PreparedStatementSetter</a></li>
<li><a href="/springjdbc/springjdbc_resultsetextractor.htm">Spring JDBC - ResultSetExtractor</a></li>
<li><a href="/springjdbc/springjdbc_rowmapper.htm">Spring JDBC - RowMapper</a></li>
<li><a href="/springjdbc/springjdbc_namedparameterjdbctemplate.htm">NamedParameterJdbcTemplate</a></li>
<li><a href="/springjdbc/springjdbc_simplejdbcinsert.htm">Spring JDBC - SimpleJdbcInsert</a></li>
<li><a href="/springjdbc/springjdbc_simplejdbccall.htm">Spring JDBC - SimpleJdbcCall</a></li>
<li><a href="/springjdbc/springjdbc_sqlquery.htm">Spring JDBC - SqlQuery</a></li>
<li><a href="/springjdbc/springjdbc_sqlupdate.htm">Spring JDBC - SqlUpdate</a></li>
<li><a href="/springjdbc/springjdbc_storedprocedure.htm">Spring JDBC - StoredProcedure</a></li>
<li class="heading">Spring JDBC Useful Resources</li>
<li><a href="/springjdbc/springjdbc_quick_guide.htm">Spring JDBC - Quick Guide</a></li>
<li><a href="/springjdbc/springjdbc_useful_resources.htm">Spring JDBC - Useful Resources</a></li>
<li><a href="/springjdbc/springjdbc_discussion.htm">Spring JDBC - Discussion</a></li>
</ul>
<ul class="toc reading">
<li class="sreading">Selected Reading</li>
<li><a target="_top" href="/upsc_ias_exams.htm">UPSC IAS Exams Notes</a></li>
<li><a target="_top" href="/developers_best_practices/index.htm">Developer's Best Practices</a></li>
<li><a target="_top" href="/questions_and_answers.htm">Questions and Answers</a></li>
<li><a target="_top" href="/effective_resume_writing.htm">Effective Resume Writing</a></li>
<li><a target="_top" href="/hr_interview_questions/index.htm">HR Interview Questions</a></li>
<li><a target="_top" href="/computer_glossary.htm">Computer Glossary</a></li>
<li><a target="_top" href="/computer_whoiswho.htm">Who is Who</a></li>
</ul>
</div>
<!-- Tutorial ToC Ends Here -->
<!-- Tutorial Content Starts Here -->
<div class="mui-col-md-6 tutorial-content">
<h1>Spring JDBC - Quick Guide</h1>
<hr />
<div class="top-ad-heading">Advertisements</div>
<div style="text-align: center;">
<script><!--
google_ad_client = "pub-7133395778201029";
var width = document.getElementsByClassName("tutorial-content")[0].clientWidth - 40;
google_ad_width = width;
google_ad_height = 150;
google_ad_format = width + "x150_as";
google_ad_type = "image";
google_ad_channel = "";
//--></script>
<script src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>
<div class="mui-container-fluid button-borders">
<div class="pre-btn">
<a href="/springjdbc/springjdbc_storedprocedure.htm"><i class="fal fa-chevron-circle-left"></i> Previous Page</a>
</div>
<div class="nxt-btn">
<a href="/springjdbc/springjdbc_useful_resources.htm">Next Page <i class="fal fa-chevron-circle-right"></i>&nbsp;</a>
</div>
</div>
<div class="clearer"></div>
<h1>Spring JDBC - Overview</h1>
<p>While working with database using plain old JDBC, it becomes cumbersome to write unnecessary code to handle exceptions, opening and closing database connections, etc. However, Spring JDBC Framework takes care of all the low-level details starting from opening the connection, preparing and executing the SQL statement, processing exceptions, handling transactions, and finally closing the connection.</p>
<p>What you have do is just define connection parameters and specify the SQL statement to be executed and do the required work for each iteration while fetching data from the database.</p>
<p>Spring JDBC provides several approaches and correspondingly different classes to interface with the database. In this tutorial, we will take classic and the most popular approach which makes use of JDBC Template class of the framework. This is the central framework class that manages all the database communication and exception handling.</p>
<h2>JDBC Template Class</h2>
<p>JDBC Template class executes SQL queries, updates statements and stored procedure calls, performs iteration over ResultSets and extraction of returned parameter values. It also catches JDBC exceptions and translates them to the generic, more informative, exception hierarchy defined in the org.springframework.dao package.</p>
<p>Instances of the JDBC Template class are threadsafe once configured. So, you can configure a single instance of a JDBC Template and then safely inject this shared reference into multiple DAOs.</p>
<p>A common practice when using the JDBC Template class is to configure a DataSource in your Spring configuration file, and then dependency-inject that shared DataSource bean into your DAO classes. The JDBC Template is created in the setter for the DataSource.</p>
<h2>Data Access Object (DAO)</h2>
<p>DAO stands for <b>Data Access Object</b> which is commonly used for database interaction. DAOs exist to provide a means to read and write data to the database and they should expose this functionality through an interface by which the rest of the application will access them.</p>
<p>The Data Access Object (DAO) support in Spring makes it easy to work with data access technologies such as JDBC, Hibernate, JPA, or JDO in a consistent way.</p>
<h1>Spring JDBC - Environment Setup</h1>
<p>This chapter takes you through the process of setting up Spring-AOP on Windows and Linux based systems. Spring AOP can be easily installed and integrated with your current Java environment and MAVEN by following a few simple steps without any complex setup procedures. User administration is required while installation.</p>
<h2>System Requirements</h2>
<table class="table table-bordered" style="text-align:center;">
<tr>
<td>JDK</td>
<td>Java SE 2 JDK 1.5 or above</td>
</tr>
<tr>
<td>Memory</td>
<td>1 GB RAM (recommended)</td>
</tr>
<tr>
<td>Disk Space</td>
<td>No minimum requirement</td>
</tr>
<tr>
<td>Operating System Version</td>
<td>Windows XP or above, Linux</td>
</tr>
</table>
<p>Let us now proceed with the steps to install Spring AOP.</p>
<h2>Step 1 - Verify your Java Installation</h2>
<p>First of all, you need to have Java Software Development Kit (SDK) installed on your system. To verify this, execute any of the following two commands depending on the platform you are working on.</p>
<p>If the Java installation has been done properly, then it will display the current version and specification of your Java installation. A sample output is given in the following table.</p>
<table class="table table-bordered">
<tr>
<th style="text-align:center;">Platform</th>
<th style="text-align:center;">Command</th>
<th style="text-align:center;">Sample Output</th>
</tr>
<tr>
<td class="ts">Windows</td>
<td style="text-align:center;"><p>Open command console and type &minus;</p>
<p><b>\&gt;java -version</b></p></td>
<td style="text-align:center;"><p>Java version "1.7.0_60"</p>
<p>Java (TM) SE Run Time Environment (build 1.7.0_60-b19)</p>
<p>Java Hotspot (TM) 64-bit Server VM (build 24.60-b09,mixed mode)</p></td>
</tr>
<tr>
<td class="ts">Linux</td>
<td style="text-align:center;"><p>Open command terminal and type &minus;</p>
<p><b>$java -version</b></p></td>
<td style="text-align:center;"><p>java version "1.7.0_25"</p>
<p>Open JDK Runtime Environment (rhel-2.3.10.4.el6_4-x86_64)</p>
<p>Open JDK 64-Bit Server VM (build 23.7-b01, mixed mode)</p></td>
</tr>
</table>
<p>We assume the readers of this tutorial have Java SDK version 1.7.0_60 installed on thei system. In case you do not have Java SDK, download its current version from <a href="https://www.oracle.com/technetwork/java/javase/downloads/index.html" target="_blank" rel="nofollow">https://www.oracle.com/technetwork/java/javase/downloads/index.html</a> and have it installed.</p>
<h2>Step 2 - Set your Java Environment</h2>
<p>Set the environment variable JAVA_HOME to point to the base directory location where Java is installed on your machine. For example,</p>
<table class="table table-bordered" style="text-align:center;">
<tr>
<th style="text-align:center;">Platform</th>
<th style="text-align:center;">Description</th>
</tr>
<tr>
<td>Windows</td>
<td>Set JAVA_HOME to C:\ProgramFiles\java\jdk1.7.0_60</td>
</tr>
<tr>
<td>Linux</td>
<td>Export JAVA_HOME=/usr/local/java-current</td>
</tr>
</table>
<p>Append the full path of Java compiler location to the System Path.</p>
<table class="table table-bordered" style="text-align:center;">
<tr>
<th style="text-align:center;">Platform</th>
<th style="text-align:center;">Description</th>
</tr>
<tr>
<td>Windows</td>
<td>Append the String "C:\Program Files\Java\jdk1.7.0_60\bin" to the end of the system variable PATH.</td>
</tr>
<tr>
<td>Linux</td>
<td>Export PATH=$PATH:$JAVA_HOME/bin/</td>
</tr>
</table>
<p>Execute the command <b>java -version</b> from the command prompt as explained above.</p>
<h2>Step 3 - Download Maven Archive</h2>
<p>Download Maven 3.3.3 from <a target="_blank" rel="nofollow" href="https://maven.apache.org/download.cgi">https://maven.apache.org/download.cgi</a></p>
<table class="table table-bordered" style="text-align:center;">
<tr>
<th style="width:20%; text-align:center;">OS</th>
<th style="text-align:center;">Archive name</th>
</tr>
<tr>
<td>Windows</td>
<td>apache-maven-3.3.3-bin.zip</td>
</tr>
<tr>
<td>Linux</td>
<td>apache-maven-3.3.3-bin.tar.gz</td>
</tr>
<tr>
<td>Mac</td>
<td>apache-maven-3.3.3-bin.tar.gz</td>
</tr>
</table>
<h2>Step 4 - Extract the Maven Archive</h2>
<p>Extract the archive to the directory you wish to install Maven 3.3.3. The subdirectory apache-maven-3.3.3 will be created from the archive.</p>
<table class="table table-bordered" >
<tr>
<th style="width:20%; text-align:center;">OS</th>
<th style="text-align:center;">Location (can be different based on your installation)</th>
</tr>
<tr>
<td style="text-align:center;">Windows</td>
<td>C:\Program Files\Apache Software Foundation\apache-maven-3.3.3</td>
</tr>
<tr>
<td style="text-align:center;">Linux</td>
<td>/usr/local/apache-maven</td>
</tr>
<tr>
<td style="text-align:center;">Mac</td>
<td>/usr/local/apache-maven</td>
</tr>
</table>
<h2>Step 5 - Set Maven environment variables</h2>
<p>Add M2_HOME, M2, MAVEN_OPTS to environment variables.</p>
<table class="table table-bordered">
<tr>
<th style="width:20%; text-align:center;">OS</th>
<th style="text-align:center;">Output</th>
</tr>
<tr>
<td class="ts" >Windows</td>
<td><p>Set the environment variables using system properties.</p>
<p><i>M2_HOME=C:\Program Files\Apache Software Foundation\apachemaven-3.3.3</i></p>
<p><i>M2 = %M2_HOME%\bin</i></p>
<p><i>MAVEN_OPTS = -Xms256m -Xmx512m</i></p>
</td>
</tr>
<tr>
<td class="ts">Linux</td>
<td><p>Open command terminal and set environment variables.</p>
<p><i>export M2_HOME = /usr/local/apache-maven/apache-maven-3.3.3</i></p>
<p><i>export M2 = $M2_HOME/bin</i></p>
<p><i>export MAVEN_OPTS = -Xms256m -Xmx512m</i></p>
</td>
</tr>
<tr>
<td class="ts">Mac</td>
<td><p>Open command terminal and set environment variables.</p>
<p><i>export M2_HOME = /usr/local/apache-maven/apache-maven-3.3.3</i></p>
<p><i>export M2 = $M2_HOME/bin</i></p>
<p><i>export MAVEN_OPTS = -Xms256m -Xmx512m</i></p>
</td>
</tr>
</table>
<h2>Step 6 - Add Maven Bin Directory Location to System Path</h2>
<p>Now append M2 variable to System Path.</p>
<table class="table table-bordered">
<tr>
<th style="width:20%; text-align:center;">OS</th>
<th style="text-align:center;">Output</th>
</tr>
<tr>
<td style="text-align:center;">Windows</td>
<td>Append the string ;%M2% to the end of the system variable, Path.</td>
</tr>
<tr>
<td style="text-align:center;">Linux</td>
<td>export PATH = $M2:$PATH</td>
</tr>
<tr>
<td style="text-align:center;">Mac</td>
<td>export PATH = $M2:$PATH</td>
</tr>
</table>
<h2>Step 7 - Verify Maven installation</h2>
<p>Now open console, execute the following <b>mvn</b> command.</p>
<table class="table table-bordered">
<tr>
<th style="width:20%; text-align:center;">OS</th>
<th style="text-align:center;">Task</th>
<th style="text-align:center;">Command</th>
</tr>
<tr>
<td style="text-align:center;">Windows</td>
<td>Open Command Console</td>
<td>c:\&gt; mvn --version</td>
</tr>
<tr>
<td style="text-align:center;">Linux</td>
<td>Open Command Terminal</td>
<td>$ mvn --version</td>
</tr>
<tr>
<td style="text-align:center;">Mac</td>
<td>Open Terminal</td>
<td>machine:&lt; joseph$ mvn --version</td>
</tr>
</table>
<p>Finally, verify the output of the above commands, which should be something as follows &minus;</p>
<table class="table table-bordered">
<tr>
<th style="width:20%; text-align:center;">OS</th>
<th style="text-align:center;">Output</th>
</tr>
<tr>
<td class="ts">Windows</td>
<td><p>Apache Maven 3.3.3 (7994120775791599e205a5524ec3e0dfe41d4a06; 2015-04-22T17:27:37+05:30)</p>
<p>Maven home: C:\Program Files\Apache Software Foundation\apache-maven-3.3.3</p>
<p>Java version: 1.7.0_75, vendor: Oracle Corporation</p>
<p>Java home: C:\Program Files\Java\jdk1.7.0_75\jre</p>
<p>Default locale: en_US, platform encoding: Cp1252</p>
</td>
</tr>
<tr>
<td class="ts">Linux</td>
<td><p>Apache Maven 3.3.3 (7994120775791599e205a5524ec3e0dfe41d4a06; 2015-04-22T17:27:37+05:30)</p>
<p>Maven home: /usr/local/apache-maven/apache-maven-3.3.3</p>
<p>Java version: 1.7.0_75, vendor: Oracle Corporation</p>
<p>Java home: /usr/local/java-current/jdk1.7.0_75/jre</p>
</td>
</tr>
<tr>
<td class="ts">Mac</td>
<td><p>Apache Maven 3.3.3 (7994120775791599e205a5524ec3e0dfe41d4a06; 2015-04-22T17:27:37+05:30)</p>
<p>Maven home: /usr/local/apache-maven/apache-maven-3.3.3</p>
<p>Java version: 1.7.0_75, vendor: Oracle Corporation</p>
<p>Java home: /Library/Java/Home/jdk1.7.0_75/jre</p>
</td>
</tr>
</table>
<h2>Step 8 - Setup Eclipse IDE</h2>
<p>All the examples in this tutorial have been written using Eclipse IDE. So, I would suggest you should have the latest version of Eclipse installed on your machine.</p>
<p>To install Eclipse IDE, download the latest Eclipse binaries from <a rel="nofollow" target="_blank" href="https://www.eclipse.org/downloads/">https://www.eclipse.org/downloads/</a>. Once you have downloaded the installation, unpack the binary distribution into a convenient location. For example, in C:\eclipse on Windows, or /usr/local/eclipse on Linux/Unix. Finally, set PATH variable appropriately.</p>
<p>Eclipse can be started by executing the following commands on Windows machine, or you can simply double-click on eclipse.exe.</p>
<pre class="result notranslate">
%C:\eclipse\eclipse.exe
</pre>
<p>Eclipse can be started by executing the following commands on Unix (Solaris, Linux, etc.) machine.</p>
<pre class="result notranslate">
$/usr/local/eclipse/eclipse
</pre>
<p>After a successful startup, if everything is fine then it should display the following result.</p>
<img src="/springjdbc/images/eclipsehomepage.jpg" alt="Eclipse Home page" />
<p>Once you are done with this last step, you are ready to proceed for your first JDBC example which you will see in the next chapter.</p>
<h1>Spring JDBC - Configure Data Source</h1>
<p>Let us create a database table <b>Student</b> in our database <b>TEST</b>. I assume you are working with MySQL database, if you work with any other database then you can change your DDL and SQL queries accordingly.</p>
<pre class="prettyprint notranslate">
CREATE TABLE Student(
   ID   INT NOT NULL AUTO_INCREMENT,
   NAME VARCHAR(20) NOT NULL,
   AGE  INT NOT NULL,
   PRIMARY KEY (ID)
);
</pre>
<p>Now we need to supply a DataSource to the JDBC Template so it can configure itself to get database access. You can configure the DataSource in the XML file with a piece of code shown as follows &minus;</p>
<pre class="prettyprint notranslate">
&lt;bean id = "dataSource"
class = "org.springframework.jdbc.datasource.DriverManagerDataSource"&gt;
   &lt;property name = "driverClassName" value = "com.mysql.jdbc.Driver"/&gt;
   &lt;property name = "url" value = "jdbc:mysql://localhost:3306/TEST"/&gt;
   &lt;property name = "username" value = "root"/&gt;
   &lt;property name = "password" value = "admin"/&gt;
&lt;/bean&gt;
</pre>
<p>In the next chapter, we'll write the first application using the database configured.</p>
<h1>Spring JDBC - First Application</h1>
<p>To understand the concepts related to Spring JDBC framework with JDBC Template class, let us write a simple example which will implement Insert and Read operations on the following Student table.</p>
<pre class="prettyprint notranslate">
CREATE TABLE Student(
   ID   INT NOT NULL AUTO_INCREMENT,
   NAME VARCHAR(20) NOT NULL,
   AGE  INT NOT NULL,
   PRIMARY KEY (ID)
);
</pre>
<p>Let us proceed to write a simple console based Spring JDBC Application, which will demonstrate JDBC concepts.</p>
<h2>Create Project</h2>
<p>Let's open the command console, go the C:\MVN directory and execute the following <b>mvn</b> command.</p>
<pre class="prettyprint notranslate">
C:\MVN&gt;mvn archetype:generate -DgroupId = com.tutorialspoint -DartifactId = Student
   -DarchetypeArtifactId = maven-archetype-quickstart -DinteractiveMode = false
</pre>
<p>Maven will start processing and will create the complete Java application project structure.</p>
<pre class="result notranslate">
[INFO] Scanning for projects...
[INFO]
[INFO] ------------------------------------------------------------------------
[INFO] Building Maven Stub Project (No POM) 1
[INFO] ------------------------------------------------------------------------
[INFO]
[INFO] &gt;&gt;&gt; maven-archetype-plugin:2.4:generate (default-cli) &gt; generate-sources
@ standalone-pom &gt;&gt;&gt;
[INFO]
[INFO] &lt;&lt;&lt; maven-archetype-plugin:2.4:generate (default-cli) &lt; generate-sources
@ standalone-pom &lt;&lt;&lt;
[INFO]
[INFO] --- maven-archetype-plugin:2.4:generate (default-cli) @ standalone-pom --
-
[INFO] Generating project in Batch mode
Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/archetypes/ma
ven-archetype-quickstart/1.0/maven-archetype-quickstart-1.0.jar
Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/archetypes/mav
en-archetype-quickstart/1.0/maven-archetype-quickstart-1.0.jar (5 KB at 1.1 KB/s
ec)
Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/archetypes/ma
ven-archetype-quickstart/1.0/maven-archetype-quickstart-1.0.pom
Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/archetypes/mav
en-archetype-quickstart/1.0/maven-archetype-quickstart-1.0.pom (703 B at 1.2 KB/
sec)
[INFO] -------------------------------------------------------------------------
---
[INFO] Using following parameters for creating project from Old (1.x) Archetype:
 maven-archetype-quickstart:1.0
[INFO] -------------------------------------------------------------------------
---
[INFO] Parameter: groupId, Value: com.tutorialspoint
[INFO] Parameter: packageName, Value: com.tutorialspoint
[INFO] Parameter: package, Value: com.tutorialspoint
[INFO] Parameter: artifactId, Value: Student
[INFO] Parameter: basedir, Value: C:\MVN
[INFO] Parameter: version, Value: 1.0-SNAPSHOT
[INFO] project created from Old (1.x) Archetype in dir: C:\MVN\Student
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 01:17 min
[INFO] Finished at: 2017-02-19T21:11:14+05:30
[INFO] Final Memory: 15M/114M
[INFO] ------------------------------------------------------------------------
</pre>
<p>Now go to C:/MVN directory. You'll see a Java application project created named student (as specified in artifactId). Update the POM.xml to include Spring JDBC dependencies. Add Student.java, StudentMapper.java, MainApp.java, StudentDAO.java and StudentJDBCTemplate.java files.</p>
<h2>POM.xml</h2>
<pre class="prettyprint notranslate">
&lt;project xmlns = "http://maven.apache.org/POM/4.0.0" 
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation = "http://maven.apache.org/POM/4.0.0 
   http://maven.apache.org/maven-v4_0_0.xsd"&gt;
   
   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
   &lt;groupId&gt;com.tutorialspoint&lt;/groupId&gt;
   &lt;artifactId&gt;Student&lt;/artifactId&gt;
   &lt;packaging&gt;jar&lt;/packaging&gt;
   &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
   &lt;name&gt;Student&lt;/name&gt;
   &lt;url&gt;http://maven.apache.org&lt;/url&gt;
   
   &lt;dependencies&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;junit&lt;/groupId&gt;
         &lt;artifactId&gt;junit&lt;/artifactId&gt;
         &lt;version&gt;3.8.1&lt;/version&gt;
         &lt;scope&gt;test&lt;/scope&gt;
      &lt;/dependency&gt;
      
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework&lt;/groupId&gt;
         &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;
         &lt;version&gt;4.1.0.RELEASE&lt;/version&gt;
      &lt;/dependency&gt;
      
      &lt;dependency&gt;
         &lt;groupId&gt;org.springframework&lt;/groupId&gt;
         &lt;artifactId&gt;spring-context&lt;/artifactId&gt;
         &lt;version&gt;4.1.4.RELEASE&lt;/version&gt;
      &lt;/dependency&gt;
   &lt;/dependencies&gt;
   
&lt;/project&gt;
</pre>
<p>Following is the content of the Data Access Object interface file <b>StudentDAO.java.</b></p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;
import javax.sql.DataSource;

public interface StudentDAO {
   /** 
      * This is the method to be used to initialize
      * database resources ie. connection.
   */
   public void setDataSource(DataSource ds);
   
   /** 
      * This is the method to be used to create
      * a record in the Student table.
   */
   public void create(String name, Integer age);
   public Student getStudent(Integer id);
   
   /** 
     * This is the method to be used to list down
     * all the records from the Student table.
   */
   public List&lt;Student&gt; listStudents();
}
</pre>
<p>Following is the content of the <b>Student.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

public class Student {
   private Integer age;
   private String name;
   private Integer id;

   public void setAge(Integer age) {
      this.age = age;
   }
   public Integer getAge() {
      return age;
   }
   public void setName(String name) {
      this.name = name;
   }
   public String getName() {
      return name;
   }
   public void setId(Integer id) {
      this.id = id;
   }
   public Integer getId() {
      return id;
   }
}
</pre>
<p>Following is the content of the <b>StudentMapper.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.sql.ResultSet;
import java.sql.SQLException;
import org.springframework.jdbc.core.RowMapper;

public class StudentMapper implements RowMapper&lt;Student&gt; {
   public Student mapRow(ResultSet rs, int rowNum) throws SQLException {
      Student student = new Student();
      student.setId(rs.getInt("id"));
      student.setName(rs.getString("name"));
      student.setAge(rs.getInt("age"));
      return student;
   }
}
</pre>
<p>Following is the implementation class file <b>StudentJDBCTemplate.java</b> for the defined DAO interface StudentDAO.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;
import javax.sql.DataSource;
import org.springframework.jdbc.core.JdbcTemplate;

public class StudentJDBCTemplate implements StudentDAO {
   private DataSource dataSource;
   private JdbcTemplate jdbcTemplateObject;
   
   public void setDataSource(DataSource dataSource) {
      this.dataSource = dataSource;
      this.jdbcTemplateObject = new JdbcTemplate(dataSource);
   }
   public void create(String name, Integer age) {
      String SQL = "insert into Student (name, age) values (?, ?)";
      
      jdbcTemplateObject.update( SQL, name, age);
      System.out.println("Created Record Name = " + name + " Age = " + age);
      return;
   }
   public List&lt;Student&gt; listStudents() {
      String SQL = "select * from Student";
      List &lt;Student&gt; students = jdbcTemplateObject.query(SQL, new StudentMapper());
      return students;
   }
}
</pre>
<p>Following is the content of the <b>MainApp.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;

import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;
import com.tutorialspoint.StudentJDBCTemplate;

public class MainApp {
   public static void main(String[] args) {
      ApplicationContext context = new ClassPathXmlApplicationContext("Beans.xml");

      StudentJDBCTemplate studentJDBCTemplate = (StudentJDBCTemplate)
         context.getBean("studentJDBCTemplate");
      
      System.out.println("------Records Creation--------" );
      studentJDBCTemplate.create("Zara", 11);
      studentJDBCTemplate.create("Nuha", 2);
      studentJDBCTemplate.create("Ayan", 15);

      System.out.println("------Listing Multiple Records--------" );
      List&lt;Student&gt; students = studentJDBCTemplate.listStudents();
      
      for (Student record : students) {
         System.out.print("ID : " + record.getId() );
         System.out.print(", Name : " + record.getName() );
         System.out.println(", Age : " + record.getAge());
      }  
   }
}
</pre> 
<p>Following is the configuration file <b>Beans.xml</b>.</p> 
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;beans xmlns = "http://www.springframework.org/schema/beans"
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance" 
   xsi:schemaLocation = "http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd "&gt;

   &lt;!-- Initialization for data source --&gt;
   &lt;bean id = "dataSource" 
      class = "org.springframework.jdbc.datasource.DriverManagerDataSource"&gt;
      &lt;property name = "driverClassName" value = "com.mysql.jdbc.Driver"/&gt;
      &lt;property name = "url" value = "jdbc:mysql://localhost:3306/TEST"/&gt;
      &lt;property name = "username" value = "root"/&gt;
      &lt;property name = "password" value = "admin"/&gt;
   &lt;/bean&gt;

   &lt;!-- Definition for studentJDBCTemplate bean --&gt;
   &lt;bean id = "studentJDBCTemplate" 
      class = "com.tutorialspoint.StudentJDBCTemplate"&gt;
      &lt;property name = "dataSource" ref = "dataSource" /&gt;    
   &lt;/bean&gt;
      
&lt;/beans&gt;
</pre> 
<p>Once you are done creating the source and bean configuration files, let us run the application. If everything is fine with your application, it will print the following message.</p>
<pre class="result notranslate">
------Records Creation--------
Created Record Name = Zara Age = 11
Created Record Name = Nuha Age = 2
Created Record Name = Ayan Age = 15
------Listing Multiple Records--------
ID : 1, Name : Zara, Age : 11
ID : 2, Name : Nuha, Age : 2
ID : 3, Name : Ayan, Age : 15
</pre>
<h1>Spring JDBC - Create Query</h1>
<p>The following example will demonstrate how to create a query using Insert query with the help of Spring JDBC. We'll insert a few records in Student Table.</p>
<h2>Syntax</h2>
<pre class="result notranslate">
String insertQuery = "insert into Student (name, age) values (?, ?)";
jdbcTemplateObject.update( insertQuery, name, age);
</pre>
<p>Where,</p>
<ul class="list">
<li><p><b>insertQuery</b> &minus; Insert query having placeholders.</p></li>
<li><p><b>jdbcTemplateObject</b> &minus; StudentJDBCTemplate object to insert student object in database.</p></li>
</ul>
<p>To understand the above-mentioned concepts related to Spring JDBC, let us write an example which will insert a query. To write our example, let us have a working Eclipse IDE in place and use the following steps to create a Spring application.</p>
<table class="table table-bordered">
<tr>
<th style="text-align:center;">Step</th>
<th style="text-align:center;">Description</th>
</tr>
<tr>
<td class="ts">1</td>
<td>Update the project <i>Student</i> created under chapter <a target="_top" href="/springjdbc/springjdbc_first_application.htm"><i><b>Spring JDBC - First Application</b></i></a>.</td>
</tr>
<tr>
<td class="ts">2</td>
<td>Update the bean configuration and run the application as explained below.</td>
</tr>
</table>
<p>Following is the content of the Data Access Object interface file <b>StudentDAO.java</b>.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;
import javax.sql.DataSource;

public interface StudentDAO {
   /** 
      * This is the method to be used to initialize
      * database resources ie. connection.
   */
   public void setDataSource(DataSource ds);
   
   /** 
     * This is the method to be used to create
     * a record in the Student table.
   */
   public void create(String name, Integer age);
   
   /** 
      * This is the method to be used to list down
      * all the records from the Student table.
   */
   public List&lt;Student&gt; listStudents();   
}
</pre>
<p>Following is the content of the <b>Student.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

public class Student {
   private Integer age;
   private String name;
   private Integer id;

   public void setAge(Integer age) {
      this.age = age;
   }
   public Integer getAge() {
      return age;
   }
   public void setName(String name) {
      this.name = name;
   }
   public String getName() {
      return name;
   }
   public void setId(Integer id) {
      this.id = id;
   }
   public Integer getId() {
      return id;
   }
}
</pre>
<p>Following is the content of the <b>StudentMapper.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.sql.ResultSet;
import java.sql.SQLException;
import org.springframework.jdbc.core.RowMapper;

public class StudentMapper implements RowMapper&lt;Student&gt; {
   public Student mapRow(ResultSet rs, int rowNum) throws SQLException {
      Student student = new Student();
      student.setId(rs.getInt("id"));
      student.setName(rs.getString("name"));
      student.setAge(rs.getInt("age"));
      return student;
   }
}
</pre>
<p>Following is the implementation class file <b>StudentJDBCTemplate.java</b> for the defined DAO interface StudentDAO.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;
import javax.sql.DataSource;
import org.springframework.jdbc.core.JdbcTemplate;

public class StudentJDBCTemplate implements StudentDAO {
   private DataSource dataSource;
   private JdbcTemplate jdbcTemplateObject;
   
   public void setDataSource(DataSource dataSource) {
      this.dataSource = dataSource;
      this.jdbcTemplateObject = new JdbcTemplate(dataSource);
   }
   public void create(String name, Integer age) {
      String insertQuery = "insert into Student (name, age) values (?, ?)";
      jdbcTemplateObject.update( insertQuery, name, age);
      System.out.println("Created Record Name = " + name + " Age = " + age);
      return;
   }
   public List&lt;Student&gt; listStudents() {
      String SQL = "select * from Student";
      List &lt;Student&gt; students = jdbcTemplateObject.query(SQL, new StudentMapper());
      return students;
   }
}
</pre>
<p>Following is the content of the <b>MainApp.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;

import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;
import com.tutorialspoint.StudentJDBCTemplate;

public class MainApp {
   public static void main(String[] args) {
      ApplicationContext context = new ClassPathXmlApplicationContext("Beans.xml");

      StudentJDBCTemplate studentJDBCTemplate = 
         (StudentJDBCTemplate)context.getBean("studentJDBCTemplate");
      
      System.out.println("------Records Creation--------" );
      studentJDBCTemplate.create("Zara", 11);
      studentJDBCTemplate.create("Nuha", 2);
      studentJDBCTemplate.create("Ayan", 15);

      System.out.println("------Listing Multiple Records--------" );
      List&lt;Student&gt; students = studentJDBCTemplate.listStudents();
      
      for (Student record : students) {
         System.out.print("ID : " + record.getId() );
         System.out.print(", Name : " + record.getName() );
         System.out.println(", Age : " + record.getAge());
      }  
   }
}
</pre> 
<p>Following is the configuration file <b>Beans.xml</b>.</p> 
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;beans xmlns = "http://www.springframework.org/schema/beans"
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance" 
   xsi:schemaLocation = "http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd "&gt;

   &lt;!-- Initialization for data source --&gt;
   &lt;bean id = "dataSource" 
      class = "org.springframework.jdbc.datasource.DriverManagerDataSource"&gt;
      &lt;property name = "driverClassName" value = "com.mysql.jdbc.Driver"/&gt;
      &lt;property name = "url" value = "jdbc:mysql://localhost:3306/TEST"/&gt;
      &lt;property name = "username" value = "root"/&gt;
      &lt;property name = "password" value = "admin"/&gt;
   &lt;/bean&gt;

   &lt;!-- Definition for studentJDBCTemplate bean --&gt;
   &lt;bean id = "studentJDBCTemplate" 
      class = "com.tutorialspoint.StudentJDBCTemplate"&gt;
      &lt;property name = "dataSource" ref = "dataSource" /&gt;    
   &lt;/bean&gt;
      
&lt;/beans&gt;
</pre> 
<p>Once you are done creating the source and bean configuration files, let us run the application. If everything is fine with your application, it will print the following message.</p>
<pre class="result notranslate">
------Records Creation--------
Created Record Name = Zara Age = 11
Created Record Name = Nuha Age = 2
Created Record Name = Ayan Age = 15
------Listing Multiple Records--------
ID : 1, Name : Zara, Age : 11
ID : 2, Name : Nuha, Age : 2
ID : 3, Name : Ayan, Age : 15
</pre>
<h1>Spring JDBC - Read Query</h1>
<p>Following example will demonstrate how to read a query using Spring JDBC. We'll read available records in Student Table.</p>
<h2>Syntax</h2>
<pre class="result notranslate">
String selectQuery = "select * from Student";
List &lt;Student&gt; students = jdbcTemplateObject.query(selectQuery, new StudentMapper());
</pre>
<p>Where,</p>
<ul class="list">
<li><p><b>selectQuery</b> &minus; Select query to read students.</p></li>
<li><p><b>jdbcTemplateObject</b> &minus; StudentJDBCTemplate object to read student object from database.</p></li>
<li><p><b>StudentMapper</b> &minus; StudentMapper is a RowMapper object to map each fetched record to student object.</p></li>
</ul>
<p>To understand above mentioned concepts related to Spring JDBC, let us write an example which will select a query. To write our example, let us have a working Eclipse IDE in place and use the following steps to create a Spring application.</p>
<table class="table table-bordered">
<tr>
<th style="text-align:center;">Step</th>
<th style="text-align:center;">Description</th>
</tr>
<tr>
<td class="ts">1</td>
<td>Update the project <i>Student</i> created under chapter <a target="_top" href="/springjdbc/springjdbc_first_application.htm"><i>Spring JDBC - First Application</i></a>.</td>
</tr>
<tr>
<td class="ts">2</td>
<td>Update the bean configuration and run the application as explained below.</td>
</tr>
</table>
<p>Following is the content of the Data Access Object interface file <b>StudentDAO.java</b>.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;
import javax.sql.DataSource;

public interface StudentDAO {
   /** 
      * This is the method to be used to initialize
      * database resources ie. connection.
   */
   public void setDataSource(DataSource ds);
   
   /** 
      * This is the method to be used to list down
      * all the records from the Student table.
   */
   public List&lt;Student&gt; listStudents();   
}
</pre>
<p>Following is the content of the <b>Student.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

public class Student {
   private Integer age;
   private String name;
   private Integer id;

   public void setAge(Integer age) {
      this.age = age;
   }
   public Integer getAge() {
      return age;
   }
   public void setName(String name) {
      this.name = name;
   }
   public String getName() {
      return name;
   }
   public void setId(Integer id) {
      this.id = id;
   }
   public Integer getId() {
      return id;
   }
}
</pre>
<p>Following is the content of the <b>StudentMapper.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.sql.ResultSet;
import java.sql.SQLException;
import org.springframework.jdbc.core.RowMapper;

public class StudentMapper implements RowMapper&lt;Student&gt; {
   public Student mapRow(ResultSet rs, int rowNum) throws SQLException {
      Student student = new Student();
      student.setId(rs.getInt("id"));
      student.setName(rs.getString("name"));
      student.setAge(rs.getInt("age"));
      return student;
   }
}
</pre>
<p>Following is the implementation class file <b>StudentJDBCTemplate.java</b> for the defined DAO interface StudentDAO.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;
import javax.sql.DataSource;
import org.springframework.jdbc.core.JdbcTemplate;

public class StudentJDBCTemplate implements StudentDAO {
   private DataSource dataSource;
   private JdbcTemplate jdbcTemplateObject;
   
   public void setDataSource(DataSource dataSource) {
      this.dataSource = dataSource;
      this.jdbcTemplateObject = new JdbcTemplate(dataSource);
   }
   public List&lt;Student&gt; listStudents() {
      String SQL = "select * from Student";
      List &lt;Student&gt; students = jdbcTemplateObject.query(SQL, new StudentMapper());
      return students;
   }
}
</pre>
<p>Following is the content of the <b>MainApp.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;

import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;
import com.tutorialspoint.StudentJDBCTemplate;

public class MainApp {
   public static void main(String[] args) {
      ApplicationContext context = new ClassPathXmlApplicationContext("Beans.xml");
      StudentJDBCTemplate studentJDBCTemplate = 
         (StudentJDBCTemplate)context.getBean("studentJDBCTemplate");
      
      System.out.println("------Listing Multiple Records--------" );
      List&lt;Student&gt; students = studentJDBCTemplate.listStudents();
      
      for (Student record : students) {
         System.out.print("ID : " + record.getId() );
         System.out.print(", Name : " + record.getName() );
         System.out.println(", Age : " + record.getAge());
      }  
   }
}
</pre> 
<p>Following is the configuration file <b>Beans.xml</b>.</p> 
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;beans xmlns = "http://www.springframework.org/schema/beans"
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance" 
   xsi:schemaLocation = "http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd "&gt;

   &lt;!-- Initialization for data source --&gt;
   &lt;bean id = "dataSource" 
      class = "org.springframework.jdbc.datasource.DriverManagerDataSource"&gt;
      &lt;property name = "driverClassName" value = "com.mysql.jdbc.Driver"/&gt;
      &lt;property name = "url" value = "jdbc:mysql://localhost:3306/TEST"/&gt;
      &lt;property name = "username" value = "root"/&gt;
      &lt;property name = "password" value = "admin"/&gt;
   &lt;/bean&gt;

   &lt;!-- Definition for studentJDBCTemplate bean --&gt;
   &lt;bean id="studentJDBCTemplate" 
      class = "com.tutorialspoint.StudentJDBCTemplate"&gt;
      &lt;property name = "dataSource" ref = "dataSource" /&gt;    
   &lt;/bean&gt;
      
&lt;/beans&gt;
</pre> 
<p>Once you are done creating the source and bean configuration files, let us run the application. If everything is fine with your application, it will print the following message.</p>
<pre class="result notranslate">
------Listing Multiple Records--------
ID : 1, Name : Zara, Age : 11
ID : 2, Name : Nuha, Age : 2
ID : 3, Name : Ayan, Age : 15
</pre>
<h1>Spring JDBC - Update Query</h1>
<p>Following example will demonstrate how to update a query using Spring JDBC. We'll update the available records in Student Table.</p>
<h2>Syntax</h2>
<pre class="result notranslate">
String updateQuery = "update Student set age = ? where id = ?";
jdbcTemplateObject.update(updateQuery, age, id);
</pre>
<p>Where,</p>
<ul class="list">
<li><p><b>updateQuery</b> &minus; Update query to update student with place holders.</p></li>
<li><p><b>jdbcTemplateObject</b> &minus; StudentJDBCTemplate object to update student object in the database.</p></li>
</ul>
<p>To understand the above-mentioned concepts related to Spring JDBC, let us write an example which will update a query. To write our example, let us have a working Eclipse IDE in place and use the following steps to create a Spring application.</p>
<table class="table table-bordered">
<tr>
<th style="text-align:center;">Step</th>
<th style="text-align:center;">Description</th>
</tr>
<tr>
<td class="ts">1</td>
<td>Update the project <i>Student</i> created under chapter <a target="_top" href="/springjdbc/springjdbc_first_application.htm"><i>Spring JDBC - First Application</i></a>.</td>
</tr>
<tr>
<td class="ts">2</td>
<td>Update the bean configuration and run the application as explained below.</td>
</tr>
</table>
<p>Following is the content of the Data Access Object interface file <b>StudentDAO.java</b>.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;
import javax.sql.DataSource;

public interface StudentDAO {
   /** 
      * This is the method to be used to initialize
      * database resources ie. connection.
   */
   public void setDataSource(DataSource ds);
   
   /** 
      * This is the method to be used to update
      * a record into the Student table.
   */
   public void update(Integer id, Integer age);

   /** 
      * This is the method to be used to list down
      * a record from the Student table corresponding
      * to a passed student id.
   */
   public Student getStudent(Integer id);   
}
</pre>
<p>Following is the content of the <b>Student.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

public class Student {
   private Integer age;
   private String name;
   private Integer id;

   public void setAge(Integer age) {
      this.age = age;
   }
   public Integer getAge() {
      return age;
   }
   public void setName(String name) {
      this.name = name;
   }
   public String getName() {
      return name;
   }
   public void setId(Integer id) {
      this.id = id;
   }
   public Integer getId() {
      return id;
   }
}
</pre>
<p>Following is the content of the <b>StudentMapper.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.sql.ResultSet;
import java.sql.SQLException;
import org.springframework.jdbc.core.RowMapper;

public class StudentMapper implements RowMapper&lt;Student&gt; {
   public Student mapRow(ResultSet rs, int rowNum) throws SQLException {
      Student student = new Student();
      student.setId(rs.getInt("id"));
      student.setName(rs.getString("name"));
      student.setAge(rs.getInt("age"));
      return student;
   }
}
</pre>
<p>Following is the implementation class file <b>StudentJDBCTemplate.java</b> for the defined DAO interface StudentDAO.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;
import javax.sql.DataSource;
import org.springframework.jdbc.core.JdbcTemplate;

public class StudentJDBCTemplate implements StudentDAO {
   private DataSource dataSource;
   private JdbcTemplate jdbcTemplateObject;
   
   public void setDataSource(DataSource dataSource) {
      this.dataSource = dataSource;
      this.jdbcTemplateObject = new JdbcTemplate(dataSource);
   }
   public void update(Integer id, Integer age){
      String SQL = "update Student set age = ? where id = ?";
      jdbcTemplateObject.update(SQL, age, id);
      System.out.println("Updated Record with ID = " + id );
      return;
   }
   public Student getStudent(Integer id) {
      String SQL = "select * from Student where id = ?";
      Student student = jdbcTemplateObject.queryForObject(
         SQL, new Object[]{id}, new StudentMapper());
      
      return student;
   }
}
</pre>
<p>Following is the content of the <b>MainApp.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;

import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;
import com.tutorialspoint.StudentJDBCTemplate;

public class MainApp {
   public static void main(String[] args) {
      ApplicationContext context = new ClassPathXmlApplicationContext("Beans.xml");
      StudentJDBCTemplate studentJDBCTemplate = 
         (StudentJDBCTemplate)context.getBean("studentJDBCTemplate");
      
      System.out.println("----Updating Record with ID = 2 -----" );
      studentJDBCTemplate.update(2, 20);
      
      System.out.println("----Listing Record with ID = 2 -----" );
      Student student = studentJDBCTemplate.getStudent(2);
      System.out.print("ID : " + student.getId() );
      System.out.print(", Name : " + student.getName() );
      System.out.println(", Age : " + student.getAge());  
   }
}
</pre> 
<p>Following is the configuration file <b>Beans.xml</b>.</p> 
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;beans xmlns = "http://www.springframework.org/schema/beans"
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance" 
   xsi:schemaLocation = "http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd "&gt;

   &lt;!-- Initialization for data source --&gt;
   &lt;bean id = "dataSource" 
      class = "org.springframework.jdbc.datasource.DriverManagerDataSource"&gt;
      &lt;property name = "driverClassName" value = "com.mysql.jdbc.Driver"/&gt;
      &lt;property name = "url" value = "jdbc:mysql://localhost:3306/TEST"/&gt;
      &lt;property name = "username" value = "root"/&gt;
      &lt;property name = "password" value = "admin"/&gt;
   &lt;/bean&gt;

   &lt;!-- Definition for studentJDBCTemplate bean --&gt;
   &lt;bean id = "studentJDBCTemplate" 
      class = "com.tutorialspoint.StudentJDBCTemplate"&gt;
      &lt;property name = "dataSource" ref = "dataSource" /&gt;    
   &lt;/bean&gt;
      
&lt;/beans&gt;
</pre> 
<p>Once you are done creating the source and bean configuration files, let us run the application. If everything is fine with your application, it will print the following message.</p>
<pre class="result notranslate">
----Updating Record with ID = 2 -----
Updated Record with ID = 2
----Listing Record with ID = 2 -----
ID : 2, Name : Nuha, Age : 20
</pre>
<h1>Spring JDBC - Delete Query</h1>
<p>The following example will demonstrate how to delete a query using Spring JDBC. We'll delete one of the available records in Student Table.</p>
<h2>Syntax</h2>
<pre class="result notranslate">
String deleteQuery = "delete from Student where id = ?";
jdbcTemplateObject.update(deleteQuery, id);
</pre>
<p>Where,</p>
<ul class="list">
<li><p><b>deleteQuery</b> &minus; Delete query to delete student with placeholders.</p></li>
<li><p><b>jdbcTemplateObject</b> &minus; StudentJDBCTemplate object to delete student object in the database.</p></li>
</ul>
<p>To understand the above-mentioned concepts related to Spring JDBC, let us write an example which will delete a query. To write our example, let us have a working Eclipse IDE in place and use the following steps to create a Spring application.</p>
<table class="table table-bordered">
<tr>
<th style="text-align:center">Step</th>
<th style="text-align:center;">Description</th>
</tr>
<tr>
<td class="ts">1</td>
<td>Update the project <i>Student</i> created under chapter <a href="/springjdbc/springjdbc_first_application.htm"><i>Spring JDBC - First Application</i></a>.</td>
</tr>
<tr>
<td class="ts">2</td>
<td>Update the bean configuration and run the application as explained below.</td>
</tr>
</table>
<p>Following is the content of the Data Access Object interface file <b>StudentDAO.java</b>.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;
import javax.sql.DataSource;

public interface StudentDAO {
   /** 
      * This is the method to be used to initialize
      * database resources ie. connection.
   */
   public void setDataSource(DataSource ds);
   
   /** 
      * This is the method to be used to list down
      * all the records from the Student table.
   */
   public List&lt;Student&gt; listStudents();
   
   /** 
      * This is the method to be used to delete
      * a record from the Student table corresponding
      * to a passed student id.
   */
   public void delete(Integer id); 
}
</pre>
<p>Following is the content of the <b>Student.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

public class Student {
   private Integer age;
   private String name;
   private Integer id;

   public void setAge(Integer age) {
      this.age = age;
   }
   public Integer getAge() {
      return age;
   }
   public void setName(String name) {
      this.name = name;
   }
   public String getName() {
      return name;
   }
   public void setId(Integer id) {
      this.id = id;
   }
   public Integer getId() {
      return id;
   }
}
</pre>
<p>Following is the content of the <b>StudentMapper.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.sql.ResultSet;
import java.sql.SQLException;
import org.springframework.jdbc.core.RowMapper;

public class StudentMapper implements RowMapper&lt;Student&gt; {
   public Student mapRow(ResultSet rs, int rowNum) throws SQLException {
      Student student = new Student();
      student.setId(rs.getInt("id"));
      student.setName(rs.getString("name"));
      student.setAge(rs.getInt("age"));
      return student;
   }
}
</pre>
<p>Following is the implementation class file <b>StudentJDBCTemplate.java</b> for the defined DAO interface StudentDAO.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;
import javax.sql.DataSource;
import org.springframework.jdbc.core.JdbcTemplate;

public class StudentJDBCTemplate implements StudentDAO {
   private DataSource dataSource;
   private JdbcTemplate jdbcTemplateObject;
   
   public void setDataSource(DataSource dataSource) {
      this.dataSource = dataSource;
      this.jdbcTemplateObject = new JdbcTemplate(dataSource);
   }
   public List&lt;Student&gt; listStudents() {
      String SQL = "select * from Student";
      List &lt;Student&gt; students = jdbcTemplateObject.query(SQL, new StudentMapper());
      return students;
   }
   public void delete(Integer id){
      String SQL = "delete from Student where id = ?";
      jdbcTemplateObject.update(SQL, id);
      System.out.println("Deleted Record with ID = " + id );
      return;
   }
}
</pre>
<p>Following is the content of the <b>MainApp.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;

import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;
import com.tutorialspoint.StudentJDBCTemplate;

public class MainApp {
   public static void main(String[] args) {
      ApplicationContext context = new ClassPathXmlApplicationContext("Beans.xml");
      StudentJDBCTemplate studentJDBCTemplate = 
         (StudentJDBCTemplate)context.getBean("studentJDBCTemplate");
      
      System.out.println("----Delete Record with ID = 2 -----" );
      studentJDBCTemplate.delete(2);

      System.out.println("------Listing Multiple Records--------" );
      List&lt;Student&gt; students = studentJDBCTemplate.listStudents();
      
      for (Student record : students) {
         System.out.print("ID : " + record.getId() );
         System.out.print(", Name : " + record.getName() );
         System.out.println(", Age : " + record.getAge());
      }     
   }
}
</pre> 
<p>Following is the configuration file <b>Beans.xml</b>.</p> 
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;beans xmlns = "http://www.springframework.org/schema/beans"
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance" 
   xsi:schemaLocation = "http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd "&gt;

   &lt;!-- Initialization for data source --&gt;
   &lt;bean id = "dataSource" 
      class = "org.springframework.jdbc.datasource.DriverManagerDataSource"&gt;
      &lt;property name = "driverClassName" value = "com.mysql.jdbc.Driver"/&gt;
      &lt;property name = "url" value = "jdbc:mysql://localhost:3306/TEST"/&gt;
      &lt;property name = "username" value = "root"/&gt;
      &lt;property name = "password" value = "admin"/&gt;
   &lt;/bean&gt;

   &lt;!-- Definition for studentJDBCTemplate bean --&gt;
   &lt;bean id = "studentJDBCTemplate" 
      class = "com.tutorialspoint.StudentJDBCTemplate"&gt;
      &lt;property name = "dataSource"  ref = "dataSource" /&gt;    
   &lt;/bean&gt;
      
&lt;/beans&gt;
</pre> 
<p>Once you are done creating the source and bean configuration files, let us run the application. If everything is fine with your application, it will print the following message.</p>
<pre class="result notranslate">
----Updating Record with ID = 2 -----
Updated Record with ID = 2
----Listing Record with ID = 2 -----
ID : 2, Name : Nuha, Age : 20
</pre>
<h1>Spring JDBC - Calling Stored Procedure</h1>
<p>Following example will demonstrate how to call a stored procedure using Spring JDBC. We'll read one of the available records in Student Table by calling a stored procedure. We'll pass an id and receive a student record.</p>
<h2>Syntax</h2>
<pre class="result notranslate">
SimpleJdbcCall jdbcCall = new SimpleJdbcCall(dataSource).withProcedureName("getRecord");
SqlParameterSource in = new MapSqlParameterSource().addValue("in_id", id);
Map&lt;String, Object&gt; out = jdbcCall.execute(in);

Student student = new Student();
student.setId(id);
student.setName((String) out.get("out_name"));
student.setAge((Integer) out.get("out_age"));
</pre>
<p>Where,</p>
<ul class="list">
<li><p><b>jdbcCall</b> &minus; SimpleJdbcCall object to represent a stored procedure.</p></li>
<li><p><b>in</b> &minus; SqlParameterSource object to pass a parameter to a stored procedure.</p></li>
<li><p><b>student</b> &minus; Student object.</p></li>
<li><p><b>out</b> &minus; Map object to represent the output of stored procedure call result.</p></li>
</ul>
<p>The <b>SimpleJdbcCall</b> class can be used to call a stored procedure with IN and OUT parameters. You can use this approach while working with either of the RDBMS such as Apache Derby, DB2, MySQL, Microsoft SQL Server, Oracle, and Sybase.</p>
<p>To understand the approach, consider the following MySQL stored procedure, which takes student Id and returns the corresponding student's name and age using OUT parameters. Let us create this stored procedure in TEST database using MySQL command prompt &minus;</p>
<pre class="prettyprint notranslate">
DELIMITER $$

DROP PROCEDURE IF EXISTS `TEST`.`getRecord` $$
CREATE PROCEDURE `TEST`.`getRecord` (
IN in_id INTEGER,
OUT out_name VARCHAR(20),
OUT out_age  INTEGER)
BEGIN
   SELECT name, age
   INTO out_name, out_age
   FROM Student where id = in_id;
END $$

DELIMITER ;
</pre>
<p>To understand the above-mentioned concepts related to Spring JDBC, let us write an example which will call a stored procedure. To write our example, let us have a working Eclipse IDE in place and use the following steps to create a Spring application.</p>
<table class="table table-bordered">
<tr>
<th style="text-align:center;">Step</th>
<th style="text-align:center;">Description</th>
</tr>
<tr>
<td class="ts">1</td>
<td>Update the project <i>Student</i> created under chapter <a href="/springjdbc/springjdbc_first_application.htm"><i>Spring JDBC - First Application</i></a>.</td>
</tr>
<tr>
<td class="ts">2</td>
<td>Update the bean configuration and run the application as explained below.</td>
</tr>
</table>
<p>Following is the content of the Data Access Object interface file <b>StudentDAO.java</b>.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;
import javax.sql.DataSource;

public interface StudentDAO {
   /** 
      * This is the method to be used to initialize
      * database resources ie. connection.
   */
   public void setDataSource(DataSource ds);
   
   /** 
      * This is the method to be used to list down
      * a record from the Student table corresponding
      * to a passed student id.
   */
   public Student getStudent(Integer id);  
}
</pre>
<p>Following is the content of the <b>Student.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

public class Student {
   private Integer age;
   private String name;
   private Integer id;

   public void setAge(Integer age) {
      this.age = age;
   }
   public Integer getAge() {
      return age;
   }
   public void setName(String name) {
      this.name = name;
   }
   public String getName() {
      return name;
   }
   public void setId(Integer id) {
      this.id = id;
   }
   public Integer getId() {
      return id;
   }
}
</pre>
<p>Following is the content of the <b>StudentMapper.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.sql.ResultSet;
import java.sql.SQLException;
import org.springframework.jdbc.core.RowMapper;

public class StudentMapper implements RowMapper&lt;Student&gt; {
   public Student mapRow(ResultSet rs, int rowNum) throws SQLException {
      Student student = new Student();
      student.setId(rs.getInt("id"));
      student.setName(rs.getString("name"));
      student.setAge(rs.getInt("age"));
      return student;
   }
}
</pre>
<p>Following is the implementation class file <b>StudentJDBCTemplate.java</b> for the defined DAO interface StudentDAO.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;
import javax.sql.DataSource;

import org.springframework.jdbc.core.JdbcTemplate;
import org.springframework.jdbc.core.namedparam.MapSqlParameterSource;
import org.springframework.jdbc.core.namedparam.SqlParameterSource;
import org.springframework.jdbc.core.simple.SimpleJdbcCall;

public class StudentJDBCTemplate implements StudentDAO {
   private DataSource dataSource;
   private JdbcTemplate jdbcTemplateObject;
   
   public void setDataSource(DataSource dataSource) {
      this.dataSource = dataSource;
      this.jdbcTemplateObject = new JdbcTemplate(dataSource);
   }
   public Student getStudent(Integer id) {
      SimpleJdbcCall jdbcCall = new 
         SimpleJdbcCall(dataSource).withProcedureName("getRecord");

      SqlParameterSource in = new MapSqlParameterSource().addValue("in_id", id);
      Map&lt;String, Object&gt; out = jdbcCall.execute(in);

      Student student = new Student();
      student.setId(id);
      student.setName((String) out.get("out_name"));
      student.setAge((Integer) out.get("out_age"));
      return student;      
   }
}
</pre>
<p>The code you write for the execution of the call involves creating an SqlParameterSource containing the IN parameter. It's important to match the name provided for the input value with that of the parameter name declared in the stored procedure. The execute method takes the IN parameters and returns a Map containing any out parameters keyed by the name as specified in the stored procedure.</p>
<p>Following is the content of the <b>MainApp.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;

import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;
import com.tutorialspoint.StudentJDBCTemplate;

public class MainApp {
   public static void main(String[] args) {
      ApplicationContext context = new ClassPathXmlApplicationContext("Beans.xml");
      StudentJDBCTemplate studentJDBCTemplate = 
         (StudentJDBCTemplate)context.getBean("studentJDBCTemplate");
      
      Student student = studentJDBCTemplate.getStudent(1);
      System.out.print("ID : " + student.getId() );
      System.out.print(", Name : " + student.getName() );
      System.out.println(", Age : " + student.getAge()); 
   }
}
</pre> 
<p>Following is the configuration file <b>Beans.xml</b>.</p> 
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans"
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance" 
   xsi:schemaLocation = "http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd "&gt;

   &lt;!-- Initialization for data source --&gt;
   &lt;bean id = "dataSource" 
      class = "org.springframework.jdbc.datasource.DriverManagerDataSource"&gt;
      &lt;property name = "driverClassName" value = "com.mysql.jdbc.Driver"/&gt;
      &lt;property name = "url" value = "jdbc:mysql://localhost:3306/TEST"/&gt;
      &lt;property name = "username" value = "root"/&gt;
      &lt;property name = "password" value = "admin"/&gt;
   &lt;/bean&gt;

   &lt;!-- Definition for studentJDBCTemplate bean --&gt;
   &lt;bean id = "studentJDBCTemplate" 
      class = "com.tutorialspoint.StudentJDBCTemplate"&gt;
      &lt;property name = "dataSource" ref = "dataSource" /&gt;    
   &lt;/bean&gt;
      
&lt;/beans&gt;
</pre> 
<p>Once you are done creating the source and bean configuration files, let us run the application. If everything is fine with your application, it will print the following message.</p>
<pre class="result notranslate">
ID : 1, Name : Zara, Age : 11
</pre>
<h1>Spring JDBC - Calling Stored Function</h1>
<p>Following example will demonstrate how to call a stored function using Spring JDBC. We'll read one of the available records in Student Table by calling a stored function. We'll pass an id and receive a student name.</p>
<h2>Syntax</h2>
<pre class="result notranslate">
SimpleJdbcCall jdbcCall = new 
   SimpleJdbcCall(dataSource).withFunctionName("get_student_name");

SqlParameterSource in = new MapSqlParameterSource().addValue("in_id", id);
String name = jdbcCall.executeFunction(String.class, in);

Student student = new Student();
student.setId(id);
student.setName(name);
</pre>
<p>Where,</p>
<ul class="list">
<li><p><b>in</b> &minus; SqlParameterSource object to pass a parameter to a stored function.</p></li>
<li><p><b>jdbcCall</b> &minus; SimpleJdbcCall object to represent a stored function.</p></li>
<li><p><b>jdbcTemplateObject</b> &minus; StudentJDBCTemplate object to called stored function from database.</p></li>
<li><p><b>student</b> &minus; Student object.</p></li>
</ul>
<p>The <b>SimpleJdbcCall</b> class can be used to call a stored function with IN parameter and a return value. You can use this approach while working with either of the RDBMS such as Apache Derby, DB2, MySQL, Microsoft SQL Server, Oracle, and Sybase.</p>
<p>To understand the approach, consider the following MySQL stored procedure, which takes student Id and returns the corresponding student's name. So let us create this stored function in your TEST database using MySQL command prompt &minus;</p>
<pre class="prettyprint notranslate">
DELIMITER $$

DROP FUNCTION IF EXISTS `TEST`.`get_student_name` $$
CREATE FUNCTION `get_student_name` (in_id INTEGER)
RETURNS varchar(200)
BEGIN
DECLARE out_name VARCHAR(200);
   SELECT name
   INTO out_name
   FROM Student where id = in_id;

RETURN out_name;

DELIMITER ;
</pre>
<p>To understand the above-mentioned concepts related to Spring JDBC, let us write an example which will call a stored function. To write our example, let us have a working Eclipse IDE in place and use the following steps to create a Spring application.</p>
<table class="table table-bordered">
<tr>
<th style="text-align:center;">Step</th>
<th style="text-align:center;">Description</th>
</tr>
<tr>
<td class="ts">1</td>
<td>Update the project <i>Student</i> created under chapter <a href="/springjdbc/springjdbc_first_application.htm"><i>Spring JDBC - First Application</i></a>.</td>
</tr>
<tr>
<td class="ts">2</td>
<td>Update the bean configuration and run the application as explained below.</td>
</tr>
</table>
<p>Following is the content of the Data Access Object interface file <b>StudentDAO.java</b>.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;
import javax.sql.DataSource;

public interface StudentDAO {
   /** 
      * This is the method to be used to initialize
      * database resources ie. connection.
   */
   public void setDataSource(DataSource ds);
   
   /** 
      * This is the method to be used to list down
      * a record from the Student table corresponding
      * to a passed student id.
   */
   public Student getStudent(Integer id);  
}
</pre>
<p>Following is the content of the <b>Student.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

public class Student {
   private Integer age;
   private String name;
   private Integer id;

   public void setAge(Integer age) {
      this.age = age;
   }
   public Integer getAge() {
      return age;
   }
   public void setName(String name) {
      this.name = name;
   }
   public String getName() {
      return name;
   }
   public void setId(Integer id) {
      this.id = id;
   }
   public Integer getId() {
      return id;
   }
}
</pre>
<p>Following is the content of the <b>StudentMapper.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.sql.ResultSet;
import java.sql.SQLException;
import org.springframework.jdbc.core.RowMapper;

public class StudentMapper implements RowMapper&lt;Student&gt; {
   public Student mapRow(ResultSet rs, int rowNum) throws SQLException {
      Student student = new Student();
      student.setId(rs.getInt("id"));
      student.setName(rs.getString("name"));
      student.setAge(rs.getInt("age"));
      return student;
   }
}
</pre>
<p>Following is the implementation class file <b>StudentJDBCTemplate.java</b> for the defined DAO interface StudentDAO.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;
import javax.sql.DataSource;

import org.springframework.jdbc.core.JdbcTemplate;
import org.springframework.jdbc.core.namedparam.MapSqlParameterSource;
import org.springframework.jdbc.core.namedparam.SqlParameterSource;
import org.springframework.jdbc.core.simple.SimpleJdbcCall;

public class StudentJDBCTemplate implements StudentDAO {
   private DataSource dataSource;
   private JdbcTemplate jdbcTemplateObject;
   
   public void setDataSource(DataSource dataSource) {
      this.dataSource = dataSource;
      this.jdbcTemplateObject = new JdbcTemplate(dataSource);
   }
   public Student getStudent(Integer id) {
      SimpleJdbcCall jdbcCall = new 
         SimpleJdbcCall(dataSource).withFunctionName("get_student_name");
	   
      SqlParameterSource in = new MapSqlParameterSource().addValue("in_id", id);
      String name = jdbcCall.executeFunction(String.class, in);
      Student student = new Student();
      student.setId(id);
      student.setName(name);
      return student;      
   }
}
</pre>
<p>The code you write for the execution of the call involves creating an SqlParameterSource containing the IN parameter. It's important to match the name provided for the input value with that of the parameter name declared in the stored function. The executeFunction method takes the IN parameters and returns a String as specified in the stored function.</p>
<p>Following is the content of the <b>MainApp.java</b> file</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;

import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;
import com.tutorialspoint.StudentJDBCTemplate;

public class MainApp {
   public static void main(String[] args) {
      ApplicationContext context = new ClassPathXmlApplicationContext("Beans.xml");

      StudentJDBCTemplate studentJDBCTemplate = 
         (StudentJDBCTemplate)context.getBean("studentJDBCTemplate");
      
      Student student = studentJDBCTemplate.getStudent(1);
      System.out.print("ID : " + student.getId() );
      System.out.print(", Name : " + student.getName() );
   }
}
</pre> 
<p>Following is the configuration file <b>Beans.xml</b>.</p> 
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;beans xmlns = "http://www.springframework.org/schema/beans"
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance" 
   xsi:schemaLocation = "http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd "&gt;

   &lt;!-- Initialization for data source --&gt;
   &lt;bean id = "dataSource" 
      class = "org.springframework.jdbc.datasource.DriverManagerDataSource"&gt;
      &lt;property name = "driverClassName" value = "com.mysql.jdbc.Driver"/&gt;
      &lt;property name = "url" value = "jdbc:mysql://localhost:3306/TEST"/&gt;
      &lt;property name = "username" value = "root"/&gt;
      &lt;property name = "password" value = "admin"/&gt;
   &lt;/bean&gt;

   &lt;!-- Definition for studentJDBCTemplate bean --&gt;
   &lt;bean id = "studentJDBCTemplate" 
      class = "com.tutorialspoint.StudentJDBCTemplate"&gt;
      &lt;property name = "dataSource" ref = "dataSource" /&gt;    
   &lt;/bean&gt;
      
&lt;/beans&gt;
</pre> 
<p>Once you are done creating the source and bean configuration files, let us run the application. If everything is fine with your application, it will print the following message.</p>
<pre class="result notranslate">
ID : 1, Name : Zara
</pre>
<h1>Spring JDBC - Handling BLOB</h1>
<p>Following example will demonstrate how to update a BLOB using an Update Query with the help of Spring JDBC. We'll update the available records in Student Table.</p>
<h2>Student Table</h2>
<pre class="prettyprint notranslate">
CREATE TABLE Student(
   ID INT NOT NULL AUTO_INCREMENT,
   NAME VARCHAR(20) NOT NULL,
   AGE INT NOT NULL,
   IMAGE BLOB,
   PRIMARY KEY (ID)
);
</pre>
<h2>Syntax</h2>
<pre class="result notranslate">
MapSqlParameterSource in = new MapSqlParameterSource();
in.addValue("id", id);
in.addValue("image",  new SqlLobValue(new ByteArrayInputStream(imageData), 
   imageData.length, new DefaultLobHandler()), Types.BLOB);

String SQL = "update Student set image = :image where id = :id";
NamedParameterJdbcTemplate jdbcTemplateObject = new NamedParameterJdbcTemplate(dataSource);
jdbcTemplateObject.update(SQL, in);
</pre>
<p>Where,</p>
<ul class="list">
<li><p><b>in</b> &minus; SqlParameterSource object to pass a parameter to update a query.</p></li>
<li><p><b>SqlLobValue</b> &minus; Object to represent an SQL BLOB/CLOB value parameter.</p></li>
<li><p><b>jdbcTemplateObject</b> &minus; NamedParameterJdbcTemplate object to update student object in database.</p></li>
</ul>
<p>To understand the above-mentioned concepts related to Spring JDBC, let us write an example which will update a query. To write our example, let us have a working Eclipse IDE in place and use the following steps to create a Spring application.</p>
<table class="table table-bordered">
<tr>
<th style="text-align:center;">Step</th>
<th style="text-align:center;">Description</th>
</tr>
<tr>
<td class="ts">1</td>
<td>Update the project <i>Student</i> created under chapter <a href="/springjdbc/springjdbc_first_application.htm"><i>Spring JDBC - First Application</i></a>.</td>
</tr>
<tr>
<td class="ts">2</td>
<td>Update the bean configuration and run the application as explained below.</td>
</tr>
</table>
<p>Following is the content of the Data Access Object interface file <b>StudentDAO.java</b>.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;
import javax.sql.DataSource;

public interface StudentDAO {
   /** 
      * This is the method to be used to initialize
      * database resources ie. connection.
   */
   public void setDataSource(DataSource ds);
   
   /** 
      * This is the method to be used to update
      * a record into the Student table.
   */
   public void updateImage(Integer id, byte[] imageData);
}
</pre>
<p>Following is the content of the <b>Student.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

public class Student {
   private Integer age;
   private String name;
   private Integer id;
   private byte[] image;

   public void setAge(Integer age) {
      this.age = age;
   }
   public Integer getAge() {
      return age;
   }
   public void setName(String name) {
      this.name = name;
   }
   public String getName() {
      return name;
   }
   public void setId(Integer id) {
      this.id = id;
   }
   public Integer getId() {
      return id;
   }
   public byte[] getImage() {
      return image;
   }
   public void setImage(byte[] image) {
      this.image = image;
   }
}
</pre>
<p>Following is the content of the <b>Student.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.sql.ResultSet;
import java.sql.SQLException;
import org.springframework.jdbc.core.RowMapper;

public class StudentMapper implements RowMapper&lt;Student&gt; {
   public Student mapRow(ResultSet rs, int rowNum) throws SQLException {
      Student student = new Student();
      student.setId(rs.getInt("id"));
      student.setName(rs.getString("name"));
      student.setAge(rs.getInt("age"));
      student.setImage(rs.getBytes("image"));
      return student;
   }
}
</pre>
<p>Following is the implementation class file <b>StudentJDBCTemplate.java</b> for the defined DAO interface StudentDAO.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;
import javax.sql.DataSource;

import org.springframework.jdbc.core.JdbcTemplate;
import org.springframework.jdbc.core.namedparam.MapSqlParameterSource;
import org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate;
import org.springframework.jdbc.core.namedparam.SqlParameterSource;
import org.springframework.jdbc.core.simple.SimpleJdbcCall;
import org.springframework.jdbc.core.support.SqlLobValue;
import org.springframework.jdbc.support.lob.DefaultLobHandler;

import java.io.ByteArrayInputStream;
import java.sql.Types;

public class StudentJDBCTemplate implements StudentDAO {
   private DataSource dataSource;
   private JdbcTemplate jdbcTemplateObject;
   
   public void setDataSource(DataSource dataSource) {
      this.dataSource = dataSource;
   }
   public void updateImage(Integer id, byte[] imageData) {
      MapSqlParameterSource in = new MapSqlParameterSource();
      in.addValue("id", id);
      in.addValue("image",  new SqlLobValue(new ByteArrayInputStream(imageData), 
         imageData.length, new DefaultLobHandler()), Types.BLOB);

      String SQL = "update Student set image = :image where id = :id";
      NamedParameterJdbcTemplate jdbcTemplateObject = new 
         NamedParameterJdbcTemplate(dataSource);
      
      jdbcTemplateObject.update(SQL, in);
      System.out.println("Updated Record with ID = " + id );
   }
}
</pre>
<p>Following is the content of the <b>MainApp.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;

import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;
import com.tutorialspoint.StudentJDBCTemplate;

public class MainApp {
   public static void main(String[] args) {
      ApplicationContext context = new ClassPathXmlApplicationContext("Beans.xml");
      StudentJDBCTemplate studentJDBCTemplate = 
         (StudentJDBCTemplate)context.getBean("studentJDBCTemplate");
      
      byte[] imageData = {0,1,0,8,20,40,95};
      studentJDBCTemplate.updateImage(1, imageData);  
   }
}
</pre> 
<p>Following is the configuration file <b>Beans.xml</b>.</p> 
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans"
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance" 
   xsi:schemaLocation = "http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd "&gt;

   &lt;!-- Initialization for data source --&gt;
   &lt;bean id = "dataSource" 
      class = "org.springframework.jdbc.datasource.DriverManagerDataSource"&gt;
      &lt;property name = "driverClassName" value = "com.mysql.jdbc.Driver"/&gt;
      &lt;property name = "url" value = "jdbc:mysql://localhost:3306/TEST"/&gt;
      &lt;property name = "username" value = "root"/&gt;
      &lt;property name = "password" value = "admin"/&gt;
   &lt;/bean&gt;

   &lt;!-- Definition for studentJDBCTemplate bean --&gt;
   &lt;bean id = "studentJDBCTemplate" 
      class = "com.tutorialspoint.StudentJDBCTemplate"&gt;
      &lt;property name = "dataSource" ref = "dataSource" /&gt;    
   &lt;/bean&gt;
      
&lt;/beans&gt;
</pre> 
<p>Once you are done creating the source and bean configuration files, let us run the application. If everything is fine with your application, it will print the following message.</p>
<pre class="result notranslate">
Updated Record with ID = 1
</pre>
<p>You can check the byte[] stored by querying the database.</p>
<h1>Spring JDBC - Handling CLOB</h1>
<p>Following example will demonstrate how to update a CLOB using an Update Query with the help of Spring JDBC. We'll update the available records in Student Table.</p>
<h2>Student Table</h2>
<pre class="prettyprint notranslate">
CREATE TABLE Student(
   ID   INT NOT NULL AUTO_INCREMENT,
   NAME VARCHAR(20) NOT NULL,
   AGE  INT NOT NULL,
   DESCRIPTION LONGTEXT,
   PRIMARY KEY (ID)
);
</pre>
<h2>Syntax</h2>
<pre class="result notranslate">
MapSqlParameterSource in = new MapSqlParameterSource();
in.addValue("id", id);
in.addValue("description",  new SqlLobValue(
   description, new DefaultLobHandler()), Types.CLOB);

String SQL = "update Student set description = :description where id = :id";
NamedParameterJdbcTemplate jdbcTemplateObject = new NamedParameterJdbcTemplate(dataSource);

jdbcTemplateObject.update(SQL, in);
</pre>
<p>Where,</p>
<ul class="list">
<li><p><b>in</b> &minus; SqlParameterSource object to pass a parameter to update a query.</p></li>
<li><p><b>SqlLobValue</b> &minus; Object to represent an SQL BLOB/CLOB value parameter.</p></li>
<li><p><b>jdbcTemplateObject</b> &minus; NamedParameterJdbcTemplate object to update student object in the database.</p></li>
</ul>
<p>To understand the above-mentioned concepts related to Spring JDBC, let us write an example, which will update a query. To write our example, let us have a working Eclipse IDE in place and use the following steps to create a Spring application.</p>
<table class="table table-bordered">
<tr>
<th style="text-align:center;">Step</th>
<th style="text-align:center;">Description</th>
</tr>
<tr>
<td class="ts">1</td>
<td>Update the project <i>Student</i> created under chapter <a href="/springjdbc/springjdbc_first_application.htm"><i>Spring JDBC - First Application</i></a>.</td>
</tr>
<tr>
<td class="ts">2</td>
<td>Update the bean configuration and run the application as explained below.</td>
</tr>
</table>
<p>Following is the content of the Data Access Object interface file <b>StudentDAO.java</b>.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;
import javax.sql.DataSource;

public interface StudentDAO {
   /** 
      * This is the method to be used to initialize
      * database resources ie. connection.
   */
   public void setDataSource(DataSource ds);
   
   /** 
      * This is the method to be used to update
      * a record into the Student table.
   */
   public void updateDescription(Integer id, String description);
}
</pre>
<p>Following is the content of the <b>Student.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

public class Student {
   private Integer age;
   private String name;
   private Integer id;
   private String description;

   public void setAge(Integer age) {
      this.age = age;
   }
   public Integer getAge() {
      return age;
   }
   public void setName(String name) {
      this.name = name;
   }
   public String getName() {
      return name;
   }
   public void setId(Integer id) {
      this.id = id;
   }
   public Integer getId() {
      return id;
   }
   public String getDescription() {
      return description;
   }
   public void setDescription(String description) {
      this.description = description;
   }
}
</pre>
<p>Following is the content of the <b>StudentMapper.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.sql.ResultSet;
import java.sql.SQLException;
import org.springframework.jdbc.core.RowMapper;

public class StudentMapper implements RowMapper&lt;Student&gt; {
   public Student mapRow(ResultSet rs, int rowNum) throws SQLException {
      Student student = new Student();
      student.setId(rs.getInt("id"));
      student.setName(rs.getString("name"));
      student.setAge(rs.getInt("age"));
      student.setDescription(rs.getString("description"));
      return student;
   }
}
</pre>
<p>Following is the implementation class file <b>StudentJDBCTemplate.java</b> for the defined DAO interface StudentDAO.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;
import javax.sql.DataSource;

import org.springframework.jdbc.core.JdbcTemplate;
import org.springframework.jdbc.core.namedparam.MapSqlParameterSource;
import org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate;
import org.springframework.jdbc.core.namedparam.SqlParameterSource;
import org.springframework.jdbc.core.simple.SimpleJdbcCall;
import org.springframework.jdbc.core.support.SqlLobValue;
import org.springframework.jdbc.support.lob.DefaultLobHandler;

import java.io.ByteArrayInputStream;
import java.sql.Types;

public class StudentJDBCTemplate implements StudentDAO {
   private DataSource dataSource;
   private JdbcTemplate jdbcTemplateObject;
   
   public void setDataSource(DataSource dataSource) {
      this.dataSource = dataSource;
   }
   public void updateDescription(Integer id, String description) {
      MapSqlParameterSource in = new MapSqlParameterSource();
      in.addValue("id", id);
      in.addValue("description",  new SqlLobValue(description, 
         new DefaultLobHandler()), Types.CLOB);

      String SQL = "update Student set description = :description where id = :id";
      NamedParameterJdbcTemplate jdbcTemplateObject = new 
         NamedParameterJdbcTemplate(dataSource);
      
      jdbcTemplateObject.update(SQL, in);
      System.out.println("Updated Record with ID = " + id );
   }
}
</pre>
<p>Following is the content of the <b>MainApp.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;

import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;
import com.tutorialspoint.StudentJDBCTemplate;

public class MainApp {
   public static void main(String[] args) {
      ApplicationContext context = new ClassPathXmlApplicationContext("Beans.xml");
      StudentJDBCTemplate studentJDBCTemplate = 
         (StudentJDBCTemplate)context.getBean("studentJDBCTemplate");
      
      studentJDBCTemplate.updateDescription(1, 
         "This can be a very long text upto 4 GB of size."); 
   }
}
</pre> 
<p>Following is the configuration file <b>Beans.xml</b>.</p> 
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;beans xmlns = "http://www.springframework.org/schema/beans"
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance" 
   xsi:schemaLocation = "http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd "&gt;

   &lt;!-- Initialization for data source --&gt;
   &lt;bean id = "dataSource" 
      class = "org.springframework.jdbc.datasource.DriverManagerDataSource"&gt;
      &lt;property name = "driverClassName" value = "com.mysql.jdbc.Driver"/&gt;
      &lt;property name = "url" value = "jdbc:mysql://localhost:3306/TEST"/&gt;
      &lt;property name = "username" value = "root"/&gt;
      &lt;property name = "password" value = "admin"/&gt;
   &lt;/bean&gt;

   &lt;!-- Definition for studentJDBCTemplate bean --&gt;
   &lt;bean id = "studentJDBCTemplate" 
      class = "com.tutorialspoint.StudentJDBCTemplate"&gt;
      &lt;property name = "dataSource" ref = "dataSource" /&gt;    
   &lt;/bean&gt;
      
&lt;/beans&gt;
</pre> 
<p>Once you are done creating the source and bean configuration files, let us run the application. If everything is fine with your application, it will print the following message.</p>
<pre class="result notranslate">
Updated Record with ID = 1
</pre>
<p>You can check the description stored by querying the database.</p>
<h1>Spring JDBC - Batch Operation</h1>
<p>Following example will demonstrate how to make a batch update using Spring JDBC. We'll update the available records in Student table in a single batch operation.</p>
<h2>Syntax</h2>
<pre class="result notranslate">
String SQL = "update Student set age = ? where id = ?";
int[] updateCounts = jdbcTemplateObject.batchUpdate(SQL,
   new BatchPreparedStatementSetter() {
   
   public void setValues(PreparedStatement ps, int i) throws SQLException {
      ps.setInt(1, students.get(i).getAge());						
      ps.setInt(2, students.get(i).getId());	
   }
   public int getBatchSize() {
      return students.size();
   }
}); 
</pre>
<p>Where,</p>
<ul class="list">
<li><p><b>SQL</b> &minus; Update query to update student's age.</p></li>
<li><p><b>jdbcTemplateObject</b> &minus; StudentJDBCTemplate object to update student object in database.</p></li>
<li><p><b>BatchPreparedStatementSetter</b> &minus; Batch executor, set values in PerparedStatement per item identified by list of objects student and index i. getBatchSize() returns the size of the batch.</p></li>
<li><p><b>updateCounts</b> &minus; Int array containing updated row count per update query.</p></li>
</ul>
<p>To understand the above-mentioned concepts related to Spring JDBC, let us write an example which will update a batch operation. To write our example, let us have a working Eclipse IDE in place and use the following steps to create a Spring application.</p>
<table class="table table-bordered">
<tr>
<th style="text-align:center;">Step</th>
<th style="text-align:center;">Description</th>
</tr>
<tr>
<td class="ts">1</td>
<td>Update the project <i>Student</i> created under chapter <a href="/springjdbc/springjdbc_first_application.htm"><i>Spring JDBC - First Application</i></a>.</td>
</tr>
<tr>
<td class="ts">2</td>
<td>Update the bean configuration and run the application as explained below.</td>
</tr>
</table>
<p>Following is the content of the Data Access Object interface file <b>StudentDAO.java</b>.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;
import javax.sql.DataSource;

public interface StudentDAO {
   /** 
      * This is the method to be used to initialize
      * database resources ie. connection.
   */
   public void setDataSource(DataSource ds);
   
   /** 
      * This is the method to be used to list down
      * all the records from the Student table.
   */
   public List&lt;Student&gt; listStudents();  

   public void batchUpdate(final List&lt;Student&gt; students);
}
</pre>
<p>Following is the content of the <b>Student.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

public class Student {
   private Integer age;
   private String name;
   private Integer id;

   public void setAge(Integer age) {
      this.age = age;
   }
   public Integer getAge() {
      return age;
   }
   public void setName(String name) {
      this.name = name;
   }
   public String getName() {
      return name;
   }
   public void setId(Integer id) {
      this.id = id;
   }
   public Integer getId() {
      return id;
   }
}
</pre>
<p>Following is the content of the <b>StudentMapper.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.sql.ResultSet;
import java.sql.SQLException;
import org.springframework.jdbc.core.RowMapper;

public class StudentMapper implements RowMapper&lt;Student&gt; {
   public Student mapRow(ResultSet rs, int rowNum) throws SQLException {
      Student student = new Student();
      student.setId(rs.getInt("id"));
      student.setName(rs.getString("name"));
      student.setAge(rs.getInt("age"));
      return student;
   }
}
</pre>
<p>Following is the implementation class file <b>StudentJDBCTemplate.java</b> for the defined DAO interface StudentDAO.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.sql.PreparedStatement;
import java.util.List;
import javax.sql.DataSource;

import org.springframework.jdbc.core.JdbcTemplate;
import org.springframework.jdbc.core.BatchPreparedStatementSetter;
import java.sql.SQLException;

public class StudentJDBCTemplate implements StudentDAO {
   private DataSource dataSource;
   private JdbcTemplate jdbcTemplateObject;
   
   public void setDataSource(DataSource dataSource) {
      this.dataSource = dataSource;
      this.jdbcTemplateObject = new JdbcTemplate(dataSource);
   }
   public List&lt;Student&gt; listStudents() {
      String SQL = "select * from Student";
      List &lt;Student&gt; students = jdbcTemplateObject.query(SQL, 
                                new StudentMapper());
      return students;
   }
   public void batchUpdate(final List&lt;Student&gt; students){
      String SQL = "update Student set age = ? where id = ?";
      int[] updateCounts = jdbcTemplateObject.batchUpdate(SQL,
         new BatchPreparedStatementSetter() {
         
         public void setValues(PreparedStatement ps, int i) throws SQLException {
            ps.setInt(1, students.get(i).getAge());						
            ps.setInt(2, students.get(i).getId());	
         }
         public int getBatchSize() {
            return students.size();
         }
      }); 
      System.out.println("Records updated!");
   }
}
</pre>
<p>Following is the content of the <b>MainApp.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.ArrayList;
import java.util.List;

import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;

public class MainApp {
   public static void main(String[] args) {
      ApplicationContext context = new ClassPathXmlApplicationContext("Beans.xml");

      StudentJDBCTemplate studentJDBCTemplate = 
         (StudentJDBCTemplate)context.getBean("studentJDBCTemplate");

      List&lt;Student&gt; initialStudents = studentJDBCTemplate.listStudents();
      System.out.println("Initial Students");
      
      for(Student student2: initialStudents){
         System.out.print("ID : " + student2.getId() );
         System.out.println(", Age : " + student2.getAge()); 
      }

      Student student = new Student();
      student.setId(1);
      student.setAge(10);

      Student student1 = new Student();
      student1.setId(3);
      student1.setAge(10);

      List&lt;Student&gt; students = new ArrayList&lt;Student>();
      students.add(student);
      students.add(student1);

      studentJDBCTemplate.batchUpdate(students);

      List&lt;Student&gt; updatedStudents = studentJDBCTemplate.listStudents();
      System.out.println("Updated Students");
      
      for(Student student3: updatedStudents){
         System.out.print("ID : " + student3.getId() );
         System.out.println(", Age : " + student3.getAge()); 
      }
   }
}
</pre> 
<p>Following is the configuration file <b>Beans.xml</b>.</p> 
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;beans xmlns = "http://www.springframework.org/schema/beans"
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance" 
   xsi:schemaLocation="http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd "&gt;

   &lt;!-- Initialization for data source --&gt;
   &lt;bean id = "dataSource" 
      class = "org.springframework.jdbc.datasource.DriverManagerDataSource"&gt;
      &lt;property name = "driverClassName" value = "com.mysql.jdbc.Driver"/&gt;
      &lt;property name = "url" value = "jdbc:mysql://localhost:3306/TEST"/&gt;
      &lt;property name = "username" value = "root"/&gt;
      &lt;property name = "password" value = "admin"/&gt;
   &lt;/bean&gt;

   &lt;!-- Definition for studentJDBCTemplate bean --&gt;
   &lt;bean id = "studentJDBCTemplate" 
      class = "com.tutorialspoint.StudentJDBCTemplate"&gt;
      &lt;property name = "dataSource" ref = "dataSource" /&gt;    
   &lt;/bean&gt;
      
&lt;/beans&gt;
</pre> 
<p>Once you are done creating the source and bean configuration files, let us run the application. If everything is fine with your application, it will print the following message.</p>
<pre class="result notranslate">
Initial Students
ID : 1, Age : 11
ID : 3, Age : 15
Records updated!
Updated Students
ID : 1, Age : 10
ID : 3, Age : 10
</pre>
<h1>Spring JDBC - Objects Batch Operation</h1>
<p>Following example will demonstrate how to make a batch update using objects in Spring JDBC. We'll update the available records in Student table in a single batch operation.</p>
<h2>Syntax</h2>
<pre class="result notranslate">
String SQL = "update Student set age = :age where id = :id";
SqlParameterSource[] batch = SqlParameterSourceUtils.createBatch(students.toArray());

NamedParameterJdbcTemplate jdbcTemplateObject = new NamedParameterJdbcTemplate(dataSource);

int[] updateCounts = jdbcTemplateObject.batchUpdate(SQL,batch);
System.out.println("records updated!"); 
</pre>
<p>Where,</p>
<ul class="list">
<li><p><b>SQL</b> &minus; Update query to update student's age.</p></li>
<li><p><b>jdbcTemplateObject</b> &minus; StudentJDBCTemplate object to update student object in database.</p></li>
<li><p><b>batch</b> &minus; SqlParameterSource object to represent a batch of object.</p></li>
<li><p><b>updateCounts</b> &minus; Int array containing updated row count per update query.</p></li>
</ul>
<p>To understand the above-mentioned concepts related to Spring JDBC, let us write an example which will update a batch operation. To write our example, let us have a working Eclipse IDE in place and use the following steps to create a Spring application.</p>
<table class="table table-bordered">
<tr>
<th style="text-align:center;">Step</th>
<th style="text-align:center;">Description</th>
</tr>
<tr>
<td class="ts">1</td>
<td>Update the project <i>Student</i> created under chapter <a href="/springjdbc/springjdbc_first_application.htm"><i>Spring JDBC - First Application</i></a>.</td>
</tr>
<tr>
<td class="ts">2</td>
<td>Update the bean configuration and run the application as explained below.</td>
</tr>
</table>
<p>Following is the content of the Data Access Object interface file <b>StudentDAO.java</b>.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;
import javax.sql.DataSource;

public interface StudentDAO {
   /** 
      * This is the method to be used to initialize
      * database resources ie. connection.
   */
   public void setDataSource(DataSource ds);
   
   /** 
      * This is the method to be used to list down
      * all the records from the Student table.
   */
   public List&lt;Student&gt; listStudents();  

   public void batchUpdate(final List&lt;Student&gt; students);
}
</pre>
<p>Following is the content of the <b>Student.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

public class Student {
   private Integer age;
   private String name;
   private Integer id;

   public void setAge(Integer age) {
      this.age = age;
   }
   public Integer getAge() {
      return age;
   }
   public void setName(String name) {
      this.name = name;
   }
   public String getName() {
      return name;
   }
   public void setId(Integer id) {
      this.id = id;
   }
   public Integer getId() {
      return id;
   }
}
</pre>
<p>Following is the content of the <b>StudentMapper.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.sql.ResultSet;
import java.sql.SQLException;
import org.springframework.jdbc.core.RowMapper;

public class StudentMapper implements RowMapper&lt;Student&gt; {
   public Student mapRow(ResultSet rs, int rowNum) throws SQLException {
      Student student = new Student();
      student.setId(rs.getInt("id"));
      student.setName(rs.getString("name"));
      student.setAge(rs.getInt("age"));
      return student;
   }
}
</pre>
<p>Following is the implementation class file <b>StudentJDBCTemplate.java</b> for the defined DAO interface StudentDAO.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;
import javax.sql.DataSource;

import org.springframework.jdbc.core.JdbcTemplate;
import org.springframework.jdbc.core.namedparam.SqlParameterSource;
import org.springframework.jdbc.core.namedparam.SqlParameterSourceUtils;
import org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate;

public class StudentJDBCTemplate implements StudentDAO {
   private DataSource dataSource;
   private JdbcTemplate jdbcTemplateObject;
   
   public void setDataSource(DataSource dataSource) {
      this.dataSource = dataSource;
      this.jdbcTemplateObject = new JdbcTemplate(dataSource);
   }
   public List&lt;Student&gt; listStudents() {
      String SQL = "select * from Student";
      List &lt;Student&gt; students = jdbcTemplateObject.query(SQL, new StudentMapper());
      return students;
   }
   public void batchUpdate(final List&lt;Student&gt; students){
      String SQL = "update Student set age = :age where id = :id";
      SqlParameterSource[] batch = SqlParameterSourceUtils.createBatch(students.toArray());
      NamedParameterJdbcTemplate jdbcTemplateObject = new 
         NamedParameterJdbcTemplate(dataSource);

      int[] updateCounts = jdbcTemplateObject.batchUpdate(SQL,batch);
      System.out.println("Records updated!");
   }
}
</pre>
<p>Following is the content of the <b>MainApp.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.ArrayList;
import java.util.List;

import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;

public class MainApp {
   public static void main(String[] args) {
      ApplicationContext context = new ClassPathXmlApplicationContext("Beans.xml");

      StudentJDBCTemplate studentJDBCTemplate = 
         (StudentJDBCTemplate)context.getBean("studentJDBCTemplate");

      List&lt;Student&gt; initialStudents = studentJDBCTemplate.listStudents();
      System.out.println("Initial Students");
      
      for(Student student2: initialStudents){
         System.out.print("ID : " + student2.getId() );
         System.out.println(", Age : " + student2.getAge()); 
      }
      Student student = new Student();
      student.setId(1);
      student.setAge(15);

      Student student1 = new Student();
      student1.setId(3);
      student1.setAge(16);

      List&lt;Student&gt; students = new ArrayList&lt;Student>();
      students.add(student);
      students.add(student1);

      studentJDBCTemplate.batchUpdate(students);

      List&lt;Student&gt; updatedStudents = studentJDBCTemplate.listStudents();
      System.out.println("Updated Students");
      
      for(Student student3: updatedStudents){
         System.out.print("ID : " + student3.getId() );
         System.out.println(", Age : " + student3.getAge()); 
      }
   }
}
</pre> 
<p>Following is the configuration file <b>Beans.xml</b>.</p> 
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans"
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance" 
   xsi:schemaLocation = "http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd "&gt;

   &lt;!-- Initialization for data source --&gt;
   &lt;bean id = "dataSource" 
      class = "org.springframework.jdbc.datasource.DriverManagerDataSource"&gt;
      &lt;property name = "driverClassName" value = "com.mysql.jdbc.Driver"/&gt;
      &lt;property name = "url" value = "jdbc:mysql://localhost:3306/TEST"/&gt;
      &lt;property name = "username" value = "root"/&gt;
      &lt;property name = "password" value = "admin"/&gt;
   &lt;/bean&gt;

   &lt;!-- Definition for studentJDBCTemplate bean --&gt;
   &lt;bean id = "studentJDBCTemplate" 
      class = "com.tutorialspoint.StudentJDBCTemplate"&gt;
      &lt;property name = "dataSource" ref = "dataSource" /&gt;    
   &lt;/bean&gt;
      
&lt;/beans&gt;
</pre> 
<p>Once you are done creating the source and bean configuration files, let us run the application. If everything is fine with your application, it will print the following message.</p>
<pre class="result notranslate">
Initial Students
ID : 1, Age : 10
ID : 3, Age : 10
Records updated!
Updated Students
ID : 1, Age : 15
ID : 3, Age : 16
</pre>
<h1>Spring JDBC - Multiple Batches Operation</h1>
<p>Following example will demonstrate how to make multiple batch updates in a single call using Spring JDBC. We'll update the available records in Student table in a multiple batch operation where batch size is 1.</p>
<h2>Syntax</h2>
<pre class="result notranslate">
String SQL = "update Student set age = ? where id = ?";
int[][] updateCounts = jdbcTemplateObject.batchUpdate(SQL,students,1,
   new ParameterizedPreparedStatementSetter&lt;Student&gt;() {
   
   public void setValues(PreparedStatement ps, Student student)
      throws SQLException {
      ps.setInt(1, student.getAge());						
      ps.setInt(2, student.getId());	
   }
}); 
</pre>
<p>Where,</p>
<ul class="list">
<li><p><b>SQL</b> &minus; Update query to update student's age.</p></li>
<li><p><b>jdbcTemplateObject</b> &minus; StudentJDBCTemplate object to update student object in the database.</p></li>
<li><p><b>ParameterizedPreparedStatementSetter</b> &minus; Batch executor, set values in PerparedStatement per item identified by the list of objects student.</p></li>
<li><p><b>updateCounts</b> &minus; Int[][] array containing updated row count per update query per batch.</p></li>
</ul>
<p>To understand the above-mentioned concepts related to Spring JDBC, let us write an example which will update multiple batch operation. To write our example, let us have a working Eclipse IDE in place and use the following steps to create a Spring application.</p>
<table class="table table-bordered">
<tr>
<th style="text-align:center;">Step</th>
<th style="text-align:center;">Description</th>
</tr>
<tr>
<td class="ts">1</td>
<td>Update the project <i>Student</i> created under chapter <a href="/springjdbc/springjdbc_first_application.htm"><i>Spring JDBC - First Application</i></a>.</td>
</tr>
<tr>
<td class="ts">2</td>
<td>Update the bean configuration and run the application as explained below.</td>
</tr>
</table>
<p>Following is the content of the Data Access Object interface file <b>StudentDAO.java</b>.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;
import javax.sql.DataSource;

public interface StudentDAO {
   /** 
      * This is the method to be used to initialize
      * database resources ie. connection.
   */
   public void setDataSource(DataSource ds);
   
   /** 
      * This is the method to be used to list down
      * all the records from the Student table.
   */
   public List&lt;Student&gt; listStudents();  

   public void batchUpdate(final List&lt;Student&gt; students);
}
</pre>
<p>Following is the content of the <b>Student.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

public class Student {
   private Integer age;
   private String name;
   private Integer id;

   public void setAge(Integer age) {
      this.age = age;
   }
   public Integer getAge() {
      return age;
   }
   public void setName(String name) {
      this.name = name;
   }
   public String getName() {
      return name;
   }
   public void setId(Integer id) {
      this.id = id;
   }
   public Integer getId() {
      return id;
   }
}
</pre>
<p>Following is the content of the <b>StudentMapper.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.sql.ResultSet;
import java.sql.SQLException;
import org.springframework.jdbc.core.RowMapper;

public class StudentMapper implements RowMapper&lt;Student&gt; {
   public Student mapRow(ResultSet rs, int rowNum) throws SQLException {
      Student student = new Student();
      student.setId(rs.getInt("id"));
      student.setName(rs.getString("name"));
      student.setAge(rs.getInt("age"));
      return student;
   }
}
</pre>
<p>Following is the implementation class file <b>StudentJDBCTemplate.java</b> for the defined DAO interface StudentDAO.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.sql.PreparedStatement;
import java.util.List;
import javax.sql.DataSource;

import org.springframework.jdbc.core.JdbcTemplate;
import org.springframework.jdbc.core.ParameterizedPreparedStatementSetter;

import java.sql.SQLException;

public class StudentJDBCTemplate implements StudentDAO {
   private DataSource dataSource;
   private JdbcTemplate jdbcTemplateObject;
   
   public void setDataSource(DataSource dataSource) {
      this.dataSource = dataSource;
      this.jdbcTemplateObject = new JdbcTemplate(dataSource);
   }
   public List&lt;Student&gt; listStudents() {
      String SQL = "select * from Student";
      List &lt;Student&gt; students = jdbcTemplateObject.query(SQL, new StudentMapper());
      return students;
   }
   public void batchUpdate(final List&lt;Student&gt; students){
      String SQL = "update Student set age = ? where id = ?";
      int[][] updateCounts = jdbcTemplateObject.batchUpdate(SQL,students,1,
         new ParameterizedPreparedStatementSetter&lt;Student&gt;() {
         
         public void setValues(PreparedStatement ps, Student student)
            throws SQLException {
            ps.setInt(1, student.getAge());						
            ps.setInt(2, student.getId());	
         }
      });
      System.out.println("Records updated!");
   }
}
</pre>
<p>Following is the content of the <b>MainApp.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.ArrayList;
import java.util.List;

import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;

public class MainApp {
   public static void main(String[] args) {
      ApplicationContext context = new ClassPathXmlApplicationContext("Beans.xml");
      StudentJDBCTemplate studentJDBCTemplate = 
         (StudentJDBCTemplate)context.getBean("studentJDBCTemplate");

      List&lt;Student&gt; initialStudents = studentJDBCTemplate.listStudents();
      System.out.println("Initial Students");
      
      for(Student student2: initialStudents){
         System.out.print("ID : " + student2.getId() );
         System.out.println(", Age : " + student2.getAge()); 
      }

      Student student = new Student();
      student.setId(1);
      student.setAge(17);

      Student student1 = new Student();
      student1.setId(3);
      student1.setAge(18);

      List&lt;Student&gt; students = new ArrayList&lt;Student>();
      students.add(student);
      students.add(student1);
      studentJDBCTemplate.batchUpdate(students);

      List&lt;Student&gt; updatedStudents = studentJDBCTemplate.listStudents();
      System.out.println("Updated Students");
      
      for(Student student3: updatedStudents){
         System.out.print("ID : " + student3.getId() );
         System.out.println(", Age : " + student3.getAge()); 
      }
   }
}
</pre> 
<p>Following is the configuration file <b>Beans.xml</b>.</p> 
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;beans xmlns = "http://www.springframework.org/schema/beans"
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance" 
   xsi:schemaLocation = "http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd "&gt;

   &lt;!-- Initialization for data source --&gt;
   &lt;bean id = "dataSource" 
      class = "org.springframework.jdbc.datasource.DriverManagerDataSource"&gt;
      &lt;property name = "driverClassName" value = "com.mysql.jdbc.Driver"/&gt;
      &lt;property name = "url" value = "jdbc:mysql://localhost:3306/TEST"/&gt;
      &lt;property name = "username" value = "root"/&gt;
      &lt;property name = "password" value = "admin"/&gt;
   &lt;/bean&gt;

   &lt;!-- Definition for studentJDBCTemplate bean --&gt;
   &lt;bean id = "studentJDBCTemplate" 
      class = "com.tutorialspoint.StudentJDBCTemplate"&gt;
      &lt;property name = "dataSource" ref = "dataSource" /&gt;    
   &lt;/bean&gt;
      
&lt;/beans&gt;
</pre> 
<p>Once you are done creating the source and bean configuration files, let us run the application. If everything is fine with your application, it will print the following message.</p>
<pre class="result notranslate">
Initial Students
ID : 1, Age : 15
ID : 3, Age : 16
records updated!
Updated Students
ID : 1, Age : 17
ID : 3, Age : 18
</pre>
<h1>Spring JDBC - JdbcTemplate Class</h1>
<p>The <b>org.springframework.jdbc.core.JdbcTemplate</b> class is the central class in the JDBC core package. It simplifies the use of JDBC and helps to avoid common errors. It executes core JDBC workflow, leaving the application code to provide SQL and extract results. This class executes SQL queries or updates, initiating iteration over ResultSets and catching JDBC exceptions and translating them to the generic, more informative exception hierarchy defined in the <b>org.springframework.dao</b> package.</p>
<h2>Class Declaration</h2>
<p>Following is the declaration for org.springframework.jdbc.core.JdbcTemplate class &minus;</p>
<pre class="result notranslate">
public class JdbcTemplate
   extends JdbcAccessor
      implements JdbcOperations
</pre>
<h2>Usage</h2>
<p><b>Step 1</b> &minus; Create a JdbcTemplate object using a configured datasource.</p>
<p><b>Step 2</b> &minus; Use JdbcTemplate object methods to make database operations.</p>
<h2>Example</h2>
<p>Following example will demonstrate how to read a query using JdbcTemplate class. We'll read the available records in Student Table.</p>
<h2>Syntax</h2>
<pre class="prettyprint notranslate">
String selectQuery = "select * from Student";
List &lt;Student&gt; students = jdbcTemplateObject.query(selectQuery, new StudentMapper());
</pre>
<p>Where,</p>
<ul class="list">
<li><p><b>selectQuery</b> &minus; Select query to read students.</p></li>
<li><p><b>jdbcTemplateObject</b> &minus; StudentJDBCTemplate object to read student object from the database.</p></li>
<li><p><b>StudentMapper</b> &minus; StudentMapper is a RowMapper object to map each fetched record to the student object.</p></li>
</ul>
<p>To understand the above-mentioned concepts related to Spring JDBC, let us write an example which will select a query. To write our example, let us have a working Eclipse IDE in place and use the following steps to create a Spring application.</p>
<table class="table table-bordered">
<tr>
<th style="text-align:center;">Step</th>
<th style="text-align:center;">Description</th>
</tr>
<tr>
<td class="ts">1</td>
<td>Update the project <i>Student</i> created under chapter <a href="/springjdbc/springjdbc_first_application.htm"><i>Spring JDBC - First Application</i></a>.</td>
</tr>
<tr>
<td class="ts">2</td>
<td>Update the bean configuration and run the application as explained below.</td>
</tr>
</table>
<p>Following is the content of the Data Access Object interface file <b>StudentDAO.java</b>.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;
import javax.sql.DataSource;

public interface StudentDAO {
   /** 
      * This is the method to be used to initialize
      * database resources ie. connection.
   */
   public void setDataSource(DataSource ds);
   
   /** 
      * This is the method to be used to list down
      * all the records from the Student table.
   */
   public List&lt;Student&gt; listStudents();   
}
</pre>
<p>Following is the content of the <b>Student.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

public class Student {
   private Integer age;
   private String name;
   private Integer id;

   public void setAge(Integer age) {
      this.age = age;
   }
   public Integer getAge() {
      return age;
   }
   public void setName(String name) {
      this.name = name;
   }
   public String getName() {
      return name;
   }
   public void setId(Integer id) {
      this.id = id;
   }
   public Integer getId() {
      return id;
   }
}
</pre>
<p>Following is the content of the <b>StudentMapper.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.sql.ResultSet;
import java.sql.SQLException;
import org.springframework.jdbc.core.RowMapper;

public class StudentMapper implements RowMapper&lt;Student&gt; {
   public Student mapRow(ResultSet rs, int rowNum) throws SQLException {
      Student student = new Student();
      student.setId(rs.getInt("id"));
      student.setName(rs.getString("name"));
      student.setAge(rs.getInt("age"));
      return student;
   }
}
</pre>
<p>Following is the implementation class file <b>StudentJDBCTemplate.java</b> for the defined DAO interface StudentDAO.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;
import javax.sql.DataSource;
import org.springframework.jdbc.core.JdbcTemplate;

public class StudentJDBCTemplate implements StudentDAO {
   private DataSource dataSource;
   private JdbcTemplate jdbcTemplateObject;
   
   public void setDataSource(DataSource dataSource) {
      this.dataSource = dataSource;
      this.jdbcTemplateObject = new JdbcTemplate(dataSource);
   }
   public List&lt;Student&gt; listStudents() {
      String SQL = "select * from Student";
      List &lt;Student&gt; students = jdbcTemplateObject.query(SQL, new StudentMapper());
      return students;
   }
}
</pre>
<p>Following is the content of the <b>MainApp.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;

import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;
import com.tutorialspoint.StudentJDBCTemplate;

public class MainApp {
   public static void main(String[] args) {
      ApplicationContext context = new ClassPathXmlApplicationContext("Beans.xml");
      StudentJDBCTemplate studentJDBCTemplate = 
         (StudentJDBCTemplate)context.getBean("studentJDBCTemplate");
      
      System.out.println("------Listing Multiple Records--------" );
      List&lt;Student&gt; students = studentJDBCTemplate.listStudents();
      
      for (Student record : students) {
         System.out.print("ID : " + record.getId() );
         System.out.print(", Name : " + record.getName() );
         System.out.println(", Age : " + record.getAge());
      }  
   }
}
</pre> 
<p>Following is the configuration file <b>Beans.xml</b>.</p> 
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;beans xmlns = "http://www.springframework.org/schema/beans"
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance" 
   xsi:schemaLocation = "http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd "&gt;

   &lt;!-- Initialization for data source --&gt;
   &lt;bean id="dataSource" 
      class = "org.springframework.jdbc.datasource.DriverManagerDataSource"&gt;
      &lt;property name = "driverClassName" value = "com.mysql.jdbc.Driver"/&gt;
      &lt;property name = "url" value = "jdbc:mysql://localhost:3306/TEST"/&gt;
      &lt;property name = "username" value = "root"/&gt;
      &lt;property name = "password" value = "admin"/&gt;
   &lt;/bean&gt;

   &lt;!-- Definition for studentJDBCTemplate bean --&gt;
   &lt;bean id="studentJDBCTemplate" 
      class = "com.tutorialspoint.StudentJDBCTemplate"&gt;
      &lt;property name = "dataSource" ref = "dataSource" /&gt;    
   &lt;/bean&gt;
      
&lt;/beans&gt;
</pre> 
<p>Once you are done creating the source and bean configuration files, let us run the application. If everything is fine with your application, it will print the following message.</p>
<pre class="result notranslate">
------Listing Multiple Records--------
ID : 1, Name : Zara, Age : 11
ID : 2, Name : Nuha, Age : 2
ID : 3, Name : Ayan, Age : 15
</pre>
<h1>PreparedStatementSetter Interface</h1>
<p>The <b>org.springframework.jdbc.core.PreparedStatementSetter</b> interface acts as a general callback interface used by the JdbcTemplate class. This interface sets values on a PreparedStatement provided by the JdbcTemplate class, for each of a number of updates in a batch using the same SQL.</p>
<p>Implementations are responsible for setting any necessary parameters. SQL with placeholders will already have been supplied. It's easier to use this interface than PreparedStatementCreator. The JdbcTemplate will create the PreparedStatement, with the callback only being responsible for setting parameter values.</p>
<h2>Interface Declaration</h2>
<p>Following is the declaration for org.springframework.jdbc.core.PreparedStatementSetter interface &minus;</p>
<pre class="result notranslate">
public interface PreparedStatementSetter
</pre>
<h2>Usage</h2>
<p><b>Step 1</b> &minus; Create a JdbcTemplate object using a configured datasource.</p>
<p><b>Step 2</b> &minus; Use JdbcTemplate object methods to make database operations while passing PreparedStatementSetter object to replace place holders in query.</p>
<h2>Example</h2>
<p>Following example will demonstrate how to read a query using JdbcTemplate class and PreparedStatementSetter interface. We'll read available record of a student in Student Table.</p>
<h2>Syntax</h2>
<pre class="result notranslate">
final String SQL = "select * from Student where id = ? ";
List &lt;Student&gt; students = jdbcTemplateObject.query(
   SQL, new PreparedStatementSetter() {
   
   public void setValues(PreparedStatement preparedStatement) throws SQLException {
      preparedStatement.setInt(1, id);
   }
},
new StudentMapper());
</pre>
<p>Where,</p>
<ul class="list">
<li><p><b>SQL</b> &minus; Select query to read students.</p></li>
<li><p><b>jdbcTemplateObject</b> &minus; StudentJDBCTemplate object to read student object from database.</p></li>
<li><p><b>PreparedStatementSetter</b> &minus; PreparedStatementSetter object to set parameters in query.</p></li>
<li><p><b>StudentMapper</b> &minus; StudentMapper is a RowMapper object to map each fetched record to student object.</p></li>
</ul>
<p>To understand the above-mentioned concepts related to Spring JDBC, let us write an example which will select a query. To write our example, let us have a working Eclipse IDE in place and use the following steps to create a Spring application.</p>
<table class="table table-bordered">
<tr>
<th style="text-align:center;">Step</th>
<th style="text-align:center;">Description</th>
</tr>
<tr>
<td class="ts">1</td>
<td>Update the project <i>Student</i> created under chapter <a href="/springjdbc/springjdbc_first_application.htm"><i>Spring JDBC - First Application</i></a>.</td>
</tr>
<tr>
<td class="ts">2</td>
<td>Update the bean configuration and run the application as explained below.</td>
</tr>
</table>
<p>Following is the content of the Data Access Object interface file <b>StudentDAO.java</b>.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;
import javax.sql.DataSource;

public interface StudentDAO {
   /** 
      * This is the method to be used to initialize
      * database resources ie. connection.
   */
   public void setDataSource(DataSource ds);
   
   /** 
      * This is the method to be used to list down
      * a record from the Student table corresponding
      * to a passed student id.
   */
   public Student getStudent(Integer id);
}
</pre>
<p>Following is the content of the <b>Student.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

public class Student {
   private Integer age;
   private String name;
   private Integer id;

   public void setAge(Integer age) {
      this.age = age;
   }
   public Integer getAge() {
      return age;
   }
   public void setName(String name) {
      this.name = name;
   }
   public String getName() {
      return name;
   }
   public void setId(Integer id) {
      this.id = id;
   }
   public Integer getId() {
      return id;
   }
}
</pre>
<p>Following is the content of the <b>StudentMapper.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.sql.ResultSet;
import java.sql.SQLException;
import org.springframework.jdbc.core.RowMapper;

public class StudentMapper implements RowMapper&lt;Student&gt; {
   public Student mapRow(ResultSet rs, int rowNum) throws SQLException {
      Student student = new Student();
      student.setId(rs.getInt("id"));
      student.setName(rs.getString("name"));
      student.setAge(rs.getInt("age"));
      return student;
   }
}
</pre>
<p>Following is the implementation class file <b>StudentJDBCTemplate.java</b> for the defined DAO interface StudentDAO.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;
import javax.sql.DataSource;
import org.springframework.jdbc.core.JdbcTemplate;

public class StudentJDBCTemplate implements StudentDAO {
   private DataSource dataSource;
   private JdbcTemplate jdbcTemplateObject;
   
   public void setDataSource(DataSource dataSource) {
      this.dataSource = dataSource;
      this.jdbcTemplateObject = new JdbcTemplate(dataSource);
   }
   public Student getStudent(final Integer id) {
      final String SQL = "select * from Student where id = ? ";
      List &lt;Student&gt; students = jdbcTemplateObject.query(
         SQL, new PreparedStatementSetter() {
		   
         public void setValues(PreparedStatement preparedStatement) throws SQLException {
            preparedStatement.setInt(1, id);
         }
      },
      new StudentMapper());
      return students.get(0);
   }
}
</pre>
<p>Following is the content of the <b>MainApp.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;

public class MainApp {
   public static void main(String[] args) {
      ApplicationContext context = new ClassPathXmlApplicationContext("Beans.xml");
      StudentJDBCTemplate studentJDBCTemplate = 
         (StudentJDBCTemplate)context.getBean("studentJDBCTemplate");
      
      Student student = studentJDBCTemplate.getStudent(1);
      System.out.print("ID : " + student.getId() );
      System.out.println(", Age : " + student.getAge()); 
   }
}
</pre> 
<p>Following is the configuration file <b>Beans.xml</b>.</p> 
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;beans xmlns = "http://www.springframework.org/schema/beans"
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance" 
   xsi:schemaLocation = "http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd "&gt;

   &lt;!-- Initialization for data source --&gt;
   &lt;bean id = "dataSource" 
      class = "org.springframework.jdbc.datasource.DriverManagerDataSource"&gt;
      &lt;property name = "driverClassName" value = "com.mysql.jdbc.Driver"/&gt;
      &lt;property name = "url" value = "jdbc:mysql://localhost:3306/TEST"/&gt;
      &lt;property name = "username" value = "root"/&gt;
      &lt;property name = "password" value = "admin"/&gt;
   &lt;/bean&gt;

   &lt;!-- Definition for studentJDBCTemplate bean --&gt;
   &lt;bean id = "studentJDBCTemplate" 
      class = "com.tutorialspoint.StudentJDBCTemplate"&gt;
      &lt;property name = "dataSource" ref = "dataSource" /&gt;    
   &lt;/bean&gt;
      
&lt;/beans&gt;
</pre> 
<p>Once you are done creating the source and bean configuration files, let us run the application. If everything is fine with your application, it will print the following message.</p>
<pre class="result notranslate">
ID : 1, Age : 17
</pre>
<h1>Spring JDBC - ResultSetExtractor Interface</h1>
<p>The <b>org.springframework.jdbc.core.ResultSetExtractor</b> interface is a callback interface used by JdbcTemplate's query methods. Implementations of this interface perform the actual work of extracting results from a ResultSet, but don't need to worry about exception handling.</p>
<p>SQLExceptions will be caught and handled by the calling JdbcTemplate. This interface is mainly used within the JDBC framework itself. A RowMapper is usually a simpler choice for ResultSet processing, mapping one result object per row instead of one result object for the entire ResultSet.</p>
<h2>Interface Declaration</h2>
<p>Following is the declaration for org.springframework.jdbc.core.ResultSetExtractor interface &minus;</p>
<pre class="result notranslate">
public interface ResultSetExtractor
</pre>
<h2>Usage</h2>
<p><b>Step 1</b> &minus; Create a JdbcTemplate object using a configured datasource.</p>
<p><b>Step 2</b> &minus; Use JdbcTemplate object methods to make database operations while parsing the resultset using ResultSetExtractor.</p>
<h2>Example</h2>
<p>Following example will demonstrate how to read a query using JdbcTemplate class and ResultSetExtractor interface. We'll read available record of a student in Student Table.</p>
<h2>Syntax</h2>
<pre class="prettyprint notranslate">
public List&lt;Student&gt; listStudents() {
   String SQL = "select * from Student";
      List &lt;Student&gt; students = jdbcTemplateObject.query(SQL, 
         new ResultSetExtractor&lt;List&lt;Student&gt;&gt;(){
         
         public List&lt;Student&gt; extractData(
            ResultSet rs) throws SQLException, DataAccessException {
            
            List&lt;Student&gt; list = new ArrayList&lt;Student&gt;();  
            while(rs.next()){  
               Student student = new Student();
               student.setId(rs.getInt("id"));
               student.setName(rs.getString("name"));
               student.setAge(rs.getInt("age"));
               student.setDescription(rs.getString("description"));
               student.setImage(rs.getBytes("image"));
               list.add(student);  
            }  
            return list;  
         }    	  
      });
   return students;
}
</pre>
<p>Where,</p>
<ul class="list">
<li><p><b>SQL</b> &minus; Select query to read students.</p></li>
<li><p><b>jdbcTemplateObject</b> &minus; StudentJDBCTemplate object to read student object from database.</p></li>
<li><p><b>ResultSetExtractor</b> &minus; ResultSetExtractor object to parse resultset object.</p></li>
</ul>
<p>To understand the above-mentioned concepts related to Spring JDBC, let us write an example which will select a query. To write our example, let us have a working Eclipse IDE in place and use the following steps to create a Spring application.</p>
<table class="table table-bordered">
<tr>
<th style="text-align:center;">Step</th>
<th style="text-align:center;">Description</th>
</tr>
<tr>
<td class="ts">1</td>
<td>Update the project <i>Student</i> created under chapter <a href="/springjdbc/springjdbc_first_application.htm"><i>Spring JDBC - First Application</i></a>.</td>
</tr>
<tr>
<td class="ts">2</td>
<td>Update the bean configuration and run the application as explained below.</td>
</tr>
</table>
<p>Following is the content of the Data Access Object interface file <b>StudentDAO.java</b>.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;
import javax.sql.DataSource;

public interface StudentDAO {
   /** 
      * This is the method to be used to initialize
      * database resources ie. connection.
   */
   public void setDataSource(DataSource ds);
   
   /** 
      * This is the method to be used to list down
      * all the records from the Student table.
   */
   public List&lt;Student&gt; listStudents();
}
</pre>
<p>Following is the content of the <b>Student.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

public class Student {
   private Integer age;
   private String name;
   private Integer id;

   public void setAge(Integer age) {
      this.age = age;
   }
   public Integer getAge() {
      return age;
   }
   public void setName(String name) {
      this.name = name;
   }
   public String getName() {
      return name;
   }
   public void setId(Integer id) {
      this.id = id;
   }
   public Integer getId() {
      return id;
   }
}
</pre>
<p>Following is the implementation class file <b>StudentJDBCTemplate.java</b> for the defined DAO interface StudentDAO.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;
import java.util.ArrayList;
import javax.sql.DataSource;
import org.springframework.jdbc.core.JdbcTemplate;

public class StudentJDBCTemplate implements StudentDAO {
   private DataSource dataSource;
   private JdbcTemplate jdbcTemplateObject;
   
   public void setDataSource(DataSource dataSource) {
      this.dataSource = dataSource;
      this.jdbcTemplateObject = new JdbcTemplate(dataSource);
   }
   public List&lt;Student&gt; listStudents() {
      String SQL = "select * from Student";
      List &lt;Student&gt; students = jdbcTemplateObject.query(SQL, 
         new ResultSetExtractor&lt;List&lt;Student&gt;&gt;(){
         
         public List&lt;Student&gt; extractData(
            ResultSet rs) throws SQLException, DataAccessException {
            
            List&lt;Student&gt; list = new ArrayList&lt;Student&gt;();  
            while(rs.next()){  
               Student student = new Student();
               student.setId(rs.getInt("id"));
               student.setName(rs.getString("name"));
               student.setAge(rs.getInt("age"));
               student.setDescription(rs.getString("description"));
               student.setImage(rs.getBytes("image"));
               list.add(student);  
            }  
            return list;  
         }    	  
      });
      return students;
   }
}
</pre>
<p>Following is the content of the <b>MainApp.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;

import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;

public class MainApp {
   public static void main(String[] args) {
      ApplicationContext context = 
         new ClassPathXmlApplicationContext("Beans.xml");
      
      StudentJDBCTemplate studentJDBCTemplate = 
         (StudentJDBCTemplate)context.getBean("studentJDBCTemplate");

      List&lt;Student&gt; students = studentJDBCTemplate.listStudents();

      for(Student student: students){
         System.out.print("ID : " + student.getId() );
         System.out.println(", Age : " + student.getAge()); 
      }
   }
}
</pre> 
<p>Following is the configuration file <b>Beans.xml</b>.</p> 
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;beans xmlns = "http://www.springframework.org/schema/beans"
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance" 
   xsi:schemaLocation = "http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd "&gt;

   &lt;!-- Initialization for data source --&gt;
   &lt;bean id = "dataSource" 
      class = "org.springframework.jdbc.datasource.DriverManagerDataSource"&gt;
      &lt;property name = "driverClassName" value = "com.mysql.jdbc.Driver"/&gt;
      &lt;property name = "url" value = "jdbc:mysql://localhost:3306/TEST"/&gt;
      &lt;property name = "username" value = "root"/&gt;
      &lt;property name = "password" value = "admin"/&gt;
   &lt;/bean&gt;

   &lt;!-- Definition for studentJDBCTemplate bean --&gt;
   &lt;bean id = "studentJDBCTemplate" 
      class = "com.tutorialspoint.StudentJDBCTemplate"&gt;
      &lt;property name = "dataSource" ref = "dataSource" /&gt;    
   &lt;/bean&gt;
      
&lt;/beans&gt;
</pre> 
<p>Once you are done creating the source and bean configuration files, let us run the application. If everything is fine with your application, it will print the following message.</p>
<pre class="result notranslate">
ID : 1, Age : 17
ID : 3, Age : 18
</pre>
<h1>Spring JDBC - RowMapper Interface</h1>
<p>The <b>org.springframework.jdbc.core.RowMapper&lt;T&gt;</b> interface is used by JdbcTemplate for mapping rows of a ResultSet on a per-row basis. Implementations of this interface perform the actual work of mapping each row to a result object. SQLExceptions if any thrown will be caught and handled by the calling JdbcTemplate.</p>
<h2>Interface Declaration</h2>
<p>Following is the declaration for <b>org.springframework.jdbc.core.RowMapper&lt;T&gt;</b> interface &minus;</p>
<pre class="result notranslate">
public interface RowMapper&lt;T&gt;
</pre>
<h2>Usage</h2>
<p><b>Step 1</b> &minus; Create a JdbcTemplate object using a configured datasource.</p>
<p><b>Step 2</b> &minus; Create a StudentMapper object implementing RowMapper interface.</p>
<p><b>Step 3</b> &minus; Use JdbcTemplate object methods to make database operations while using StudentMapper object.</p>
<p>Following example will demonstrate how to read a query using spring jdbc. We'll map read records from Student Table to Student object using StudentMapper object.</p>
<h2>Syntax</h2>
<pre class="prettyprint notranslate">
String SQL = "select * from Student";
List &lt;Student&gt; students = jdbcTemplateObject.query(SQL, new StudentMapper());
</pre>
<p>Where</p>
<ul class="list">
<li><p><b>SQL</b> &minus; Read query to read all student records.</p></li>
<li><p><b>jdbcTemplateObject</b> &minus; StudentJDBCTemplate object to read student records from database.</p></li>
<li><p><b>StudentMapper</b> &minus; StudentMapper object to map student records to student objects.</p></li>
</ul>
<p>To understand the above-mentioned concepts related to Spring JDBC, let us write an example which will read a query and map result using StudentMapper object. To write our example, let us have a working Eclipse IDE in place and use the following steps to create a Spring application.</p>
<table class="table table-bordered">
<tr>
<th style="text-align:center;">Step</th>
<th style="text-align:center;">Description</th>
</tr>
<tr>
<td class="ts">1</td>
<td>Update the project <i>Student</i> created under chapter <a href="/springjdbc/springjdbc_first_application.htm"><i>Spring JDBC - First Application</i></a>.</td>
</tr>
<tr>
<td class="ts">2</td>
<td>Update the bean configuration and run the application as explained below.</td>
</tr>
</table>
<p>Following is the content of the Data Access Object interface file <b>StudentDao.java.</b></p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;
import javax.sql.DataSource;

public interface StudentDao {
   /** 
      * This is the method to be used to initialize
      * database resources ie. connection.
   */
   public void setDataSource(DataSource ds);
   
   /** 
      * This is the method to be used to list down
      * all the records from the Student table.
   */
   public List&lt;Student&gt; listStudents();   
}
</pre>
<p>Following is the content of the <b>Student.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

public class Student {
   private Integer age;
   private String name;
   private Integer id;

   public void setAge(Integer age) {
      this.age = age;
   }
   public Integer getAge() {
      return age;
   }
   public void setName(String name) {
      this.name = name;
   }
   public String getName() {
      return name;
   }
   public void setId(Integer id) {
      this.id = id;
   }
   public Integer getId() {
      return id;
   }
}
</pre>
<p>Following is the content of the <b>StudentMapper.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.sql.ResultSet;
import java.sql.SQLException;
import org.springframework.jdbc.core.RowMapper;

public class StudentMapper implements RowMapper&lt;Student&gt; {
   public Student mapRow(ResultSet rs, int rowNum) throws SQLException {
      Student student = new Student();
      student.setId(rs.getInt("id"));
      student.setName(rs.getString("name"));
      student.setAge(rs.getInt("age"));
      return student;
   }
}
</pre>
<p>Following is the implementation class file <b>StudentJDBCTemplate.java</b> for the defined DAO interface StudentDAO.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;
import javax.sql.DataSource;
import org.springframework.jdbc.core.JdbcTemplate;

public class StudentJDBCTemplate implements StudentDao {
   private DataSource dataSource;
   private JdbcTemplate jdbcTemplateObject;
   
   public void setDataSource(DataSource dataSource) {
      this.dataSource = dataSource;
      this.jdbcTemplateObject = new JdbcTemplate(dataSource);
   }
   public List&lt;Student&gt; listStudents() {
      String SQL = "select * from Student";
      List &lt;Student&gt; students = jdbcTemplateObject.query(SQL, new StudentMapper());
      return students;
   }
}
</pre>
<p>Following is the content of the <b>MainApp.java</b> file</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;

import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;
import com.tutorialspoint.StudentJDBCTemplate;

public class MainApp {
   public static void main(String[] args) {
      ApplicationContext context = new ClassPathXmlApplicationContext("Beans.xml");
      StudentJDBCTemplate studentJDBCTemplate = 
         (StudentJDBCTemplate)context.getBean("studentJDBCTemplate");
      
      System.out.println("------Listing Multiple Records--------" );
      List&lt;Student&gt; students = studentJDBCTemplate.listStudents();
      
      for (Student record : students) {
         System.out.print("ID : " + record.getId() );
         System.out.print(", Name : " + record.getName() );
         System.out.println(", Age : " + record.getAge());
      }  
   }
}
</pre> 
<p>Following is the configuration file <b>Beans.xml</b>.</p> 
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;beans xmlns = "http://www.springframework.org/schema/beans"
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance" 
   xsi:schemaLocation = "http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd "&gt;

   &lt;!-- Initialization for data source --&gt;
   &lt;bean id = "dataSource" 
      class = "org.springframework.jdbc.datasource.DriverManagerDataSource"&gt;
      &lt;property name = "driverClassName" value = "com.mysql.jdbc.Driver"/&gt;
      &lt;property name = "url" value = "jdbc:mysql://localhost:3306/TEST"/&gt;
      &lt;property name = "username" value = "root"/&gt;
      &lt;property name = "password" value = "admin"/&gt;
   &lt;/bean&gt;

   &lt;!-- Definition for studentJDBCTemplate bean --&gt;
   &lt;bean id = "studentJDBCTemplate" 
      class = "com.tutorialspoint.StudentJDBCTemplate"&gt;
      &lt;property name = "dataSource" ref = "dataSource" /&gt;    
   &lt;/bean&gt;
      
&lt;/beans&gt;
</pre> 
<p>Once you are done creating the source and bean configuration files, let us run the application. If everything is fine with your application, it will print the following message.</p>
<pre class="result notranslate">
------Listing Multiple Records--------
ID : 1, Name : Zara, Age : 17
ID : 3, Name : Ayan, Age : 18
</pre>
<h1>NamedParameterJdbcTemplate Class</h1>
<p>The <b>org.springframework.jdbc.core.NamedParameterJdbcTemplate</b> class is a template class with a basic set of JDBC operations, allowing the use of named parameters rather than traditional '?' placeholders. This class delegates to a wrapped JdbcTemplate once the substitution from named parameters to JDBC style '?' placeholders is done at execution time. It also allows to expand a list of values to the appropriate number of placeholders.</p>
<h2>Interface Declaration</h2>
<p>Following is the declaration for <b>org.springframework.jdbc.core.NamedParameterJdbcTemplate</b> class &minus;</p>
<pre class="result notranslate">
public class NamedParameterJdbcTemplate
   extends Object
      implements NamedParameterJdbcOperations
</pre>
<h2>Syntax</h2>
<pre class="prettyprint notranslate">
MapSqlParameterSource in = new MapSqlParameterSource();
in.addValue("id", id);
in.addValue("description",  new SqlLobValue(description, new DefaultLobHandler()), Types.CLOB);

String SQL = "update Student set description = :description where id = :id";
NamedParameterJdbcTemplate jdbcTemplateObject = new NamedParameterJdbcTemplate(dataSource);
jdbcTemplateObject.update(SQL, in);
</pre>
<p>Where,</p>
<ul class="list">
<li><p><b>in</b> &minus; SqlParameterSource object to pass a parameter to update a query.</p></li>
<li><p><b>SqlLobValue</b> &minus; Object to represent an SQL BLOB/CLOB value parameter.</p></li>
<li><p><b>jdbcTemplateObject</b> &minus; NamedParameterJdbcTemplate object to update student object in the database.</p></li>
</ul>
<p>To understand the above-mentioned concepts related to Spring JDBC, let us write an example which will update a query. To write our example, let us have a working Eclipse IDE in place and use the following steps to create a Spring application.</p>
<table class="table table-bordered">
<tr>
<th style="text-align:center;">Step</th>
<th style="text-align:center;">Description</th>
</tr>
<tr>
<td class="ts">1</td>
<td>Update the project <i>Student</i> created under chapter <a href="/springjdbc/springjdbc_first_application.htm"><i>Spring JDBC - First Application</i></a>.</td>
</tr>
<tr>
<td class="ts">2</td>
<td>Update the bean configuration and run the application as explained below.</td>
</tr>
</table>
<p>Following is the content of the Data Access Object interface file <b>StudentDAO.java</b>.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;
import javax.sql.DataSource;

public interface StudentDAO {
   /** 
      * This is the method to be used to initialize
      * database resources ie. connection.
   */
   public void setDataSource(DataSource ds);
   
   /** 
      * This is the method to be used to update
      * a record into the Student table.
   */
   public void updateDescription(Integer id, String description);
}
</pre>
<p>Following is the content of the <b>Student.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

public class Student {
   private Integer age;
   private String name;
   private Integer id;
   private String description;

   public void setAge(Integer age) {
      this.age = age;
   }
   public Integer getAge() {
      return age;
   }
   public void setName(String name) {
      this.name = name;
   }
   public String getName() {
      return name;
   }
   public void setId(Integer id) {
      this.id = id;
   }
   public Integer getId() {
      return id;
   }
   public String getDescription() {
      return description;
   }
   public void setDescription(String description) {
      this.description = description;
   }
}
</pre>
<p>Following is the content of the <b>StudentMapper.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.sql.ResultSet;
import java.sql.SQLException;
import org.springframework.jdbc.core.RowMapper;

public class StudentMapper implements RowMapper&lt;Student&gt; {
   public Student mapRow(ResultSet rs, int rowNum) throws SQLException {
      Student student = new Student();
      student.setId(rs.getInt("id"));
      student.setName(rs.getString("name"));
      student.setAge(rs.getInt("age"));
      student.setDescription(rs.getString("description"));
      return student;
   }
}
</pre>
<p>Following is the implementation class file <b>StudentJDBCTemplate.java</b> for the defined DAO interface StudentDAO.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;
import javax.sql.DataSource;

import org.springframework.jdbc.core.JdbcTemplate;
import org.springframework.jdbc.core.namedparam.MapSqlParameterSource;
import org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate;
import org.springframework.jdbc.core.namedparam.SqlParameterSource;
import org.springframework.jdbc.core.simple.SimpleJdbcCall;
import org.springframework.jdbc.core.support.SqlLobValue;
import org.springframework.jdbc.support.lob.DefaultLobHandler;

import java.io.ByteArrayInputStream;
import java.sql.Types;

public class StudentJDBCTemplate implements StudentDAO {
   private DataSource dataSource;
   private JdbcTemplate jdbcTemplateObject;
   
   public void setDataSource(DataSource dataSource) {
      this.dataSource = dataSource;
   }
   public void updateDescription(Integer id, String description) {
      MapSqlParameterSource in = new MapSqlParameterSource();
      in.addValue("id", id);
      in.addValue("description",  new SqlLobValue(
         description, new DefaultLobHandler()), Types.CLOB);

      String SQL = "update Student set description = :description where id = :id";
      NamedParameterJdbcTemplate jdbcTemplateObject = 
         new NamedParameterJdbcTemplate(dataSource);
      
      jdbcTemplateObject.update(SQL, in);
      System.out.println("Updated Record with ID = " + id );
   }
}
</pre>
<p>Following is the content of the <b>MainApp.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;

import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;
import com.tutorialspoint.StudentJDBCTemplate;

public class MainApp {
   public static void main(String[] args) {
      ApplicationContext context = new ClassPathXmlApplicationContext("Beans.xml");

      StudentJDBCTemplate studentJDBCTemplate = 
         (StudentJDBCTemplate)context.getBean("studentJDBCTemplate");
      
      studentJDBCTemplate.updateDescription(1, 
         "This can be a very long text upto 4 GB of size."); 
   }
}
</pre> 
<p>Following is the configuration file <b>Beans.xml</b>.</p> 
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;beans xmlns = "http://www.springframework.org/schema/beans"
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance" 
   xsi:schemaLocation = "http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd "&gt;

   &lt;!-- Initialization for data source --&gt;
   &lt;bean id = "dataSource" 
      class = "org.springframework.jdbc.datasource.DriverManagerDataSource"&gt;
      &lt;property name = "driverClassName" value = "com.mysql.jdbc.Driver"/&gt;
      &lt;property name = "url" value = "jdbc:mysql://localhost:3306/TEST"/&gt;
      &lt;property name = "username" value = "root"/&gt;
      &lt;property name = "password" value = "admin"/&gt;
   &lt;/bean&gt;

   &lt;!-- Definition for studentJDBCTemplate bean --&gt;
   &lt;bean id = "studentJDBCTemplate" 
      class = "com.tutorialspoint.StudentJDBCTemplate"&gt;
      &lt;property name = "dataSource" ref = "dataSource" /&gt;    
   &lt;/bean&gt;
      
&lt;/beans&gt;
</pre> 
<p>Once you are done creating the source and bean configuration files, let us run the application. If everything is fine with your application, it will print the following message.</p>
<pre class="result notranslate">
Updated Record with ID = 1
</pre>
<p>You can check the description stored by querying the database.</p>
<h1>Spring JDBC - SimpleJdbcInsert Class</h1>
<p>The <b>org.springframework.jdbc.core.SimpleJdbcInsert</b> class is a multi-threaded, reusable object providing easy insert capabilities for a table. It provides meta data processing to simplify the code needed to construct a basic insert statement. The actual insert is being handled using Spring's JdbcTemplate</p>
<h2>Class Declaration</h2>
<p>Following is the declaration for <b>org.springframework.jdbc.core.SimpleJdbcInsert</b> class &minus;</p>
<pre class="result notranslate">
public class SimpleJdbcInsert
   extends AbstractJdbcInsert
      implements SimpleJdbcInsertOperations
</pre>
<p>Following example will demonstrate how to insert a query using Spring JDBC. We'll insert one record in Student Table using SimpleJdbcInsert object.</p>
<h2>Syntax</h2>
<pre class="prettyprint notranslate">
jdbcInsert = new SimpleJdbcInsert(dataSource).withTableName("Student");
Map&lt;String,Object&gt; parameters = new HashMap&lt;String,Object&gt;();

parameters.put("name", name);
parameters.put("age", age);
jdbcInsert.execute(parameters);
</pre>
<p>Where,</p>
<ul class="list">
<li><p><b>jdbcInsert</b> &minus; SimpleJdbcInsert object to insert record in student table.</p></li>
<li><p><b>jdbcTemplateObject</b> &minus; StudentJDBCTemplate object to read student object in database.</p></li>
</ul>
<p>To understand the above-mentioned concepts related to Spring JDBC, let us write an example which will insert a query. To write our example, let us have a working Eclipse IDE in place and use the following steps to create a Spring application.</p>
<table class="table table-bordered">
<tr>
<th style="text-align:center;">Step</th>
<th style="text-align:center;">Description</th>
</tr>
<tr>
<td class="ts">1</td>
<td>Update the project <i>Student</i> created under chapter <a href="/springjdbc/springjdbc_first_application.htm"><i>Spring JDBC - First Application</i></a>.</td>
</tr>
<tr>
<td class="ts">2</td>
<td>Update the bean configuration and run the application as explained below.</td>
</tr>
</table>
<p>Following is the content of the Data Access Object interface file <b>StudentDAO.java</b>.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;
import javax.sql.DataSource;

public interface StudentDAO {
   /** 
      * This is the method to be used to initialize
      * database resources ie. connection.
   */
   public void setDataSource(DataSource ds);
   
   /** 
      * This is the method to be used to create
      * a record in the Student table.
   */
   public void create(String name, Integer age);
   
   /** 
      * This is the method to be used to list down
      * all the records from the Student table.
   */
   public List&lt;Student&gt; listStudents();   
}
</pre>
<p>Following is the content of the <b>Student.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

public class Student {
   private Integer age;
   private String name;
   private Integer id;

   public void setAge(Integer age) {
      this.age = age;
   }
   public Integer getAge() {
      return age;
   }
   public void setName(String name) {
      this.name = name;
   }
   public String getName() {
      return name;
   }
   public void setId(Integer id) {
      this.id = id;
   }
   public Integer getId() {
      return id;
   }
}
</pre>
<p>Following is the content of the <b>StudentMapper.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.sql.ResultSet;
import java.sql.SQLException;
import org.springframework.jdbc.core.RowMapper;

public class StudentMapper implements RowMapper&lt;Student&gt; {
   public Student mapRow(ResultSet rs, int rowNum) throws SQLException {
      Student student = new Student();
      student.setId(rs.getInt("id"));
      student.setName(rs.getString("name"));
      student.setAge(rs.getInt("age"));
      return student;
   }
}
</pre>
<p>Following is the implementation class file <b>StudentJDBCTemplate.java</b> for the defined DAO interface StudentDAO.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.HashMap;
import java.util.List;
import java.util.Map;

import javax.sql.DataSource;

import org.springframework.jdbc.core.JdbcTemplate;
import org.springframework.jdbc.core.simple.SimpleJdbcInsert;

public class StudentJDBCTemplate implements StudentDao {
   private DataSource dataSource;
   private JdbcTemplate jdbcTemplateObject;
   SimpleJdbcInsert jdbcInsert;

   public void setDataSource(DataSource dataSource) {
      this.dataSource = dataSource;
      this.jdbcTemplateObject = new JdbcTemplate(dataSource);
      this.jdbcInsert = new SimpleJdbcInsert(dataSource).withTableName("Student");
   }
   public void create(String name, Integer age) {
      Map&lt;String,Object&gt; parameters = new HashMap&lt;String,Object&gt;();
      parameters.put("name", name);
      parameters.put("age", age);
      
      jdbcInsert.execute(parameters);
      System.out.println("Created Record Name = " + name + " Age = " + age);
      return;
   }
   public List&lt;Student&gt; listStudents() {
      String SQL = "select * from Student";
      List &lt;Student&gt; students = jdbcTemplateObject.query(SQL, new StudentMapper());
      return students;
   }
}
</pre>
<p>Following is the content of the <b>MainApp.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;

import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;
import com.tutorialspoint.StudentJDBCTemplate;

public class MainApp {
   public static void main(String[] args) {
      ApplicationContext context = new ClassPathXmlApplicationContext("Beans.xml");
      StudentJDBCTemplate studentJDBCTemplate = 
         (StudentJDBCTemplate)context.getBean("studentJDBCTemplate");
      
      System.out.println("------Records Creation--------" );
      studentJDBCTemplate.create("Nuha", 2);

      System.out.println("------Listing Multiple Records--------" );
      List&lt;Student&gt; students = studentJDBCTemplate.listStudents();
      
      for (Student record : students) {
         System.out.print("ID : " + record.getId() );
         System.out.print(", Name : " + record.getName() );
         System.out.println(", Age : " + record.getAge());
      }  
   }
}
</pre> 
<p>Following is the configuration file <b>Beans.xml</b>.</p> 
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans"
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance" 
   xsi:schemaLocation = "http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd "&gt;

   &lt;!-- Initialization for data source --&gt;
   &lt;bean id = "dataSource" 
      class = "org.springframework.jdbc.datasource.DriverManagerDataSource"&gt;
      &lt;property name = "driverClassName" value = "com.mysql.jdbc.Driver"/&gt;
      &lt;property name = "url" value = "jdbc:mysql://localhost:3306/TEST"/&gt;
      &lt;property name = "username" value = "root"/&gt;
      &lt;property name = "password" value = "admin"/&gt;
   &lt;/bean&gt;

   &lt;!-- Definition for studentJDBCTemplate bean --&gt;
   &lt;bean id = "studentJDBCTemplate" 
      class = "com.tutorialspoint.StudentJDBCTemplate"&gt;
      &lt;property name = "dataSource" ref = "dataSource" /&gt;    
   &lt;/bean&gt;
      
&lt;/beans&gt;
</pre> 
<p>Once you are done creating the source and bean configuration files, let us run the application. If everything is fine with your application, it will print the following message.</p>
<pre class="result notranslate">
------Records Creation--------
Created Record Name = Nuha Age = 12
------Listing Multiple Records--------
ID : 1, Name : Zara, Age : 17
ID : 3, Name : Ayan, Age : 18
ID : 4, Name : Nuha, Age : 12
</pre>
<h1>Spring JDBC - SimpleJdbcCall Class</h1>
<p>The <b>org.springframework.jdbc.core.SimpleJdbcCall</b> class is a multi-threaded, reusable object representing a call to a stored procedure or a stored function. It provides meta data processing to simplify the code needed to access basic stored procedures/functions.</p>
<p>All you need to provide is the name of the procedure/function and a map containing the parameters when you execute the call. The names of the supplied parameters will be matched up with in and out parameters declared when the stored procedure was created.</p>
<h2>Class Declaration</h2>
<p>Following is the declaration for <b>org.springframework.jdbc.core.SimpleJdbcCall</b> class &minus;</p>
<pre class="result notranslate">
public class SimpleJdbcCall
   extends AbstractJdbcCall
      implements SimpleJdbcCallOperations
</pre>
<p>Following example will demonstrate how to call a stored procedure using Spring SimpleJdbcCall. We'll read one of the available records in Student Table by calling a stored procedure. We'll pass an id and receive a student record.</p>
<h2>Syntax</h2>
<pre class="prettyprint notranslate">
SimpleJdbcCall jdbcCall = new SimpleJdbcCall(dataSource).withProcedureName("getRecord");
SqlParameterSource in = new MapSqlParameterSource().addValue("in_id", id);
Map&lt;String, Object&gt; out = jdbcCall.execute(in);

Student student = new Student();
student.setId(id);
student.setName((String) out.get("out_name"));
student.setAge((Integer) out.get("out_age"));
</pre>
<p>Where,</p>
<ul class="list">
<li><p><b>jdbcCall</b> &minus; SimpleJdbcCall object to represent a stored procedure.</p></li>
<li><p><b>in</b> &minus; SqlParameterSource object to pass a parameter to a stored procedure.</p></li>
<li><p><b>student</b> &minus; Student object.</p></li>
<li><p><b>out</b> &minus; Map object to represent output of stored procedure call result.</p></li>
</ul>
<p>To understand the above-mentioned concepts related to Spring JDBC, let us write an example which will call a stored procedure. To write our example, let us have a working Eclipse IDE in place and use the following steps to create a Spring application.</p>
<table class="table table-bordered">
<tr>
<th style="text-align:center;">Step</th>
<th style="text-align:center;">Description</th>
</tr>
<tr>
<td class="ts">1</td>
<td>Update the project <i>Student</i> created under chapter <a href="/springjdbc/springjdbc_first_application.htm"><i>Spring JDBC - First Application</i></a>.</td>
</tr>
<tr>
<td class="ts">2</td>
<td>Update the bean configuration and run the application as explained below.</td>
</tr>
</table>
<p>Following is the content of the Data Access Object interface file <b>StudentDAO.java</b>.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;
import javax.sql.DataSource;

public interface StudentDAO {
   /** 
      * This is the method to be used to initialize
      * database resources ie. connection.
   */
   public void setDataSource(DataSource ds);
   
   /** 
      * This is the method to be used to list down
      * a record from the Student table corresponding
      * to a passed student id.
   */
   public Student getStudent(Integer id);  
}
</pre>
<p>Following is the content of the <b>Student.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

public class Student {
   private Integer age;
   private String name;
   private Integer id;

   public void setAge(Integer age) {
      this.age = age;
   }
   public Integer getAge() {
      return age;
   }
   public void setName(String name) {
      this.name = name;
   }
   public String getName() {
      return name;
   }
   public void setId(Integer id) {
      this.id = id;
   }
   public Integer getId() {
      return id;
   }
}
</pre>
<p>Following is the content of the <b>StudentMapper.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.sql.ResultSet;
import java.sql.SQLException;
import org.springframework.jdbc.core.RowMapper;

public class StudentMapper implements RowMapper&lt;Student&gt; {
   public Student mapRow(ResultSet rs, int rowNum) throws SQLException {
      Student student = new Student();
      student.setId(rs.getInt("id"));
      student.setName(rs.getString("name"));
      student.setAge(rs.getInt("age"));
      return student;
   }
}
</pre>
<p>Following is the implementation class file <b>StudentJDBCTemplate.java</b> for the defined DAO interface StudentDAO.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;
import javax.sql.DataSource;

import org.springframework.jdbc.core.JdbcTemplate;
import org.springframework.jdbc.core.namedparam.MapSqlParameterSource;
import org.springframework.jdbc.core.namedparam.SqlParameterSource;
import org.springframework.jdbc.core.simple.SimpleJdbcCall;

public class StudentJDBCTemplate implements StudentDAO {
   private DataSource dataSource;
   private JdbcTemplate jdbcTemplateObject;
   
   public void setDataSource(DataSource dataSource) {
      this.dataSource = dataSource;
      this.jdbcTemplateObject = new JdbcTemplate(dataSource);
   }
   public Student getStudent(Integer id) {
      SimpleJdbcCall jdbcCall = new 
         SimpleJdbcCall(dataSource).withProcedureName("getRecord");

      SqlParameterSource in = new MapSqlParameterSource().addValue("in_id", id);
      Map&lt;String, Object&gt; out = jdbcCall.execute(in);

      Student student = new Student();
      student.setId(id);
      student.setName((String) out.get("out_name"));
      student.setAge((Integer) out.get("out_age"));
      return student;      
   }
}
</pre>
<p>The code you write for the execution of the call involves creating an SqlParameterSource containing the IN parameter. It's important to match the name provided for the input value with that of the parameter name declared in the stored procedure. The execute method takes the IN parameters and returns a Map containing any out parameters keyed by the name as specified in the stored procedure.</p>
<p>Following is the content of the <b>MainApp.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;

import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;
import com.tutorialspoint.StudentJDBCTemplate;

public class MainApp {
   public static void main(String[] args) {
      ApplicationContext context = new ClassPathXmlApplicationContext("Beans.xml");
      StudentJDBCTemplate studentJDBCTemplate = 
         (StudentJDBCTemplate)context.getBean("studentJDBCTemplate");
      
      Student student = studentJDBCTemplate.getStudent(1);
      System.out.print("ID : " + student.getId() );
      System.out.print(", Name : " + student.getName() );
      System.out.println(", Age : " + student.getAge()); 
   }
}
</pre> 
<p>Following is the configuration file <b>Beans.xml</b>.</p> 
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans"
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance" 
   xsi:schemaLocation = "http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd "&gt;

   &lt;!-- Initialization for data source --&gt;
   &lt;bean id = "dataSource" 
      class = "org.springframework.jdbc.datasource.DriverManagerDataSource"&gt;
      &lt;property name = "driverClassName" value = "com.mysql.jdbc.Driver"/&gt;
      &lt;property name = "url" value = "jdbc:mysql://localhost:3306/TEST"/&gt;
      &lt;property name = "username" value = "root"/&gt;
      &lt;property name = "password" value = "admin"/&gt;
   &lt;/bean&gt;

   &lt;!-- Definition for studentJDBCTemplate bean --&gt;
   &lt;bean id = "studentJDBCTemplate" 
      class = "com.tutorialspoint.StudentJDBCTemplate"&gt;
      &lt;property name = "dataSource" ref = "dataSource" /&gt;    
   &lt;/bean&gt;
      
&lt;/beans&gt;
</pre> 
<p>Once you are done creating the source and bean configuration files, let us run the application. If everything is fine with your application, it will print the following message.</p>
<pre class="result notranslate">
ID : 1, Name : Zara, Age : 11
</pre>
<h1>Spring JDBC - SqlQuery Class</h1>
<p>The <b>org.springframework.jdbc.object.SqlQuery</b> class provides a reusable operation object representing a SQL query.</p>
<h2>Class Declaration</h2>
<p>Following is the declaration for <b>org.springframework.jdbc.object.SqlQuery</b> class &minus;</p>
<pre class="result notranslate">
public abstract class SqlQuery&lt;T&gt;
   extends SqlOperation
</pre>
<h2>Usage</h2>
<ul class="list">
<li><p><b>Step 1</b> &minus; Create a JdbcTemplate object using a configured datasource.</p></li>
<li><p><b>Step 2</b> &minus; Create a StudentMapper object implementing RowMapper interface.</p></li>
<li><p><b>Step 3</b> &minus; Use JdbcTemplate object methods to make database operations while using SqlQuery object.</p></li>
</ul>
<p>Following example will demonstrate how to read a Query using SqlQuery Object. We'll map read records from Student Table to Student object using StudentMapper object.</p>
<h2>Syntax</h2>
<pre class="prettyprint notranslate">
String sql = "select * from Student";
SqlQuery&lt;Student&gt; sqlQuery = new SqlQuery&lt;Student&gt;() {
   @Override
   protected RowMapper&lt;Student&gt; newRowMapper(Object[] parameters,
      Map&lt;?, ?&gt; context) {
      return new StudentMapper();
   }
};
sqlQuery.setDataSource(dataSource);
sqlQuery.setSql(sql);
List &lt;Student&gt; students = sqlQuery.execute();
</pre>
<p>Where,</p>
<ul class="list">
<li><p><b>SQL</b> &minus; Read query to read all student records.</p></li>
<li><p><b>jdbcTemplateObject</b> &minus; StudentJDBCTemplate object to read student records from the database.</p></li>
<li><p><b>StudentMapper</b> &minus; StudentMapper object to map the student records to student objects.</p></li>
<li><p><b>SqlQuery</b> &minus; SqlQuery object to query student records and map them to student objects.</p></li>
</ul>
<p>To understand the above-mentioned concepts related to Spring JDBC, let us write an example which will read a query and map the result using StudentMapper object. To write our example, let us have a working Eclipse IDE in place and use the following steps to create a Spring application.</p>
<table class="table table-bordered">
<tr>
<th style="text-align;center;">Step</th>
<th style="text-align:center;">Description</th>
</tr>
<tr>
<td class="ts">1</td>
<td>Update the project <i>Student</i> created under chapter <a href="/springjdbc/springjdbc_first_application.htm"><i>Spring JDBC - First Application</i></a>.</td>
</tr>
<tr>
<td class="ts">2</td>
<td>Update the bean configuration and run the application as explained below.</td>
</tr>
</table>
<p>Following is the content of the Data Access Object interface file <b>StudentDao.java.</b></p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;
import javax.sql.DataSource;

public interface StudentDao {
   /** 
      * This is the method to be used to initialize
      * database resources ie. connection.
   */
   public void setDataSource(DataSource ds);
   
   /** 
      * This is the method to be used to list down
      * all the records from the Student table.
   */
   public List&lt;Student&gt; listStudents();   
}
</pre>
<p>Following is the content of the <b>Student.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

public class Student {
   private Integer age;
   private String name;
   private Integer id;

   public void setAge(Integer age) {
      this.age = age;
   }
   public Integer getAge() {
      return age;
   }
   public void setName(String name) {
      this.name = name;
   }
   public String getName() {
      return name;
   }
   public void setId(Integer id) {
      this.id = id;
   }
   public Integer getId() {
      return id;
   }
}
</pre>
<p>Following is the content of the <b>StudentMapper.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.sql.ResultSet;
import java.sql.SQLException;
import org.springframework.jdbc.core.RowMapper;

public class StudentMapper implements RowMapper&lt;Student&gt; {
   public Student mapRow(ResultSet rs, int rowNum) throws SQLException {
      Student student = new Student();
      student.setId(rs.getInt("id"));
      student.setName(rs.getString("name"));
      student.setAge(rs.getInt("age"));
      return student;
   }
}
</pre>
<p>Following is the implementation class file <b>StudentJDBCTemplate.java</b> for the defined DAO interface StudentDAO.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;
import java.util.Map;

import javax.sql.DataSource;

import org.springframework.jdbc.core.JdbcTemplate;
import org.springframework.jdbc.core.RowMapper;
import org.springframework.jdbc.object.SqlQuery;

public class StudentJDBCTemplate implements StudentDao {
   private DataSource dataSource;
   private JdbcTemplate jdbcTemplateObject;
   
   public void setDataSource(DataSource dataSource) {
      this.dataSource = dataSource;
      this.jdbcTemplateObject = new JdbcTemplate(dataSource);     
   }
   public List&lt;Student&gt; listStudents() {
      String sql = "select * from Student";
      SqlQuery&lt;Student&gt; sqlQuery = new SqlQuery&lt;Student&gt;() {
         @Override
         protected RowMapper&lt;Student&gt; newRowMapper(Object[] parameters, Map&lt;?, ?&gt; context){
            
            return new StudentMapper();
         }
      };
      sqlQuery.setDataSource(dataSource);
      sqlQuery.setSql(sql);
      List &lt;Student&gt; students = sqlQuery.execute();
      return students;
   }
}
</pre>
<p>Following is the content of the <b>MainApp.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;

import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;
import com.tutorialspoint.StudentJDBCTemplate;

public class MainApp {
   public static void main(String[] args) {
      ApplicationContext context = new ClassPathXmlApplicationContext("Beans.xml");
      StudentJDBCTemplate studentJDBCTemplate = 
         (StudentJDBCTemplate)context.getBean("studentJDBCTemplate");
      
      System.out.println("------Listing Multiple Records--------" );
      List&lt;Student&gt; students = studentJDBCTemplate.listStudents();
      
      for (Student record : students) {
         System.out.print("ID : " + record.getId() );
         System.out.print(", Name : " + record.getName() );
         System.out.println(", Age : " + record.getAge());
      }  
   }
}
</pre> 
<p>Following is the configuration file <b>Beans.xml</b>.</p> 
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;beans xmlns = "http://www.springframework.org/schema/beans"
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance" 
   xsi:schemaLocation = "http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd "&gt;

   &lt;!-- Initialization for data source --&gt;
   &lt;bean id = "dataSource" 
      class = "org.springframework.jdbc.datasource.DriverManagerDataSource"&gt;
      &lt;property name = "driverClassName" value = "com.mysql.jdbc.Driver"/&gt;
      &lt;property name = "url" value = "jdbc:mysql://localhost:3306/TEST"/&gt;
      &lt;property name = "username" value = "root"/&gt;
      &lt;property name = "password" value = "admin"/&gt;
   &lt;/bean&gt;

   &lt;!-- Definition for studentJDBCTemplate bean --&gt;
   &lt;bean id = "studentJDBCTemplate" 
      class = "com.tutorialspoint.StudentJDBCTemplate"&gt;
      &lt;property name = "dataSource" ref = "dataSource" /&gt;    
   &lt;/bean&gt;
      
&lt;/beans&gt;
</pre> 
<p>Once you are done creating the source and bean configuration files, let us run the application. If everything is fine with your application, it will print the following message.</p>
<pre class="result notranslate">
------Listing Multiple Records--------
ID : 1, Name : Zara, Age : 17
ID : 3, Name : Ayan, Age : 18
ID : 4, Name : Nuha, Age : 12
</pre>
<h1>Spring JDBC - SqlUpdate Class</h1>
<p>The <b>org.springframework.jdbc.object.SqlUpdate</b> class provides reusable operation object representing a SQL update.</p>
<h2>Class Declaration</h2>
<p>Following is the declaration for <b>org.springframework.jdbc.object.SqlUpdate</b> class &minus;</p>
<pre class="result notranslate">
public abstract class SqlUpdate&lt;T&gt;
   extends SqlOperation
</pre>
<h2>Usage</h2>
<p><b>Step 1</b> &minus; Create a JdbcTemplate object using a configured datasource.</p>
<p><b>Step 2</b> &minus; Create a StudentMapper object implementing RowMapper interface.</p>
<p><b>Step 3</b> &minus; Use JdbcTemplate object methods to carry out database operations while using SqlUpdate object.</p>
<p>Following example will demonstrate how to update a Query using SqlUpdate Object. We'll map update records from Student Table to Student object using StudentMapper object.</p>
<h2>Syntax</h2>
<pre class="prettyprint notranslate">
String SQL = "update Student set age = ? where id = ?";

SqlUpdate sqlUpdate = new SqlUpdate(dataSource,SQL);
sqlUpdate.declareParameter(new SqlParameter("age", Types.INTEGER));
sqlUpdate.declareParameter(new SqlParameter("id", Types.INTEGER));
sqlUpdate.compile();

sqlUpdate.update(age.intValue(),id.intValue());
</pre>
<p>Where,</p>
<ul class="list">
<li><p><b>SQL</b> - Update query to update student records.</p></li>
<li><p><b>jdbcTemplateObject</b> &minus; StudentJDBCTemplate object to read student records the from database.</p></li>
<li><p><b>StudentMapper</b> &minus; StudentMapper object to map student records to student objects.</p></li>
<li><p><b>sqlUpdate</b> &minus; SqlUpdate object to update student records.</p></li>
</ul>
<p>To understand the above-mentioned concepts related to Spring JDBC, let us write an example which will read a query and map result using StudentMapper object. To write our example, let us have a working Eclipse IDE in place and use the following steps to create a Spring application.</p>
<table class="table table-bordered">
<tr>
<th style="text-align:center;">Step</th>
<th style="text-align:center;">Description</th>
</tr>
<tr>
<td class="ts">1</td>
<td>Update the project <i>Student</i> created under chapter <a href="/springjdbc/springjdbc_first_application.htm"><i>Spring JDBC - First Application</i></a>.</td>
</tr>
<tr>
<td class="ts">2</td>
<td>Update the bean configuration and run the application as explained below.</td>
</tr>
</table>
<p>Following is the content of the Data Access Object interface file <b>StudentDao.java.</b></p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;
import javax.sql.DataSource;

public interface StudentDao {
   /** 
      * This is the method to be used to initialize
      * database resources ie. connection.
   */
   public void setDataSource(DataSource ds);
   
   /** 
      * This is the method to be used to update
      * a record into the Student table.
   */
   public void update(Integer id, Integer age);

   /** 
      * This is the method to be used to list down
      * a record from the Student table corresponding
      * to a passed student id.
   */
   public Student getStudent(Integer id);   
}
</pre>
<p>Following is the content of the <b>Student.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

public class Student {
   private Integer age;
   private String name;
   private Integer id;

   public void setAge(Integer age) {
      this.age = age;
   }
   public Integer getAge() {
      return age;
   }
   public void setName(String name) {
      this.name = name;
   }
   public String getName() {
      return name;
   }
   public void setId(Integer id) {
      this.id = id;
   }
   public Integer getId() {
      return id;
   }
}
</pre>
<p>Following is the content of the <b>StudentMapper.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.sql.ResultSet;
import java.sql.SQLException;
import org.springframework.jdbc.core.RowMapper;

public class StudentMapper implements RowMapper&lt;Student&gt; {
   public Student mapRow(ResultSet rs, int rowNum) throws SQLException {
      Student student = new Student();
      student.setId(rs.getInt("id"));
      student.setName(rs.getString("name"));
      student.setAge(rs.getInt("age"));
      return student;
   }
}
</pre>
<p>Following is the implementation class file <b>StudentJDBCTemplate.java</b> for the defined DAO interface StudentDAO.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.sql.Types;

import javax.sql.DataSource;

import org.springframework.jdbc.core.JdbcTemplate;
import org.springframework.jdbc.core.SqlParameter;
import org.springframework.jdbc.object.SqlUpdate;

public class StudentJDBCTemplate implements StudentDao {
   private DataSource dataSource;
   private JdbcTemplate jdbcTemplateObject;
   
   public void setDataSource(DataSource dataSource) {
      this.dataSource = dataSource;
      this.jdbcTemplateObject = new JdbcTemplate(dataSource);
   }
   public void update(Integer id, Integer age){
      String SQL = "update Student set age = ? where id = ?";
      
      SqlUpdate sqlUpdate = new SqlUpdate(dataSource,SQL);
      sqlUpdate.declareParameter(new SqlParameter("age", Types.INTEGER));
      sqlUpdate.declareParameter(new SqlParameter("id", Types.INTEGER));
      sqlUpdate.compile();
      
      sqlUpdate.update(age.intValue(),id.intValue());
      System.out.println("Updated Record with ID = " + id );
      return;
   }
   public Student getStudent(Integer id) {
      String SQL = "select * from Student where id = ?";
      Student student = jdbcTemplateObject.queryForObject(
         SQL, new Object[]{id}, new StudentMapper());
      
      return student;
   }
}
</pre>
<p>Following is the content of the <b>MainApp.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;
import com.tutorialspoint.StudentJDBCTemplate;

public class MainApp {
   public static void main(String[] args) {
      ApplicationContext context = new ClassPathXmlApplicationContext("Beans.xml");
      StudentJDBCTemplate studentJDBCTemplate = 
         (StudentJDBCTemplate)context.getBean("studentJDBCTemplate");
      
      System.out.println("----Updating Record with ID = 1 -----" );
      studentJDBCTemplate.update(1, 10);
      
      System.out.println("----Listing Record with ID = 1 -----" );
      Student student = studentJDBCTemplate.getStudent(1);
      
      System.out.print("ID : " + student.getId() );
      System.out.print(", Name : " + student.getName() );
      System.out.println(", Age : " + student.getAge());  
   }
}
</pre> 
<p>Following is the configuration file <b>Beans.xml</b>.</p> 
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;beans xmlns = "http://www.springframework.org/schema/beans"
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance" 
   xsi:schemaLocation = "http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd "&gt;

   &lt;!-- Initialization for data source --&gt;
   &lt;bean id = "dataSource" 
      class = "org.springframework.jdbc.datasource.DriverManagerDataSource"&gt;
      &lt;property name = "driverClassName" value = "com.mysql.jdbc.Driver"/&gt;
      &lt;property name = "url" value = "jdbc:mysql://localhost:3306/TEST"/&gt;
      &lt;property name = "username" value = "root"/&gt;
      &lt;property name = "password" value = "admin"/&gt;
   &lt;/bean&gt;

   &lt;!-- Definition for studentJDBCTemplate bean --&gt;
   &lt;bean id = "studentJDBCTemplate" 
      class = "com.tutorialspoint.StudentJDBCTemplate"&gt;
      &lt;property name = "dataSource" ref = "dataSource" /&gt;    
   &lt;/bean&gt;
      
&lt;/beans&gt;
</pre> 
<p>Once you are done creating the source and bean configuration files, let us run the application. If everything is fine with your application, it will print the following message.</p>
<pre class="result notranslate">
----Updating Record with ID = 1 -----
Updated Record with ID = 1
----Listing Record with ID = 1 -----
ID : 1, Name : Zara, Age : 10
</pre>
<h1>Spring JDBC - StoredProcedure Class</h1>
<p>The <b>org.springframework.jdbc.core.StoredProcedure</b> class is the superclass for object abstractions of RDBMS stored procedures. This class is abstract and it is intended that subclasses will provide a typed method for invocation that delegates to the supplied execute(java.lang.Object...) method. The inherited SQL property is the name of the stored procedure in the RDBMS.</p>
<h2>Class Declaration</h2>
<p>Following is the declaration for <b>org.springframework.jdbc.core.StoredProcedure</b> class &minus;</p>
<pre class="result notranslate">
public abstract class StoredProcedure
   extends SqlCall
</pre>
<p>Following example will demonstrate how to call a stored procedure using Spring StoredProcedure. We'll read one of the available records in Student Table by calling a stored procedure. We'll pass an id and receive a student record.</p>
<h2>Syntax</h2>
<pre class="prettyprint notranslate">
class StudentProcedure extends StoredProcedure{
   public StudentProcedure(DataSource dataSource, String procedureName){
      super(dataSource,procedureName);
      declareParameter(new SqlParameter("in_id", Types.INTEGER));
      declareParameter(new SqlOutParameter("out_name", Types.VARCHAR));
      declareParameter(new SqlOutParameter("out_age", Types.INTEGER));
      compile();
   }
   public Student execute(Integer id){
      Map&lt;String, Object&gt; out = super.execute(id);
      Student student = new Student();
      student.setId(id);
      student.setName((String) out.get("out_name"));
      student.setAge((Integer) out.get("out_age"));
      return student;  	
   }
}
</pre>
<p>Where,</p>
<ul class="list">
<li><p><b>StoredProcedure</b> &minus; StoredProcedure object to represent a stored procedure.</p></li>
<li><p><b>StudentProcedure</b> &minus; StudentProcedure object extends StoredProcedure to declare input, output variable, and map result to Student object.</p></li>
<li><p><b>student</b> &minus; Student object.</p></li>
</ul>
<p>To understand the above-mentioned concepts related to Spring JDBC, let us write an example which will call a stored procedure. To write our example, let us have a working Eclipse IDE in place and use the following steps to create a Spring application.</p>
<table class="table table-bordered">
<tr>
<th style="text-align:center;">Step</th>
<th style="text-align:center;">Description</th>
</tr>
<tr>
<td class="ts">1</td>
<td>Update the project <i>Student</i> created under chapter <a href="/springjdbc/springjdbc_first_application.htm"><i>Spring JDBC - First Application</i></a>.</td>
</tr>
<tr>
<td class="ts">2</td>
<td>Update the bean configuration and run the application as explained below.</td>
</tr>
</table>
<p>Following is the content of the Data Access Object interface file <b>StudentDAO.java</b>.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;
import javax.sql.DataSource;

public interface StudentDAO {
   /** 
      * This is the method to be used to initialize
      * database resources ie. connection.
   */
   public void setDataSource(DataSource ds);
   
   /** 
      * This is the method to be used to list down
      * a record from the Student table corresponding
      * to a passed student id.
   */
   public Student getStudent(Integer id);  
}
</pre>
<p>Following is the content of the <b>Student.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

public class Student {
   private Integer age;
   private String name;
   private Integer id;

   public void setAge(Integer age) {
      this.age = age;
   }
   public Integer getAge() {
      return age;
   }
   public void setName(String name) {
      this.name = name;
   }
   public String getName() {
      return name;
   }
   public void setId(Integer id) {
      this.id = id;
   }
   public Integer getId() {
      return id;
   }
}
</pre>
<p>Following is the content of the <b>StudentMapper.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.sql.ResultSet;
import java.sql.SQLException;
import org.springframework.jdbc.core.RowMapper;

public class StudentMapper implements RowMapper&lt;Student&gt; {
   public Student mapRow(ResultSet rs, int rowNum) throws SQLException {
      Student student = new Student();
      student.setId(rs.getInt("id"));
      student.setName(rs.getString("name"));
      student.setAge(rs.getInt("age"));
      return student;
   }
}
</pre>
<p>Following is the implementation class file <b>StudentJDBCTemplate.java</b> for the defined DAO interface StudentDAO.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.sql.Types;
import java.util.List;
import java.util.Map;

import javax.sql.DataSource;

import org.springframework.jdbc.core.JdbcTemplate;
import org.springframework.jdbc.core.SqlOutParameter;
import org.springframework.jdbc.core.SqlParameter;
import org.springframework.jdbc.core.namedparam.MapSqlParameterSource;
import org.springframework.jdbc.core.namedparam.SqlParameterSource;
import org.springframework.jdbc.object.StoredProcedure;

public class StudentJDBCTemplate implements StudentDao {
   private DataSource dataSource;
   private JdbcTemplate jdbcTemplateObject;
   
   public void setDataSource(DataSource dataSource) {
      this.dataSource = dataSource;
      this.jdbcTemplateObject = new JdbcTemplate(dataSource);
   }
   public Student getStudent(Integer id) {    
      StudentProcedure studentProcedure = new StudentProcedure(dataSource, "getRecord");
      return studentProcedure.execute(id);      
   }    
}
class StudentProcedure extends StoredProcedure{
   public StudentProcedure(DataSource dataSource, String procedureName) {
      super(dataSource,procedureName);
      declareParameter(new SqlParameter("in_id", Types.INTEGER));
      declareParameter(new SqlOutParameter("out_name", Types.VARCHAR));
      declareParameter(new SqlOutParameter("out_age", Types.INTEGER));
      compile();
   }
   public Student execute(Integer id){
      Map&lt;String, Object&gt; out = super.execute(id);
      Student student = new Student();
      student.setId(id);
      student.setName((String) out.get("out_name"));
      student.setAge((Integer) out.get("out_age"));
      return student;  	
   }
}
</pre>
<p>The code you write for the execution of the call involves creating an SqlParameterSource containing the IN parameter. It's important to match the name provided for the input value with that of the parameter name declared in the stored procedure. The execute method takes the IN parameters and returns a Map containing any out parameters keyed by the name as specified in the stored procedure.</p>
<p>Following is the content of the <b>MainApp.java</b> file.</p>
<pre class="prettyprint notranslate">
package com.tutorialspoint;

import java.util.List;

import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;
import com.tutorialspoint.StudentJDBCTemplate;

public class MainApp {
   public static void main(String[] args) {
      ApplicationContext context = new ClassPathXmlApplicationContext("Beans.xml");
      StudentJDBCTemplate studentJDBCTemplate = 
         (StudentJDBCTemplate)context.getBean("studentJDBCTemplate");
      
      Student student = studentJDBCTemplate.getStudent(1);
      System.out.print("ID : " + student.getId() );
      System.out.print(", Name : " + student.getName() );
      System.out.println(", Age : " + student.getAge()); 
   }
}
</pre> 
<p>Following is the configuration file <b>Beans.xml.</b></p> 
<pre class="prettyprint notranslate">
&lt;?xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;beans xmlns = "http://www.springframework.org/schema/beans"
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance" 
   xsi:schemaLocation = "http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd "&gt;

   &lt;!-- Initialization for data source --&gt;
   &lt;bean id = "dataSource" 
      class = "org.springframework.jdbc.datasource.DriverManagerDataSource"&gt;
      &lt;property name = "driverClassName" value = "com.mysql.jdbc.Driver"/&gt;
      &lt;property name = "url" value = "jdbc:mysql://localhost:3306/TEST"/&gt;
      &lt;property name = "username" value = "root"/&gt;
      &lt;property name = "password" value = "admin"/&gt;
   &lt;/bean&gt;

   &lt;!-- Definition for studentJDBCTemplate bean --&gt;
   &lt;bean id = "studentJDBCTemplate" 
      class = "com.tutorialspoint.StudentJDBCTemplate"&gt;
      &lt;property name = "dataSource" ref = "dataSource" /&gt;    
   &lt;/bean&gt;
      
&lt;/beans&gt;
</pre> 
<p>Once you are done creating the source and bean configuration files, let us run the application. If everything is fine with your application, it will print the following message.</p>
<pre class="result notranslate">
ID : 1, Name : Zara, Age : 10
</pre>
<div class="mui-container-fluid button-borders show">
<div class="pre-btn">
<a href="/springjdbc/springjdbc_storedprocedure.htm"><i class="fal fa-chevron-circle-left"></i> Previous Page</a>
</div>
<div class="nxt-btn">
<a href="/springjdbc/springjdbc_useful_resources.htm">Next Page <i class="fal fa-chevron-circle-right"></i>&nbsp;</a>
</div>
</div>
<div class="google-bottom-ads">
<div>Advertisements</div>
<script><!--
var width = 580;
var height = 400;
var format = "580x400_as";
if( window.innerWidth < 468 ){
   width = 300;
   height = 250;
   format = "300x250_as";
}
google_ad_client = "pub-7133395778201029";
google_ad_width = width;
google_ad_height = height;
google_ad_format = format;
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
<div class="space-bottom"></div>
</div>
</div>
<!-- Tutorial Content Ends Here -->
<!-- Right Column Starts Here -->
<div class="mui-col-md-2 google-right-ads">
<div class="space-top"></div>
<div class="google-right-ad" style="margin: 0px auto !important;margin-top:5px;">
<script><!--
google_ad_client = "pub-2537027957187252";
google_ad_width = 300;
google_ad_height = 250;
google_ad_format = "300x250_as";
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>
<div class="google-right-ad">
<div class="adsbyvli" data-ad-slot="vi_9012177"></div>
<script>(vitag.Init = window.vitag.Init || []).push(function(){viAPItag.display("vi_9012177")})</script>
</div>
<div class="space-bottom"></div>
<div class="google-right-ad">
<div class="adsbyvli" data-ad-slot="vi_9013289"></div>
<script>(vitag.Init = window.vitag.Init || []).push(function(){viAPItag.display("vi_9013289")})</script>
</div>
<div class="space-bottom" style="margin-bottom:15px;"></div>
</div>
<!-- Right Column Ends Here -->
</div>
</div>
<div class="clear"></div>
<footer id="footer">
<div class="mui--text-center">
<div class="mui--text-caption mui--text-light">
<a href="/index.htm" class="logo"><img class="img-responsive" src="/images/logo-black.png" alt="Tutorials Point" title="Tutorials Point"></a>
</div>
<ul class="mui-list--inline mui--text-body2 mui--text-light">
<li><a href="/about/index.htm"><i class="fal fa-globe"></i> About us</a></li>
<li><a href="/about/about_terms_of_use.htm"><i class="fal fa-asterisk"></i> Terms of use</a></li>
<li><a href="/about/about_privacy.htm#cookies"> <i class="fal fa-shield-check"></i> Cookies Policy</a></li>
<li><a href="/about/faq.htm"><i class="fal fa-question-circle"></i> FAQ's</a></li>
<li><a href="/about/about_helping.htm"><i class="fal fa-hands-helping"></i> Helping</a></li>
<li><a href="/about/contact_us.htm"><i class="fal fa-map-marker-alt"></i> Contact</a></li>
</ul>
<div class="mui--text-caption mui--text-light bottom-copyright-text">&copy; Copyright 2019. All Rights Reserved.</div>
</div>
<div id="privacy-banner">
  <div>
    <p>
      We use cookies to provide and improve our services. By using our site, you consent to our Cookies Policy.
      <a id="banner-accept" href="#">Accept</a>
      <a id="banner-learn" href="/about/about_cookies.htm" target="_blank">Learn more</a>
    </p>
  </div>
</div>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-232293-17"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-232293-6');
</script>
</footer>
</body>
</html>
