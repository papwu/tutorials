<!DOCTYPE html>
<html lang="en-US">
<head>
<title>D3.js - Drawing Charts - Tutorialspoint</title>
<meta charset="utf-8">
<meta name="description" content="D3.js - Drawing Charts - D3.js is used to create a static SVG chart. It helps to draw the following charts −"/>
<meta name="keywords" content="C, C++, Python, Java, HTML, CSS, JavaScript, SQL, PHP, jQuery, XML, DOM, Bootstrap, Tutorials, Articles, Programming, training, learning, quiz, preferences, examples, code"/>
<link rel="canonical" href="https://www.tutorialspoint.com/d3js/d3js_drawing_charts.htm" />
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=yes">
<script src="/theme/js/script-min-v2.js?v=3"></script>
<link rel="stylesheet" href="/theme/css/style-min-v2.css?v=6">
<script src="//services.bilsyndication.com/adv1/?d=901" defer="" async=""></script>
<script> var vitag = vitag || {};</script>
<script> vitag.outStreamConfig = { enablePC: false, enableMobile: false };</script>  
<style>
.right-menu .mui-btn {
    background-color:#ff7842;
}
a.demo {
    background:#ff7842;
}
li.heading {
    background:#ff7842;
}
.course-box{background:#ff7842}
.home-intro-sub p{color:#ff7842}
</style>
</head>
<body>
<header id="header">
<!-- Top sub-menu Starts Here -->
<div class="mui-appbar mui-container-fulid top-menu">
<div class="mui-container">
<div class="top-menu-item home">
<a href="https://www.tutorialspoint.com/index.htm" target="_blank" title="TutorialsPoint - Home"><i class="fal fa-home"></i> <span>Home</span></a>
</div>
<div class="top-menu-item qa">
<a href="https://www.tutorialspoint.com/about/about_careers.htm" target="_blank" title="Job @ Tutorials Point"><i class="fa fa-suitcase"></i> <span>Jobs</span></a>
</div>
<div class="top-menu-item tools">
<a href="https://www.tutorialspoint.com/online_dev_tools.htm" target="_blank" title="Tools - Online Development and Testing Tools"><i class="fal fa-cogs"></i> <span>Tools</span></a>
</div>
<div class="top-menu-item coding-ground">
<a href="https://www.tutorialspoint.com/codingground.htm" target="_blank" title="Coding Ground - Free Online IDE and Terminal"><i class="fal fa-code"></i> <span>Coding Ground </span></a> 
</div>
<div class="top-menu-item current-affairs">
<a href="https://www.tutorialspoint.com/current_affairs.htm" target="_blank" title="Daily Current Affairs"><i class="fal fa-layer-plus"></i> <span>Current Affairs</span></a>
</div>
<div class="top-menu-item upsc-notes">
<a href="https://www.tutorialspoint.com/upsc_ias_exams.htm" target="_blank" title="UPSC IAS Exams Notes - TutorialsPoint"><i class="fal fa-user-tie"></i> <span>UPSC Notes</span></a>
</div>      
<div class="top-menu-item online-tutoris">
<a href="https://www.tutorialspoint.com/tutor_connect/index.php" target="_blank" title="Top Online Tutors - Tutor Connect"><i class="fal fa-user"></i> <span>Online Tutors</span></a>
</div>
<div class="top-menu-item whiteboard">
<a href="https://www.tutorialspoint.com/whiteboard.htm" target="_blank" title="Free Online Whiteboard"><i class="fal fa-chalkboard"></i> <span>Whiteboard</span></a>
</div>
<div class="top-menu-item net-meeting">
<a href="https://www.tutorialspoint.com/netmeeting.php" target="_blank" title="A free tool for online video conferencing"><i class="fal fa-chalkboard-teacher"></i> <span>Net Meeting</span></a> 
</div>
<div class="top-menu-item articles">
<a href="https://www.tutorix.com" target="_blank" title="Tutorx - The Best Learning App" rel="nofollow"><i class="fal fa-video"></i> <span>Tutorix</span></a> 
</div>        
<div class="social-menu-item">
<a href="https://www.facebook.com/tutorialspointindia" target="_blank" rel="nofollow" data-placement="bottom" title="tutorialspoint @ Facebook"><i class="fab fa-facebook-f"></i></a> 
<a href="https://www.twitter.com/tutorialspoint" target="_blank" rel="nofollow" data-placement="bottom" title="tutorialspoint @ Twitter"><i class="fab fa-twitter"></i></a>
<a href="https://www.linkedin.com/company/tutorialspoint" target="_blank" rel="nofollow" data-placement="bottom" title="tutorialspoint @ Linkedin"><i class="fab fa-linkedin-in"></i></a>
<a href="https://www.youtube.com/channel/UCVLbzhxVTiTLiVKeGV7WEBg" target="_blank" rel="nofollow" data-placement="bottom" title="tutorialspoint YouTube"><i class="fab fa-youtube"></i></a>
</div>        
</div>
</div>
<!-- Top sub-menu Ends Here -->
<!-- Top main-menu Starts Here -->
<div class="mui-appbar mui-container-fulid mui--appbar-line-height mui--z1" id="logo-menu">
<div class="mui-container">
<div class="left-menu">
<a href="https://www.tutorialspoint.com/index.htm" title="Tutorialspoint">
<img class="tp-logo" alt="tutorialspoint" src="/d3js/images/logo.png">
</a>
<div class="mui-dropdown">
<a class="mui-btn mui-btn--primary categories" data-mui-toggle="dropdown"><i class="fa fa-th-large"></i> 
<span>Categories <span class="mui-caret"></span></span></a>            
<ul class="mui-dropdown__menu cat-menu">
<li>
<ul>
<li><a href="/academic_tutorials.htm"><i class="fa fa-caret-right"></i> Academic Tutorials</a></li>
<li><a href="/big_data_tutorials.htm"><i class="fa fa-caret-right"></i> Big Data &amp; Analytics </a></li>
<li><a href="/computer_programming_tutorials.htm"><i class="fa fa-caret-right"></i> Computer Programming </a></li>
<li><a href="/computer_science_tutorials.htm"><i class="fa fa-caret-right"></i> Computer Science </a></li>
<li><a href="/database_tutorials.htm"><i class="fa fa-caret-right"></i> Databases </a></li>
<li><a href="/devops_tutorials.htm"><i class="fa fa-caret-right"></i> DevOps </a></li>
<li><a href="/digital_marketing_tutorials.htm"><i class="fa fa-caret-right"></i> Digital Marketing </a></li>
<li><a href="/engineering_tutorials.htm"><i class="fa fa-caret-right"></i> Engineering Tutorials </a></li>
<li><a href="/upsc_ias_exams.htm"><i class="fa fa-caret-right"></i> Exams Syllabus </a></li>
<li><a href="/famous_monuments.htm"><i class="fa fa-caret-right"></i> Famous Monuments </a></li>
<li><a href="/gate_exams_tutorials.htm"><i class="fa fa-caret-right"></i> GATE Exams Tutorials</a></li>
<li><a href="/latest_technologies.htm"><i class="fa fa-caret-right"></i> Latest Technologies </a></li>
<li><a href="/machine_learning_tutorials.htm"><i class="fa fa-caret-right"></i> Machine Learning </a></li>
<li><a href="/mainframe_tutorials.htm"><i class="fa fa-caret-right"></i> Mainframe Development </a></li>
<li><a href="/management_tutorials.htm"><i class="fa fa-caret-right"></i> Management Tutorials </a></li>
<li><a href="/maths_tutorials.htm"><i class="fa fa-caret-right"></i> Mathematics Tutorials</a></li>
<li><a href="/microsoft_technologies_tutorials.htm"><i class="fa fa-caret-right"></i> Microsoft Technologies </a></li>
<li><a href="/misc_tutorials.htm"><i class="fa fa-caret-right"></i> Misc tutorials </a></li>
<li><a href="/mobile_development_tutorials.htm"><i class="fa fa-caret-right"></i> Mobile Development </a></li>
<li><a href="/java_technology_tutorials.htm"><i class="fa fa-caret-right"></i> Java Technologies </a></li>
<li><a href="/python_technologies_tutorials.htm"><i class="fa fa-caret-right"></i> Python Technologies </a></li>
<li><a href="/sap_tutorials.htm"><i class="fa fa-caret-right"></i> SAP Tutorials </a></li>
<li><a href="/scripting_lnaguage_tutorials.htm"><i class="fa fa-caret-right"></i>Programming Scripts </a></li>
<li><a href="/selected_reading.htm"><i class="fa fa-caret-right"></i> Selected Reading </a></li>
<li><a href="/software_quality_tutorials.htm"><i class="fa fa-caret-right"></i> Software Quality </a></li>
<li><a href="/soft_skill_tutorials.htm"><i class="fa fa-caret-right"></i> Soft Skills </a></li>
<li><a href="/telecom_tutorials.htm"><i class="fa fa-caret-right"></i> Telecom Tutorials </a></li>
<li><a href="/upsc_ias_exams.htm"><i class="fa fa-caret-right"></i> UPSC IAS Exams </a></li>
<li><a href="/web_development_tutorials.htm"><i class="fa fa-caret-right"></i> Web Development </a></li>
<li><a href="/sports_tutorials.htm"><i class="fa fa-caret-right"></i> Sports Tutorials </a></li>
<li><a href="/xml_technologies_tutorials.htm"><i class="fa fa-caret-right"></i> XML Technologies </a></li>
<li><a href="/multi_language_tutorials.htm"><i class="fa fa-caret-right"></i> Multi-Language Tutorials</a></li>
<li><a href="/questions_and_answers.htm"><i class="fa fa-caret-right"></i> Interview Questions</a></li>
</ul>
</li>
</ul>
<div class="clear"></div>
</div> 
</div>
<div class="right-menu">
<div class="toc-toggle">
<a href="javascript:void(0);"><i class="fa fa-bars"></i></a>
</div>
<div class="mobile-search-btn">
<a href="https://www.tutorialspoint.com/search.htm"><i class="fal fa-search"></i></a>
</div>
<div class="search-box">
<form method="get" class="" name="searchform" action="https://www.google.com/search" target="_blank" novalidate="">
<input type="hidden" name="sitesearch" value="www.tutorialspoint.com" class="user-valid valid">
<input class="header-search-box" type="text" id="search-string" name="q" placeholder="Search your favorite tutorials..." onfocus="if (this.value == 'Search your favorite tutorials...') {this.value = '';}" onblur="if (this.value == '') {this.value = 'Search your favorite tutorials...';}" autocomplete="off">
<button><i class="fal fa-search"></i></button>
</form>
</div>
<div class="menu-btn library-btn">
<a href="https://www.tutorialspoint.com/tutorialslibrary.htm"><i class="fal fa-cubes"></i> <span>Library</span></a>
</div>
<div class="menu-btn videos-btn">
<a href="https://www.tutorialspoint.com/videotutorials/index.htm"><i class="fal fa-video"></i> <span>Videos</span></a> 
</div>
<div class="menu-btn videos-btn">
<a href="https://www.tutorialspoint.com/questions/index.php"><i class="fa fa-location-arrow"></i> <span>Q/A</span></a>
</div>
<div class="menu-btn ebooks-btn">
<a href="https://store.tutorialspoint.com"><i class="fal fa-book"></i> <span>eBooks</span></a>
</div>
<div class="mui-dropdown">
<button class="mui-btn mui-btn--primary" data-mui-toggle="dropdown">
<span class="mui-caret"></span>
</button>
<ul class="mui-dropdown__menu">
<li><a href="https://www.tutorialspoint.com/tutorialslibrary.htm"><i class="fal fa-cubes"></i> <span>Library</span></a></li>
<li><a href="https://www.tutorialspoint.com/videotutorials/index.htm"><i class="fal fa-video"></i> <span>Videos</span></a></li>
<li><a href="https://store.tutorialspoint.com"><i class="fal fa-book"></i> <span>eBooks</span></a></li>
</ul>
</div>
</div>
</div>
</div>
<!-- Top main-menu Ends Here -->
</header>
<div class="mui-container-fluid content">
<div class="mui-container">
<!-- Tutorial ToC Starts Here -->
<div class="mui-col-md-3 tutorial-toc">
<div class="mini-logo">
<img src="/d3js/images/d3js-mini-logo.jpg" alt="D3.js Tutorial" />
</div>
<ul class="toc chapters">
<li class="heading">D3.js Tutorial</li>
<li><a href="/d3js/index.htm">D3.js - Home</a></li>
<li><a href="/d3js/d3js_introduction.htm">D3.js - Introduction</a></li>
<li><a href="/d3js/d3js_installation.htm">D3.js - Installation</a></li>
<li><a href="/d3js/d3js_concepts.htm">D3.js - Concepts</a></li>
<li><a href="/d3js/d3js_selections.htm">D3.js - Selections</a></li>
<li><a href="/d3js/d3js_data_join.htm">D3.js - Data Join</a></li>
<li><a href="/d3js/d3js_introduction_to_svg.htm">D3.js - Introduction to SVG</a></li>
<li><a href="/d3js/d3js_svg_transformation.htm">D3.js - SVG Transformation</a></li>
<li><a href="/d3js/d3js_transition.htm">D3.js - Transition</a></li>
<li><a href="/d3js/d3js_animation.htm">D3.js - Animation</a></li>
<li><a href="/d3js/d3js_drawing_charts.htm">D3.js - Drawing Charts</a></li>
<li><a href="/d3js/d3js_graphs.htm">D3.js - Graphs</a></li>
<li><a href="/d3js/d3js_geographies.htm">D3.js - Geographies</a></li>
<li><a href="/d3js/d3js_array_api.htm">D3.js - Array API</a></li>
<li><a href="/d3js/d3js_collections_api.htm">D3.js - Collections API</a></li>
<li><a href="/d3js/d3js_selection_api.htm">D3.js - Selection API</a></li>
<li><a href="/d3js/d3js_paths_api.htm">D3.js - Paths API</a></li>
<li><a href="/d3js/d3js_scales_api.htm">D3.js - Scales API</a></li>
<li><a href="/d3js/d3js_axis_api.htm">D3.js - Axis API</a></li>
<li><a href="/d3js/d3js_shapes_api.htm">D3.js - Shapes API</a></li>
<li><a href="/d3js/d3js_colors_api.htm">D3.js - Colors API</a></li>
<li><a href="/d3js/d3js_transitions_api.htm">D3.js - Transitions API</a></li>
<li><a href="/d3js/d3js_dragging_api.htm">D3.js - Dragging API</a></li>
<li><a href="/d3js/d3js_zooming_api.htm">D3.js - Zooming API</a></li>
<li><a href="/d3js/d3js_requests_api.htm">D3.js - Requests API</a></li>
<li><a href="/d3js/d3js_delimiterseparated_values_api.htm">Delimiter-Separated Values API</a></li>
<li><a href="/d3js/d3js_timer_api.htm">D3.js - Timer API</a></li>
<li><a href="/d3js/d3js_working_example.htm">D3.js - Working Example</a></li>
</ul>
<ul class="toc chapters">
<li class="heading">D3.js Useful Resources</li>
<li><a href="/d3js/d3js_quick_guide.htm">D3.js - Quick Guide</a></li>
<li><a href="/d3js/d3js_useful_resources.htm">D3.js - Useful Resources</a></li>
<li><a href="/d3js/d3js_discussion.htm">D3.js - Discussion</a></li>
</ul>
<ul class="toc reading">
<li class="sreading">Selected Reading</li>
<li><a target="_top" href="/upsc_ias_exams.htm">UPSC IAS Exams Notes</a></li>
<li><a target="_top" href="/developers_best_practices/index.htm">Developer's Best Practices</a></li>
<li><a target="_top" href="/questions_and_answers.htm">Questions and Answers</a></li>
<li><a target="_top" href="/effective_resume_writing.htm">Effective Resume Writing</a></li>
<li><a target="_top" href="/hr_interview_questions/index.htm">HR Interview Questions</a></li>
<li><a target="_top" href="/computer_glossary.htm">Computer Glossary</a></li>
<li><a target="_top" href="/computer_whoiswho.htm">Who is Who</a></li>
</ul>
</div>
<!-- Tutorial ToC Ends Here -->
<!-- Tutorial Content Starts Here -->
<div class="mui-col-md-6 tutorial-content">
<h1>D3.js - Drawing Charts</h1>
<hr />
<div class="top-ad-heading">Advertisements</div>
<div style="text-align: center;">
<script><!--
google_ad_client = "pub-7133395778201029";
var width = document.getElementsByClassName("tutorial-content")[0].clientWidth - 40;
google_ad_width = width;
google_ad_height = 150;
google_ad_format = width + "x150_as";
google_ad_type = "image";
google_ad_channel = "";
//--></script>
<script src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>
<div class="mui-container-fluid button-borders">
<div class="pre-btn">
<a href="/d3js/d3js_animation.htm"><i class="fal fa-chevron-circle-left"></i> Previous Page</a>
</div>
<div class="nxt-btn">
<a href="/d3js/d3js_graphs.htm">Next Page <i class="fal fa-chevron-circle-right"></i>&nbsp;</a>
</div>
</div>
<div class="clearer"></div>
<p>D3.js is used to create a static SVG chart. It helps to draw the following charts &minus;</p>
<ul class="list">
<li>Bar Chart</li>
<li>Circle Chart</li>
<li>Pie Chart</li>
<li>Donut Chart</li>
<li>Line Chart</li>
<li>Bubble Chart, etc.</li>
</ul>
<p>This chapter explains about drawing charts in D3. Let us understand each of these in detail.</p>
<h2>Bar Chart</h2>
<p>Bar charts are one of the most commonly used types of graph and are used to display and compare the number, frequency or other measure (e.g. mean) for different discrete categories or groups. This graph is constructed in such a way that the heights or lengths of the different bars are proportional to the size of the category they represent.</p>
<p>The x-axis (the horizontal axis) represents the different categories it has no scale. The y axis (the vertical axis) does have a scale and this indicates the units of measurement. The bars can be drawn either vertically or horizontally depending upon the number of categories and length or complexity of the category.</p>
<h3>Draw a Bar Chart</h3>
<p>Let us create a bar chart in SVG using D3. For this example, we can use the <b>rect elements</b> for the bars and <b>text elements</b> to display our data values corresponding to the bars. </p>
<p>To create a bar chart in SVG using D3, let us follow the steps given below.</p>
<p><b>Step 1</b> &minus; <b>Adding style in the rect element</b> &minus; Let us add the following style to the rect element.</p>
<pre class="prettyprint notranslate">
svg rect {
   fill: gray;
}
</pre>
<p><b>Step 2</b> &minus; <b>Add styles in text element</b> &minus; Add the following CSS class to apply styles to text values. Add this style to SVG text element. It is defined below &minus;</p>
<pre class="prettyprint notranslate">
svg text {
   fill: yellow;
   font: 12px sans-serif;
   text-anchor: end;
}
</pre>
<p>Here, Fill is used to apply colors. Text-anchor is used to position the text towards the right end of the bars.</p>
<p><b>Step 3</b> &minus; <b>Define variables</b> &minus; Let us add the variables in the script. It is explained below.</p>
<pre class="prettyprint notranslate">
&lt;script&gt;
   var data = [10, 5, 12, 15];
   var width = 300,
      scaleFactor = 20,
      barHeight = 30;
&lt;/script&gt;
</pre>
<p>Here,</p>
<ul class="list">
<li><p><b>Width</b> &minus; Width of the SVG.</p></li>
<li><p><b>Scalefactor</b> &minus; Scaled to a pixel value that is visible on the screen.</p></li>
<li><p><b>Barheight</b> &minus; This is the static height of the horizontal bars.</p></li>
</ul>
<p><b>Step 4</b> &minus; <b>Append SVG elements</b> &minus; Let us append SVG elements in D3 using the following code.</p>
<pre class="prettyprint notranslate">
var graph = d3.select("body")
   .append("svg")
   .attr("width", width)
   .attr("height", barHeight * data.length);
</pre>
<p>Here, we will first select the document body, create a new SVG element and then append it. We will build our bar graph inside this SVG element. Then, set the width and height of SVG. Height is calculated as bar height * number of data values.</p>
<p>We have taken the bar height as 30 and data array length is 4. Then SVG height is calculated as barheight* datalength which is 120 px.</p>
<p><b>Step 5</b> &minus; <b>Apply transformation</b> &minus; Let us apply the transformation in bar using the following code.</p>
<pre class="prettyprint notranslate">
var bar = graph.selectAll("g") 
   .data(data)
   .enter()
   .append("g")
   .attr("transform", function(d, i) {
      return "translate(0," + i * barHeight + ")";
   });
</pre>
<p>Here, each bar inside corresponds with an element. Therefore, we create group elements. Each of our group elements needs to be positioned one below the other to build a horizontal bar chart. Let us take a transformation formula index * bar height.</p>
<p><b>Step 6</b> &minus; <b>Append rect elements to the bar</b> &minus; In the previous step, we appended group elements. Now add the rect elements to the bar using the following code.</p>
<pre class="prettyprint notranslate">
bar.append("rect")
   .attr("width", function(d) {
      return d * scaleFactor;
   })
   .attr("height", barHeight - 1);
</pre>
<p>Here, the width is (data value * scale factor) and height is (bar height - margin).</p>
<p><b>Step 7</b> &minus; <b>Display data</b> &minus; This is the last step. Let us display the data on each bar using the following code.</p>
<pre class="prettyprint notranslate">
bar.append("text")
   .attr("x", function(d) { return (d*scaleFactor); })
   .attr("y", barHeight / 2)
   .attr("dy", ".35em")
   .text(function(d) { return d; });
</pre>
<p>Here, width is defined as (data value * scalefactor). Text elements do not support padding or margin. For this reason, we need to give it a “dy” offset. This is used to align the text vertically.</p>
<p><b>Step 8</b> &minus; <b>Working example</b> &minus; The complete code listing is shown in the following code block. Create a webpage <b>barcharts.html</b> and add the following changes.</p>
<p><b>barcharts.html</b></p>
<div class="demo-view">
<a href="http://tpcg.io/YUeJbK" class="demo" rel="nofollow" target="_blank"><i class="fa-external-link"></i> Live Demo</a>
</div>
<pre class="prettyprint notranslate">
&lt;html&gt;
   &lt;head&gt;
      &lt;script type = "text/javascript" src = "https://d3js.org/d3.v4.min.js"&gt;&lt;/script&gt;
      &lt;style&gt;
         svg rect {
            fill: gray;
         }
         
         svg text {
            fill: yellow;
            font: 12px sans-serif;
            text-anchor: end;
         }
      &lt;/style&gt;
   &lt;/head&gt;

   &lt;body&gt;
      &lt;script&gt;
         var data = [10, 5, 12, 15];
         
         var width = 300 
            scaleFactor = 20, 
            barHeight = 30;
         
         var graph = d3.select("body")
            .append("svg")
            .attr("width", width)
            .attr("height", barHeight * data.length);
         
         var bar = graph.selectAll("g")
            .data(data)
            .enter()
            .append("g")
            .attr("transform", function(d, i) {
               return "translate(0," + i * barHeight + ")";
            });
         bar.append("rect").attr("width", function(d) {
            return d * scaleFactor;
         })
         
         .attr("height", barHeight - 1);
         
         bar.append("text")
            .attr("x", function(d) { return (d*scaleFactor); })
            .attr("y", barHeight / 2)
            .attr("dy", ".35em")
            .text(function(d) { return d; });
      &lt;/script&gt;
   &lt;/body&gt;
&lt;/html&gt;
</pre>
<p>Now request your browser, you will see the following response.</p>
<iframe onload="resizeFrame(this)" class="result" src="/d3js/src/barcharts.htm" height="150px" width="660px"></iframe>
<h2>Circle Chart</h2>
<p>A Circle chart is a circular statistical graphic, which is divided into slices to illustrate a numerical proportion.</p>
<h3>Draw a Circle Chart</h3>
<p>Let us create a circle chart in SVG using D3. To do this, we must adhere to the following steps &minus;</p>
<p><b>Step 1</b> &minus; <b>Define variables</b> &minus; Let us add the variables in the script. It is shown in the code block below.</p>
<pre class="prettyprint notranslate">
&lt;script&gt;
   var width = 400;
   var height = 400;
   var data = [10, 20, 30];
   var colors = ['green', 'purple', 'yellow'];
&lt;/script&gt;
</pre>
<p>Here,</p>
<ul class="list">
<li><p><b>Width</b> &minus; width of the SVG.</p></li>
<li><p><b>Height</b> &minus; height of the SVG.</p></li>
<li><p><b>Data</b> &minus; array of data elements.</p></li>
<li><p><b>Colors</b> &minus; apply colors to the circle elements.</p></li>
</ul>
<p><b>Step 2</b> &minus; <b>Append SVG elements</b> &minus; Let us append SVG elements in D3 using the following code.</p>
<pre class="prettyprint notranslate">
var svg = d3.select("body")
   .append("svg")
   .attr("width", width)
   .attr("height", height);
</pre>
<p><b>Step 3</b> &minus; <b>Apply transformation</b> &minus; Let us apply the transformation in SVG using the following code.</p>
<pre class="prettyprint notranslate">
var g = svg.selectAll("g")
   .data(data)
   .enter()
   .append("g")
   .attr("transform", function(d, i) {
      return "translate(0,0)";
   })
</pre>
<p>Here,</p>
<p><b>var g = svg.selectAll(“g”)</b> &minus; Creates group element to hold the circles.</p>
<p><b>.data(data)</b> &minus; Binds our data array to the group elements.</p>
<p><b>.enter()</b> &minus; Creates placeholders for our group elements.</p>
<p><b>.append(“g”)</b> &minus; Appends group elements to our page.</p>
<pre class="prettyprint notranslate">
.attr("transform", function(d, i) {
   return "translate(0,0)";
})
</pre>
<p>Here, translate is used to position your elements with respect to the origin.</p>
<p><b>Step 4</b> &minus; <b>Append circle elements</b> &minus; Now, append circle elements to the group using the following code.</p>
<pre class="prettyprint notranslate">
g.append("circle")
</pre>
<p>Now, add the attributes to the group using the following code.</p>
<pre class="prettyprint notranslate">
.attr("cx", function(d, i) {
   return i*75 + 50;
})
</pre>
<p>Here, we use the x-coordinate of the center of each circle. We are multiplying the index of the circle with 75 and adding a padding of 50 between the circles.</p>
<p>Next, we set the y-coordinate of the center of each circle. This is used to uniform all the circles and it is defined below.</p>
<pre class="prettyprint notranslate">
.attr("cy", function(d, i) {
   return 75;
})
</pre>
<p>Next, set the radius of each circle. It is defined below,</p>
<pre class="prettyprint notranslate">
.attr("r", function(d) {
   return d*1.5;
})
</pre>
<p>Here, the radius is multiplied with data value along with a constant “1.5” to increase the circle's size. Finally, fill colors for each circle using the following code.</p>
<pre class="prettyprint notranslate">
.attr("fill", function(d, i){
   return colors[i];
})
</pre>
<p><b>Step 5</b> &minus; <b>Display data</b> &minus; This is the last step. Let us display the data on each circle using the following code.</p>
<pre class="prettyprint notranslate">
g.append("text")
   .attr("x", function(d, i) {
      return i * 75 + 25;
   })
   .attr("y", 80)
   .attr("stroke", "teal")
   .attr("font-size", "10px")
   .attr("font-family", "sans-serif")
   .text(function(d) {
      return d;
   });
</pre>
<p><b>Step 6</b> &minus; <b>Working Example</b> &minus; The complete code listing is shown in the following code block. Create a webpage <b>circlecharts.html</b> and add the following changes in it.</p>
<p><b>circlecharts.html</b></p>
<div class="demo-view">
<a href="http://tpcg.io/jWSDwe" class="demo" rel="nofollow" target="_blank"><i class="fa-external-link"></i> Live Demo</a>
</div>
<pre class="prettyprint notranslate">
&lt;html&gt;
   &lt;head&gt;
      &lt;script type = "text/javascript" src = "https://d3js.org/d3.v4.min.js"&gt;&lt;/script&gt;
   &lt;/head&gt;

   &lt;body&gt;
      &lt;script&gt;
         var width = 400;
         
         var height = 400;
         
         var data = [10, 20, 30];
         
         var colors = ['green', 'purple', 'yellow'];
         
         var svg = d3
            .select("body")
            .append("svg")
            .attr("width", width)
            .attr("height", height);
         
         var g = svg.selectAll("g")
            .data(data)
            .enter()
            .append("g")
            .attr("transform", function(d, i) {
               return "translate(0,0)";
            })
         
         g.append("circle").attr("cx", function(d, i) {
            return i*75 + 50;
         })
         
         .attr("cy", function(d, i) {
            return 75;
         })
  
         .attr("r", function(d) {
            return d*1.5;
         })
         
         .attr("fill", function(d, i){
            return colors[i];
         })
         
         g.append("text").attr("x", function(d, i) {
            return i * 75 + 25;
         })
         
         .attr("y", 80)
         .attr("stroke", "teal")
         .attr("font-size", "10px")
         .attr("font-family", "sans-serif").text(function(d) {
            return d;
         });
      &lt;/script&gt;
   &lt;/body&gt;
&lt;/html&gt;
</pre>
<p>Now, request your browser and following will be the response.</p>
<iframe onload="resizeFrame(this)" class="result" src="/d3js/src/circlecharts.htm" height="150px" width="660px"></iframe>
<h2>Pie Chart</h2>
<p>A pie chart is a circular statistical graph. It is divided into slices to show numerical proportion. Let us understand how to create a pie chart in D3.</p>
<h3>Draw a Pie Chart</h3>
<p>Before starting to draw a pie chart, we need to understand the following two methods &minus;</p>
<ul class="list">
<li>The d3.arc() method and </li>
<li>The d3.pie() method.</li>
</ul>
<p>Let us understand both of these methods in detail.</p>
<p><b>The d3.arc() Method</b> &minus; The d3.arc() method generates an arc. You need to set an inner radius and an outer radius for the arc. If the inner radius is 0, the result will be a pie chart, otherwise the result will be a donut chart, which is discussed in the next section.</p>
<p><b>The d3.pie()Method</b> &minus; The d3.pie() method is used to generate a pie chart. It takes a data from dataset and calculates the start angle and end angle for each wedge of the pie chart.</p>
<p>Let us draw a pie chart using the following steps.</p>
<p><b>Step 1</b> &minus; <b>Applying styles</b> &minus; Let us apply the following style to an arc element.</p>
<pre class="prettyprint notranslate">
.arc text {
   font: 12px arial;
   text-anchor: middle;
}

.arc path {
   stroke: #fff;
}

.title {
   fill: green;
   font-weight: italic;
}
</pre>
<p>Here, fill is used to apply colors. A text-anchor is used to position the text towards the center of an arc.</p>
<p><b>Step 2</b> &minus; <b>Define variables</b> &minus; Define the variables in the script as shown below.</p>
<pre class="prettyprint notranslate">
&lt;script&gt;
   var svg = d3.select("svg"),
      width = svg.attr("width"),
      height = svg.attr("height"),
      radius = Math.min(width, height) / 2;
&lt;/script&gt;
</pre>
<p>Here,</p>
<ul class="list">
<li><p><b>Width</b> &minus; Width of the SVG.</p></li>
<li><p><b>Height</b> &minus; Height of the SVG.</p></li>
<li><p><b>Radius</b> &minus; It can be calculated using the function of Math.min(width, height) / 2;</p></li>
</ul>
<p><b>Step 3</b> &minus; <b>Apply Transformation</b> &minus; Apply the following transformation in SVG using the following code.</p>
<pre class="prettyprint notranslate">
var g = svg.append("g")
   .attr("transform", "translate(" + width / 2 + "," + height / 2 + ")");
</pre>
<p>Now add colors using the <b>d3.scaleOrdinal</b> function as given below.</p>
<pre class="prettyprint notranslate">
var color = d3.scaleOrdinal(['gray', 'green', 'brown', 'orange']);
</pre>
<p><b>Step 4</b> &minus; <b>Generate a pie chart</b> &minus; Now, generate a pie chart using the function given below.</p>
<pre class="prettyprint notranslate">
var pie = d3.pie()
   .value(function(d) { return d.percent; });
</pre>
<p>Here, you can plot the percentage values. An anonymous function is required to return <b>d.percent</b> and set it as the pie value.</p>
<p><b>Step 5</b> &minus; <b>Define arcs for pie wedges</b> &minus; After generating the pie chart, now define arc for each pie wedges using the function given below.</p>
<pre class="prettyprint notranslate">
var arc = d3.arc()
   .outerRadius(radius)
   .innerRadius(0);
</pre>
<p>Here, this arc will be set to the path elements. The calculated radius is set to outerradius, while the innerradius is set to 0.</p>
<p><b>Step 6</b> &minus; <b>Add labels in wedges</b> &minus; Add the labels in pie wedges by providing the radius. It is defined as follows.</p>
<pre class="prettyprint notranslate">
var label = d3
   .arc()
   .outerRadius(radius)
   .innerRadius(radius - 80);
</pre>
<p><b>Step 7</b> &minus; <b>Read data</b> &minus; This is an important step. We can read data using the function given below.</p>
<pre class="prettyprint notranslate">
d3.csv("populations.csv", function(error, data) {
   if (error) {
      throw error;
   }
});
</pre>
<p>Here, <b>populations.csv</b> contains the data file. The <b>d3.csv</b> function reads data from the dataset. If data is not present, it throws an error. We can include this file in your D3 path.</p>
<p><b>Step 8</b> &minus; <b>Load data</b> &minus; The next step is to load data using the following code.</p>
<pre class="prettyprint notranslate">
var arc = g.selectAll(".arc")
   .data(pie(data))
   .enter()
   .append("g")
   .attr("class", "arc");
</pre>
<p>Here, we can assign data to group elements for each of the data values from the dataset.</p>
<p><b>Step 9</b> &minus; <b>Append path</b> &minus; Now, append path and assign a class ‘arc’ to groups as shown below.</p>
<pre class="prettyprint notranslate">
arcs.append("path")
   .attr("d", arc)
   .attr("fill", function(d) { return color(d.data.states); });
</pre>
<p>Here, fill is used to apply the data color. It is taken from the <b>d3.scaleOrdinal</b> function.</p>
<p><b>Step 10</b> &minus; <b>Append text</b> &minus; To display the text in labels using the following code.</p>
<pre class="prettyprint notranslate">
arc.append("text")
   .attr("transform", function(d) { 
      return "translate(" + label.centroid(d) + ")"; 
   })
.text(function(d) { return d.data.states; });
</pre>      
<p>Here, SVG text element is used to display text in labels. The label arcs that we created earlier using <b>d3.arc()</b> returns a centroid point, which is a position for labels. Finally, we provide data using the <b>d.data.browser</b>.</p>
<p><b>Step 11</b> &minus; <b>Append group elements</b> &minus; Append group elements attributes and add class title to color the text and make it italic, which is specified in Step 1 and is defined below.</p>
<pre class="prettyprint notranslate">
svg.append("g")
   .attr("transform", "translate(" + (width / 2 - 120) + "," + 20 + ")")
   .append("text")
   .text("Top population states in india")
   .attr("class", "title")
</pre>
<p><b>Step 12</b> &minus; <b>Working Example</b> &minus; To draw a pie chart, we can take a dataset of Indian population. This dataset shows the population in a dummy website, which is defined as follows.</p>
<p><b>population.csv</b></p>
<pre class="result notranslate">
states,percent
UP,80.00
Maharastra,70.00
Bihar,65.0
MP,60.00
Gujarat,50.0
WB,49.0
TN,35.0
</pre>
<p>Let us create a pie chart visualization for the above dataset. Create a webpage “piechart.html” and add the following code in it.</p>
<pre class="prettyprint notranslate">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
   &lt;head&gt;
      &lt;style&gt;
         .arc text {
            font: 12px arial;
            text-anchor: middle;
         }
         
         .arc path {
            stroke: #fff;
         }
        
        .title {
            fill: green;
            font-weight: italic;
         }
      &lt;/style&gt;
      
      &lt;script type = "text/javascript" src = "https://d3js.org/d3.v4.min.js"&gt;&lt;/script&gt;
   &lt;/head&gt;

   &lt;body&gt;
      &lt;svg width = "400" height = "400"&gt;&lt;/svg&gt;
      &lt;script&gt;
         var svg = d3.select("svg"),
            width = svg.attr("width"),
            height = svg.attr("height"),
            radius = Math.min(width, height) / 2;
        
         var g = svg.append("g")
            .attr("transform", "translate(" + width / 2 + "," + height / 2 + ")");

         var color = d3.scaleOrdinal([
            'gray', 'green', 'brown', 'orange', 'yellow', 'red', 'purple'
         ]);
         
         var pie = d3.pie().value(function(d) { 
            return d.percent; 
         });
         
         var path = d3.arc()
            .outerRadius(radius - 10).innerRadius(0);
        
         var label = d3.arc()
            .outerRadius(radius).innerRadius(radius - 80);
         
         d3.csv("populations.csv", function(error, data) {
            if (error) {
               throw error;
            }
            
            var arc = g.selectAll(".arc")
               .data(pie(data))
               .enter()
               .append("g")
               .attr("class", "arc");
            
            arc.append("path")
               .attr("d", path)
               .attr("fill", function(d) { return color(d.data.states); });
        
            console.log(arc)
        
            arc.append("text").attr("transform", function(d) { 
               return "translate(" + label.centroid(d) + ")"; 
            })
            
            .text(function(d) { return d.data.states; });
         });
         
         svg.append("g")
            .attr("transform", "translate(" + (width / 2 - 120) + "," + 20 + ")")
            .append("text").text("Top population states in india")
            .attr("class", "title")
      &lt;/script&gt;
   &lt;/body&gt;
&lt;/html&gt;
</pre>
<!--<p>Now refresh the browser and we will see the following response.</p>
<iframe onload="resizeFrame(this)" class="result" src="/d3js/src/piechart.htm" height="150px" width="660px"></iframe>
<img src="/d3js/images/piecharts.jpg" alt="piechart" />
<h2>Donut Chart</h2>
<p>Donut or Doughnut chart is just a simple pie chart with a hole inside. We can define the hole radius to any size you need, both in percent or pixels. We can create a donut chart instead of a pie chart. Change the inner radius of the arc to use a value greater than zero. It is defined as follows.</p>
<pre class="prettyprint notranslate">
var arc = d3.arc()
   .outerRadius(radius)
   .innerRadius(100);
</pre>
<p>Same as the pie chart coding and with a slightly changed inner radius, we can generate a donut chart. Create a webpage <b>dounutchart.html</b> and add the following changes in it.</p>
<h3>Donutchart.html</h3>
<pre class="prettyprint notranslate">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
   &lt;head&gt;
      &lt;style&gt;
         .arc text {
            font: 12px arial;
            text-anchor: middle;
         }
        
         .arc path {
            stroke: #fff;
         }
        
         .title {
            fill: green;
            font-weight: italic;
         }
      &lt;/style&gt;
      &lt;script type = "text/javascript" src = "https://d3js.org/d3.v4.min.js"&gt;&lt;/script&gt;
   &lt;/head&gt;

   &lt;body&gt;
      &lt;svg width = "400" height = "400"&gt;&lt;/svg&gt;
      &lt;script&gt;
         var svg = d3.select("svg"),
            width = svg.attr("width"),
            height = svg.attr("height"),
            radius = Math.min(width, height) / 2;
        
         var g = svg.append("g")
            .attr("transform", "translate(" + width / 2 + "," + height / 2 + ")");
        
         var color = d3.scaleOrdinal([
            'gray', 'green', 'brown', 'orange', 'yellow', 'red', 'purple'
         ]);
        
         var pie = d3.pie().value(function(d) { 
            return d.percent; 
         });
        
         var path = d3.arc()
            .outerRadius(radius)
            .innerRadius(100);
        
         var label = d3.arc()
            .outerRadius(radius)
            .innerRadius(radius - 80);
        
         d3.csv("populations.csv", function(error, data) {
            if (error) {
               throw error;
            }
            
            var arc = g.selectAll(".arc")
               .data(pie(data))
               .enter()
               .append("g")
               .attr("class", "arc");
               arc.append("path")
                  .attr("d", path)
                  .attr("fill", function(d) { return color(d.data.states); });
           
               console.log(arc)
           
               arc.append("text")
                  .attr("transform", function(d) { 
                     return "translate(" + label.centroid(d) + ")"; 
                   })
                  .text(function(d) { return d.data.states; });
         });
         
         svg.append("g")
            .attr("transform", "translate(" + (width / 2 - 120) + "," + 20 + ")")
            .append("text")
            .attr("class", "title")
      &lt;/script&gt;
   &lt;/body&gt;
&lt;/html&gt;
</pre>
<p>Here, we have changed the path variable as &minus;</p>
<pre class="prettyprint notranslate">
var path = d3.arc()
   .outerRadius(radius)
   .innerRadius(100);
</pre>
<p>We set the innerRadius value&gt;0 to generate a donut chart. Now, request the browser and we can see the following response.</p>
<iframe onload="resizeFrame(this)" class="result" src="/d3js/src/donut.htm" height="150px" width="660px"></iframe>
<img src="/d3js/images/donut_chart.jpg" alt="Donut Chart" />
<div class="mui-container-fluid button-borders show">
<div class="pre-btn">
<a href="/d3js/d3js_animation.htm"><i class="fal fa-chevron-circle-left"></i> Previous Page</a>
</div>
<div class="nxt-btn">
<a href="/d3js/d3js_graphs.htm">Next Page <i class="fal fa-chevron-circle-right"></i>&nbsp;</a>
</div>
</div>
<div class="google-bottom-ads">
<div>Advertisements</div>
<script><!--
var width = 580;
var height = 400;
var format = "580x400_as";
if( window.innerWidth < 468 ){
   width = 300;
   height = 250;
   format = "300x250_as";
}
google_ad_client = "pub-7133395778201029";
google_ad_width = width;
google_ad_height = height;
google_ad_format = format;
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
<div class="space-bottom"></div>
</div>
</div>
<!-- Tutorial Content Ends Here -->
<!-- Right Column Starts Here -->
<div class="mui-col-md-2 google-right-ads">
<div class="space-top"></div>
<div class="google-right-ad" style="margin: 0px auto !important;margin-top:5px;">
<script><!--
google_ad_client = "pub-2537027957187252";
google_ad_width = 300;
google_ad_height = 250;
google_ad_format = "300x250_as";
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>
<div class="google-right-ad">
<div class="adsbyvli" data-ad-slot="vi_9012177"></div>
<script>(vitag.Init = window.vitag.Init || []).push(function(){viAPItag.display("vi_9012177")})</script>
</div>
<div class="space-bottom"></div>
<div class="google-right-ad">
<div class="adsbyvli" data-ad-slot="vi_9013289"></div>
<script>(vitag.Init = window.vitag.Init || []).push(function(){viAPItag.display("vi_9013289")})</script>
</div>
<div class="space-bottom" style="margin-bottom:15px;"></div>
</div>
<!-- Right Column Ends Here -->
</div>
</div>
<div class="clear"></div>
<footer id="footer">
<div class="mui--text-center">
<div class="mui--text-caption mui--text-light">
<a href="/index.htm" class="logo"><img class="img-responsive" src="/images/logo-black.png" alt="Tutorials Point" title="Tutorials Point"></a>
</div>
<ul class="mui-list--inline mui--text-body2 mui--text-light">
<li><a href="/about/index.htm"><i class="fal fa-globe"></i> About us</a></li>
<li><a href="/about/about_terms_of_use.htm"><i class="fal fa-asterisk"></i> Terms of use</a></li>
<li><a href="/about/about_privacy.htm#cookies"> <i class="fal fa-shield-check"></i> Cookies Policy</a></li>
<li><a href="/about/faq.htm"><i class="fal fa-question-circle"></i> FAQ's</a></li>
<li><a href="/about/about_helping.htm"><i class="fal fa-hands-helping"></i> Helping</a></li>
<li><a href="/about/contact_us.htm"><i class="fal fa-map-marker-alt"></i> Contact</a></li>
</ul>
<div class="mui--text-caption mui--text-light bottom-copyright-text">&copy; Copyright 2019. All Rights Reserved.</div>
</div>
<div id="privacy-banner">
  <div>
    <p>
      We use cookies to provide and improve our services. By using our site, you consent to our Cookies Policy.
      <a id="banner-accept" href="#">Accept</a>
      <a id="banner-learn" href="/about/about_cookies.htm" target="_blank">Learn more</a>
    </p>
  </div>
</div>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-232293-17"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-232293-6');
</script>
</footer>
</body>
</html>
